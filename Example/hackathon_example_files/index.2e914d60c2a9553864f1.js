(()=>{var e={2412:function(e,t,n){n(9928),n(2358),n(9419),n(3154),e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",a="minute",o="hour",s="day",l="week",u="month",c="quarter",d="year",h="date",p="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},_=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:_,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+_(r,2,"0")+":"+_(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,u),a=n-i<0,o=t.clone().add(r+(a?-1:1),u);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:s,D:h,h:o,m:a,s:i,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=f;var E=function(e){return e instanceof k},w=function(e,t,n){var r;if(!e)return y;if("string"==typeof e)b[e]&&(r=e),t&&(b[e]=t,r=e);else{var i=e.name;b[i]=e,r=i}return!n&&r&&(y=r),r||!n&&y},S=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},C=g;C.l=w,C.i=E,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function f(e){this.$L=w(e.locale,null,!0),this.parse(e)}var _=f.prototype;return _.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(v);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},_.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},_.$utils=function(){return C},_.isValid=function(){return!(this.$d.toString()===p)},_.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},_.isAfter=function(e,t){return S(e)<this.startOf(t)},_.isBefore=function(e,t){return this.endOf(t)<S(e)},_.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(e,t){var n=this,r=!!C.u(t)||t,c=C.p(e),p=function(e,t){var i=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},v=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,f=this.$M,_=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case d:return r?p(1,0):p(31,11);case u:return r?p(1,f):p(0,f+1);case l:var y=this.$locale().weekStart||0,b=(m<y?m+7:m)-y;return p(r?_-b:_+(6-b),f);case s:case h:return v(g+"Hours",0);case o:return v(g+"Minutes",1);case a:return v(g+"Seconds",2);case i:return v(g+"Milliseconds",3);default:return this.clone()}},_.endOf=function(e){return this.startOf(e,!1)},_.$set=function(e,t){var n,l=C.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[s]=c+"Date",n[h]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[o]=c+"Hours",n[a]=c+"Minutes",n[i]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],v=l===s?this.$D+(t-this.$W):t;if(l===u||l===d){var m=this.clone().set(h,1);m.$d[p](v),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](v);return this.init(),this},_.set=function(e,t){return this.clone().$set(e,t)},_.get=function(e){return this[C.p(e)]()},_.add=function(r,c){var h,p=this;r=Number(r);var v=C.p(c),m=function(e){var t=S(p);return C.w(t.date(t.date()+Math.round(e*r)),p)};if(v===u)return this.set(u,this.$M+r);if(v===d)return this.set(d,this.$y+r);if(v===s)return m(1);if(v===l)return m(7);var f=(h={},h[a]=t,h[o]=n,h[i]=e,h)[v]||1,_=this.$d.getTime()+r*f;return C.w(_,this)},_.subtract=function(e,t){return this.add(-1*e,t)},_.format=function(e){var t=this;if(!this.isValid())return p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=C.z(this),i=this.$locale(),a=this.$H,o=this.$m,s=this.$M,l=i.weekdays,u=i.months,c=function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].substr(0,a)},d=function(e){return C.s(a%12||12,e,"0")},h=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:C.s(s+1,2,"0"),MMM:c(i.monthsShort,s,u,3),MMMM:c(u,s),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,l,2),ddd:c(i.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:C.s(a,2,"0"),h:d(1),hh:d(2),a:h(a,o,!0),A:h(a,o,!1),m:String(o),mm:C.s(o,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:r};return n.replace(m,(function(e,t){return t||v[e]||r.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(r,h,p){var v,m=C.p(h),f=S(r),_=(f.utcOffset()-this.utcOffset())*t,g=this-f,y=C.m(this,f);return y=(v={},v[d]=y/12,v[u]=y,v[c]=y/3,v[l]=(g-_)/6048e5,v[s]=(g-_)/864e5,v[o]=g/n,v[a]=g/t,v[i]=g/e,v)[m]||g,p?y:C.a(y)},_.daysInMonth=function(){return this.endOf(u).$D},_.$locale=function(){return b[this.$L]},_.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},_.clone=function(){return C.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},f}(),A=k.prototype;return S.prototype=A,[["$ms",r],["$s",i],["$m",a],["$H",o],["$W",s],["$M",u],["$y",d],["$D",h]].forEach((function(e){A[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,k,S),e.$i=!0),S},S.locale=w,S.isDayjs=E,S.unix=function(e){return S(1e3*e)},S.en=b[y],S.Ls=b,S.p={},S}()},6187:function(e,t,n){n(8995),n(9928),n(2358),n(9419),n(7821),n(3154),e.exports=function(){"use strict";var e,t,n=1e3,r=6e4,i=36e5,a=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,s=31536e6,l=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c={years:s,months:l,days:a,hours:i,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},d=function(e){return e instanceof g},h=function(e,t,n){return new g(e,n,t.$l)},p=function(e){return t.p(e)+"s"},v=function(e){return e<0},m=function(e){return v(e)?Math.ceil(e):Math.floor(e)},f=function(e){return Math.abs(e)},_=function(e,t){return e?v(e)?{negative:!0,format:""+f(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},g=function(){function v(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return h(e*c[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[p(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var i=e.match(u);if(i){var a=i.slice(2).map((function(e){return Number(e)}));return this.$d.years=a[0],this.$d.months=a[1],this.$d.weeks=a[2],this.$d.days=a[3],this.$d.hours=a[4],this.$d.minutes=a[5],this.$d.seconds=a[6],this.calMilliseconds(),this}}return this}var f=v.prototype;return f.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*c[n]}),0)},f.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=m(e/s),e%=s,this.$d.months=m(e/l),e%=l,this.$d.days=m(e/a),e%=a,this.$d.hours=m(e/i),e%=i,this.$d.minutes=m(e/r),e%=r,this.$d.seconds=m(e/n),e%=n,this.$d.milliseconds=e},f.toISOString=function(){var e=_(this.$d.years,"Y"),t=_(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=_(n,"D"),i=_(this.$d.hours,"H"),a=_(this.$d.minutes,"M"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var s=_(o,"S"),l=e.negative||t.negative||r.negative||i.negative||a.negative||s.negative,u=i.format||a.format||s.format?"T":"",c=(l?"-":"")+"P"+e.format+t.format+r.format+u+i.format+a.format+s.format;return"P"===c||"-P"===c?"P0D":c},f.toJSON=function(){return this.toISOString()},f.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(o,(function(e,t){return t||String(r[e])}))},f.as=function(e){return this.$ms/c[p(e)]},f.get=function(e){var t=this.$ms,n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?m(t/c[n]):this.$d[n],0===t?0:t},f.add=function(e,t,n){var r;return r=t?e*c[p(t)]:d(e)?e.$ms:h(e,this).$ms,h(this.$ms+r*(n?-1:1),this)},f.subtract=function(e,t){return this.add(e,t,!0)},f.locale=function(e){var t=this.clone();return t.$l=e,t},f.clone=function(){return h(this.$ms,this)},f.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},f.milliseconds=function(){return this.get("milliseconds")},f.asMilliseconds=function(){return this.as("milliseconds")},f.seconds=function(){return this.get("seconds")},f.asSeconds=function(){return this.as("seconds")},f.minutes=function(){return this.get("minutes")},f.asMinutes=function(){return this.as("minutes")},f.hours=function(){return this.get("hours")},f.asHours=function(){return this.as("hours")},f.days=function(){return this.get("days")},f.asDays=function(){return this.as("days")},f.weeks=function(){return this.get("weeks")},f.asWeeks=function(){return this.as("weeks")},f.months=function(){return this.get("months")},f.asMonths=function(){return this.as("months")},f.years=function(){return this.get("years")},f.asYears=function(){return this.as("years")},v}();return function(n,r,i){e=i,t=i().$utils(),i.duration=function(e,t){var n=i.locale();return h(e,{$l:n},t)},i.isDuration=d;var a=r.prototype.add,o=r.prototype.subtract;r.prototype.add=function(e,t){return d(e)&&(e=e.asMilliseconds()),a.bind(this)(e,t)},r.prototype.subtract=function(e,t){return d(e)&&(e=e.asMilliseconds()),o.bind(this)(e,t)}}}()},5374:function(e,t,n){var r;e=n.nmd(e),n(9024),n(9139),n(2946),n(7877),n(2195),n(4401),n(8995),n(5564),n(5745),n(1086),n(3867),n(1631),n(914),n(2358),n(4),n(2034),n(975),n(9419),n(8471),n(3923),n(4270),n(1433),n(1e3),n(9020),n(7821),n(752),n(3154),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,d=128,h=256,p=1/0,v=9007199254740991,m=NaN,f=4294967295,_=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",h]],g="[object Arguments]",y="[object Array]",b="[object Boolean]",E="[object Date]",w="[object Error]",S="[object Function]",C="[object GeneratorFunction]",k="[object Map]",A="[object Number]",P="[object Object]",I="[object Promise]",T="[object RegExp]",R="[object Set]",x="[object String]",L="[object Symbol]",O="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",D="[object Float32Array]",F="[object Float64Array]",B="[object Int8Array]",H="[object Int16Array]",V="[object Int32Array]",U="[object Uint8Array]",j="[object Uint8ClampedArray]",W="[object Uint16Array]",z="[object Uint32Array]",$=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Q=RegExp(q.source),Z=RegExp(Y.source),X=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ce="\\ud800-\\udfff",ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ae="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xe="['’]",Le="["+Ce+"]",Oe="["+Re+"]",Ne="["+ke+"]",Me="\\d+",De="["+Ae+"]",Fe="["+Pe+"]",Be="[^"+Ce+Re+Me+Ae+Pe+Ie+"]",He="\\ud83c[\\udffb-\\udfff]",Ve="[^"+Ce+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Ie+"]",ze="\\u200d",$e="(?:"+Fe+"|"+Be+")",Ge="(?:"+We+"|"+Be+")",Ke="(?:['’](?:d|ll|m|re|s|t|ve))?",qe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Ne+"|"+He+")"+"?",Qe="["+Te+"]?",Ze=Qe+Ye+("(?:"+ze+"(?:"+[Ve,Ue,je].join("|")+")"+Qe+Ye+")*"),Xe="(?:"+[De,Ue,je].join("|")+")"+Ze,Je="(?:"+[Ve+Ne+"?",Ne,Ue,je,Le].join("|")+")",et=RegExp(xe,"g"),tt=RegExp(Ne,"g"),nt=RegExp(He+"(?="+He+")|"+Je+Ze,"g"),rt=RegExp([We+"?"+Fe+"+"+Ke+"(?="+[Oe,We,"$"].join("|")+")",Ge+"+"+qe+"(?="+[Oe,We+$e,"$"].join("|")+")",We+"?"+$e+"+"+Ke,We+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Xe].join("|"),"g"),it=RegExp("["+ze+Ce+ke+Te+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[D]=lt[F]=lt[B]=lt[H]=lt[V]=lt[U]=lt[j]=lt[W]=lt[z]=!0,lt[g]=lt[y]=lt[N]=lt[b]=lt[M]=lt[E]=lt[w]=lt[S]=lt[k]=lt[A]=lt[P]=lt[T]=lt[R]=lt[x]=lt[O]=!1;var ut={};ut[g]=ut[y]=ut[N]=ut[M]=ut[b]=ut[E]=ut[D]=ut[F]=ut[B]=ut[H]=ut[V]=ut[k]=ut[A]=ut[P]=ut[T]=ut[R]=ut[x]=ut[L]=ut[U]=ut[j]=ut[W]=ut[z]=!0,ut[w]=ut[S]=ut[O]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,vt="object"==typeof self&&self&&self.Object===Object&&self,mt=pt||vt||Function("return this")(),ft=t&&!t.nodeType&&t,_t=ft&&e&&!e.nodeType&&e,gt=_t&&_t.exports===ft,yt=gt&&pt.process,bt=function(){try{var e=_t&&_t.require&&_t.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(e){}}(),Et=bt&&bt.isArrayBuffer,wt=bt&&bt.isDate,St=bt&&bt.isMap,Ct=bt&&bt.isRegExp,kt=bt&&bt.isSet,At=bt&&bt.isTypedArray;function Pt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function It(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Ot(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Bt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ht(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=Kt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Wt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,$t,n)}function zt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function $t(e){return e!=e}function Gt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:m}function Kt(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Qt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,fn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Mt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}var an=qt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),on=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function ln(e){return it.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[i++]=n)}return a}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function vn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Vt(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var _n=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n,r=(t=null==t?mt:gn.defaults(mt.Object(),t,gn.pick(mt,ot))).Array,se=t.Date,Ce=t.Error,ke=t.Function,Ae=t.Math,Pe=t.Object,Ie=t.RegExp,Te=t.String,Re=t.TypeError,xe=r.prototype,Le=ke.prototype,Oe=Pe.prototype,Ne=t["__core-js_shared__"],Me=Le.toString,De=Oe.hasOwnProperty,Fe=0,Be=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",He=Oe.toString,Ve=Me.call(Pe),Ue=mt._,je=Ie("^"+Me.call(De).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=gt?t.Buffer:i,ze=t.Symbol,$e=t.Uint8Array,Ge=We?We.allocUnsafe:i,Ke=cn(Pe.getPrototypeOf,Pe),qe=Pe.create,Ye=Oe.propertyIsEnumerable,Qe=xe.splice,Ze=ze?ze.isConcatSpreadable:i,Xe=ze?ze.iterator:i,Je=ze?ze.toStringTag:i,nt=function(){try{var e=ha(Pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ct=se&&se.now!==mt.Date.now&&se.now,pt=t.setTimeout!==mt.setTimeout&&t.setTimeout,vt=Ae.ceil,ft=Ae.floor,_t=Pe.getOwnPropertySymbols,yt=We?We.isBuffer:i,bt=t.isFinite,Vt=xe.join,qt=cn(Pe.keys,Pe),yn=Ae.max,bn=Ae.min,En=se.now,wn=t.parseInt,Sn=Ae.random,Cn=xe.reverse,kn=ha(t,"DataView"),An=ha(t,"Map"),Pn=ha(t,"Promise"),In=ha(t,"Set"),Tn=ha(t,"WeakMap"),Rn=ha(Pe,"create"),xn=Tn&&new Tn,Ln={},On=Ba(kn),Nn=Ba(An),Mn=Ba(Pn),Dn=Ba(In),Fn=Ba(Tn),Bn=ze?ze.prototype:i,Hn=Bn?Bn.valueOf:i,Vn=Bn?Bn.toString:i;function Un(e){if(ns(e)&&!$o(e)&&!(e instanceof $n)){if(e instanceof zn)return e;if(De.call(e,"__wrapped__"))return Ha(e)}return new zn(e)}var jn=function(){function e(){}return function(t){if(!ts(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Wn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function $n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Kn(e);this.size=t.size}function Zn(e,t){var n=$o(e),r=!n&&zo(e),i=!n&&!r&&Yo(e),a=!n&&!r&&!i&&cs(e),o=n||r||i||a,s=o?Zt(e.length,Te):[],l=s.length;for(var u in e)!t&&!De.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ya(u,l))||s.push(u);return s}function Xn(e){var t=e.length;return t?e[Yr(0,t-1)]:i}function Jn(e,t){return Ma(Ri(e),lr(t,0,e.length))}function er(e){return Ma(Ri(e))}function tr(e,t,n){(n!==i&&!Uo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];De.call(e,t)&&Uo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Uo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&xi(t,Ls(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,a=t.length,o=r(a),s=null==e;++n<a;)o[n]=s?i:Ps(e,t[n]);return o}function lr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ur(e,t,n,r,a,o){var s,l=1&t,u=2&t,c=4&t;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!ts(e))return e;var d=$o(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ri(e,s)}else{var h=ma(e),p=h==S||h==C;if(Yo(e))return Ci(e,l);if(h==P||h==g||p&&!a){if(s=u||p?{}:_a(e),!l)return u?function(e,t){return xi(e,va(e),t)}(e,function(e,t){return e&&xi(t,Os(t),e)}(s,e)):function(e,t){return xi(e,pa(e),t)}(e,ar(s,e))}else{if(!ut[h])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case N:return ki(e);case b:case E:return new r(+e);case M:return function(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case F:case B:case H:case V:case U:case j:case W:case z:return Ai(e,n);case k:return new r;case A:case x:return new r(e);case T:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case L:return i=e,Hn?Pe(Hn.call(i)):{}}var i}(e,h,l)}}o||(o=new Qn);var v=o.get(e);if(v)return v;o.set(e,s),ss(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,o))})):rs(e)&&e.forEach((function(r,i){s.set(i,ur(r,t,n,i,e,o))}));var m=d?i:(c?u?aa:ia:u?Os:Ls)(e);return Tt(m||e,(function(r,i){m&&(r=e[i=r]),nr(s,i,ur(r,t,n,i,e,o))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Pe(e);r--;){var a=n[r],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Re(a);return xa((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,a=Ot,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Mt(t,Jt(n))),r?(a=Nt,o=!1):t.length>=200&&(a=tn,o=!1,t=new Yn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;l.push(c)}else a(t,d,r)||l.push(c)}return l}Un.templateSettings={escape:X,evaluate:J,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Wn.prototype,Un.prototype.constructor=Un,zn.prototype=jn(Wn.prototype),zn.prototype.constructor=zn,$n.prototype=jn(Wn.prototype),$n.prototype.constructor=$n,Gn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===o?i:n}return De.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==i:De.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===i?o:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return rr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(An||Kn),string:new Gn}},qn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return ca(this,e).get(e)},qn.prototype.has=function(e){return ca(this,e).has(e)},qn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,o),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!An||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var pr=Ni(Er),vr=Ni(wr,!0);function mr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function fr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(l===i?s==s&&!us(s):n(s,l)))var l=s,u=o}return u}function _r(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ga),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?gr(s,t-1,n,r,i):Dt(i,s):r||(i[i.length]=s)}return i}var yr=Mi(),br=Mi(!0);function Er(e,t){return e&&yr(e,t,Ls)}function wr(e,t){return e&&br(e,t,Ls)}function Sr(e,t){return Lt(t,(function(t){return Xo(e[t])}))}function Cr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Fa(t[n++])];return n&&n==r?e:i}function kr(e,t,n){var r=t(e);return $o(e)?r:Dt(r,n(e))}function Ar(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Pe(e)?function(e){var t=De.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(e){}var a=He.call(e);r&&(t?e[Je]=n:delete e[Je]);return a}(e):function(e){return He.call(e)}(e)}function Pr(e,t){return e>t}function Ir(e,t){return null!=e&&De.call(e,t)}function Tr(e,t){return null!=e&&t in Pe(e)}function Rr(e,t,n){for(var a=n?Nt:Ot,o=e[0].length,s=e.length,l=s,u=r(s),c=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Mt(h,Jt(t))),c=bn(h.length,c),u[l]=!n&&(t||o>=120&&h.length>=120)?new Yn(l&&h):i}h=e[0];var p=-1,v=u[0];e:for(;++p<o&&d.length<c;){var m=h[p],f=t?t(m):m;if(m=n||0!==m?m:0,!(v?tn(v,f):a(d,f,n))){for(l=s;--l;){var _=u[l];if(!(_?tn(_,f):a(e[l],f,n)))continue e}v&&v.push(f),d.push(m)}}return d}function xr(e,t,n){var r=null==(e=Ia(e,t=bi(t,e)))?e:e[Fa(Qa(t))];return null==r?i:Pt(r,e,n)}function Lr(e){return ns(e)&&Ar(e)==g}function Or(e,t,n,r,a){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var s=$o(e),l=$o(t),u=s?y:ma(e),c=l?y:ma(t),d=(u=u==g?P:u)==P,h=(c=c==g?P:c)==P,p=u==c;if(p&&Yo(e)){if(!Yo(t))return!1;s=!0,d=!1}if(p&&!d)return o||(o=new Qn),s||cs(e)?na(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!a(new $e(e),new $e(t)));case b:case E:case A:return Uo(+e,+t);case w:return e.name==t.name&&e.message==t.message;case T:case x:return e==t+"";case k:var s=un;case R:var l=1&r;if(s||(s=hn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=na(s(e),s(t),r,i,a,o);return o.delete(e),c;case L:if(Hn)return Hn.call(e)==Hn.call(t)}return!1}(e,t,u,n,r,a,o);if(!(1&n)){var v=d&&De.call(e,"__wrapped__"),m=h&&De.call(t,"__wrapped__");if(v||m){var f=v?e.value():e,_=m?t.value():t;return o||(o=new Qn),a(f,_,n,r,o)}}if(!p)return!1;return o||(o=new Qn),function(e,t,n,r,a,o){var s=1&n,l=ia(e),u=l.length,c=ia(t),d=c.length;if(u!=d&&!s)return!1;var h=u;for(;h--;){var p=l[h];if(!(s?p in t:De.call(t,p)))return!1}var v=o.get(e),m=o.get(t);if(v&&m)return v==t&&m==e;var f=!0;o.set(e,t),o.set(t,e);var _=s;for(;++h<u;){var g=e[p=l[h]],y=t[p];if(r)var b=s?r(y,g,p,t,e,o):r(g,y,p,e,t,o);if(!(b===i?g===y||a(g,y,n,r,o):b)){f=!1;break}_||(_="constructor"==p)}if(f&&!_){var E=e.constructor,w=t.constructor;E==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,a,o)}(e,t,n,r,Or,a))}function Nr(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=Pe(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=n[a])[0],c=e[u],d=l[1];if(s&&l[2]){if(c===i&&!(u in e))return!1}else{var h=new Qn;if(r)var p=r(c,d,u,e,t,h);if(!(p===i?Or(d,c,3,r,h):p))return!1}}return!0}function Mr(e){return!(!ts(e)||(t=e,Be&&Be in t))&&(Xo(e)?je:ge).test(Ba(e));var t}function Dr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?$o(e)?jr(e[0],e[1]):Ur(e):pl(e)}function Fr(e){if(!Ca(e))return qt(e);var t=[];for(var n in Pe(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Pe(e))t.push(n);return t}(e);var t=Ca(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}function Hr(e,t){return e<t}function Vr(e,t){var n=-1,i=Ko(e)?r(e.length):[];return pr(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function Ur(e){var t=da(e);return 1==t.length&&t[0][2]?Aa(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function jr(e,t){return Ea(e)&&ka(t)?Aa(Fa(e),t):function(n){var r=Ps(n,e);return r===i&&r===t?Is(n,e):Or(t,r,3)}}function Wr(e,t,n,r,a){e!==t&&yr(t,(function(o,s){if(a||(a=new Qn),ts(o))!function(e,t,n,r,a,o,s){var l=Ta(e,n),u=Ta(t,n),c=s.get(u);if(c)return void tr(e,n,c);var d=o?o(l,u,n+"",e,t,s):i,h=d===i;if(h){var p=$o(u),v=!p&&Yo(u),m=!p&&!v&&cs(u);d=u,p||v||m?$o(l)?d=l:qo(l)?d=Ri(l):v?(h=!1,d=Ci(u,!0)):m?(h=!1,d=Ai(u,!0)):d=[]:as(u)||zo(u)?(d=l,zo(l)?d=gs(l):ts(l)&&!Xo(l)||(d=_a(u))):h=!1}h&&(s.set(u,d),a(d,u,r,o,s),s.delete(u));tr(e,n,d)}(e,t,s,n,Wr,r,a);else{var l=r?r(Ta(e,s),o,s+"",e,t,a):i;l===i&&(l=o),tr(e,s,l)}}),Os)}function zr(e,t){var n=e.length;if(n)return ya(t+=t<0?n:0,n)?e[t]:i}function $r(e,t,n){t=t.length?Mt(t,(function(e){return $o(e)?function(t){return Cr(t,1===e.length?e[0]:e)}:e})):[il];var r=-1;t=Mt(t,Jt(ua()));var i=Vr(e,(function(e,n,i){var a=Mt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var l=Pi(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Cr(e,o);n(s,o)&&ei(a,bi(o,e),s)}return a}function Kr(e,t,n,r){var i=r?zt:Wt,a=-1,o=t.length,s=e;for(e===t&&(t=Ri(t)),n&&(s=Mt(e,Jt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Qe.call(s,l,1),Qe.call(e,l,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ya(i)?Qe.call(e,i,1):hi(e,i)}}return e}function Yr(e,t){return e+ft(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>v)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return La(Pa(e,t,il),e+"")}function Xr(e){return Xn(Us(e))}function Jr(e,t){var n=Us(e);return Ma(n,lr(t,0,n.length))}function ei(e,t,n,r){if(!ts(e))return e;for(var a=-1,o=(t=bi(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var u=Fa(t[a]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(a!=s){var d=l[u];(c=r?r(d,u,l):i)===i&&(c=ts(d)?d:ya(t[a+1])?[]:{})}nr(l,u,c),l=l[u]}return e}var ti=xn?function(e,t){return xn.set(e,t),e}:il,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ri(e){return Ma(Us(e))}function ii(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!us(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return si(e,t,il,n)}function si(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,l=null===t,u=us(t),c=t===i;a<o;){var d=ft((a+o)/2),h=n(e[d]),p=h!==i,v=null===h,m=h==h,f=us(h);if(s)var _=r||m;else _=c?m&&(r||p):l?m&&p&&(r||!v):u?m&&p&&!v&&(r||!f):!v&&!f&&(r?h<=t:h<t);_?a=d+1:o=d}return bn(o,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Uo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ui(e){return"number"==typeof e?e:us(e)?m:+e}function ci(e){if("string"==typeof e)return e;if($o(e))return Mt(e,ci)+"";if(us(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=Ot,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Nt;else if(a>=200){var u=t?null:Qi(e);if(u)return hn(u);o=!1,i=tn,l=new Yn}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function hi(e,t){return null==(e=Ia(e,t=bi(t,e)))||delete e[Fa(Qa(t))]}function pi(e,t,n,r){return ei(e,t,n(Cr(e,t)),r)}function vi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function mi(e,t){var n=e;return n instanceof $n&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function fi(e,t,n){var i=e.length;if(i<2)return i?di(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],l=-1;++l<i;)l!=a&&(o[a]=hr(o[a]||s,e[l],t,n));return di(gr(o,1),t,n)}function _i(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;){var l=r<o?t[r]:i;n(s,e[r],l)}return s}function gi(e){return qo(e)?e:[]}function yi(e){return"function"==typeof e?e:il}function bi(e,t){return $o(e)?e:Ea(e,t)?[e]:Da(ys(e))}var Ei=Zr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Si=it||function(e){return mt.clearTimeout(e)};function Ci(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function ki(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function Ai(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Pi(e,t){if(e!==t){var n=e!==i,r=null===e,a=e==e,o=us(e),s=t!==i,l=null===t,u=t==t,c=us(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||l&&n&&a||!s&&a||!u)return-1}return 0}function Ii(e,t,n,i){for(var a=-1,o=e.length,s=n.length,l=-1,u=t.length,c=yn(o-s,0),d=r(u+c),h=!i;++l<u;)d[l]=t[l];for(;++a<s;)(h||a<o)&&(d[n[a]]=e[a]);for(;c--;)d[l++]=e[a++];return d}function Ti(e,t,n,i){for(var a=-1,o=e.length,s=-1,l=n.length,u=-1,c=t.length,d=yn(o-l,0),h=r(d+c),p=!i;++a<d;)h[a]=e[a];for(var v=a;++u<c;)h[v+u]=t[u];for(;++s<l;)(p||a<o)&&(h[v+n[s]]=e[a++]);return h}function Ri(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function xi(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),a?or(n,l,u):nr(n,l,u)}return n}function Li(e,t){return function(n,r){var i=$o(n)?It:ir,a=t?t():{};return i(n,e,ua(r,2),a)}}function Oi(e){return Zr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&ba(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=Pe(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Ni(e,t){return function(n,r){if(null==n)return n;if(!Ko(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Pe(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Mi(e){return function(t,n,r){for(var i=-1,a=Pe(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Di(e){return function(t){var n=ln(t=ys(t))?mn(t):i,r=n?n[0]:t.charAt(0),a=n?wi(n,1).join(""):t.slice(1);return r[e]()+a}}function Fi(e){return function(t){return Ft(Xs(zs(t).replace(et,"")),e,"")}}function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Hi(e){return function(t,n,r){var a=Pe(t);if(!Ko(t)){var o=ua(n,3);t=Ls(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function Vi(e){return ra((function(t){var n=t.length,r=n,o=zn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Re(a);if(o&&!l&&"wrapper"==sa(s))var l=new zn([],!0)}for(r=l?r:n;++r<n;){var u=sa(s=t[r]),c="wrapper"==u?oa(s):i;l=c&&wa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[sa(c[0])].apply(l,c[3]):1==s.length&&wa(s)?l[u]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&$o(r))return l.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Ui(e,t,n,a,o,s,l,u,c,h){var p=t&d,v=1&t,m=2&t,f=24&t,_=512&t,g=m?i:Bi(e);return function d(){for(var y=arguments.length,b=r(y),E=y;E--;)b[E]=arguments[E];if(f)var w=la(d),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,w);if(a&&(b=Ii(b,a,o,f)),s&&(b=Ti(b,s,l,f)),y-=S,f&&y<h){var C=dn(b,w);return qi(e,t,Ui,d.placeholder,n,b,C,u,c,h-y)}var k=v?n:this,A=m?k[e]:e;return y=b.length,u?b=function(e,t){var n=e.length,r=bn(t.length,n),a=Ri(e);for(;r--;){var o=t[r];e[r]=ya(o,n)?a[o]:i}return e}(b,u):_&&y>1&&b.reverse(),p&&c<y&&(b.length=c),this&&this!==mt&&this instanceof d&&(A=g||Bi(A)),A.apply(k,b)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return Er(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Wi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=ui(n),r=ui(r)),a=e(n,r)}return a}}function zi(e){return ra((function(t){return t=Mt(t,Jt(ua())),Zr((function(n){var r=this;return e(t,(function(e){return Pt(e,r,n)}))}))}))}function $i(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,vt(e/vn(t)));return ln(t)?wi(mn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,n,a){return a&&"number"!=typeof a&&ba(t,n,a)&&(n=a=i),t=vs(t),n===i?(n=t,t=0):n=vs(n),function(e,t,n,i){for(var a=-1,o=yn(vt((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,a=a===i?t<n?1:-1:vs(a),e)}}function Ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=_s(t),n=_s(n)),e(t,n)}}function qi(e,t,n,r,a,o,s,l,d,h){var p=8&t;t|=p?u:c,4&(t&=~(p?c:u))||(t&=-4);var v=[e,t,a,p?o:i,p?s:i,p?i:o,p?i:s,l,d,h],m=n.apply(i,v);return wa(e)&&Ra(m,v),m.placeholder=r,Oa(m,e,t)}function Yi(e){var t=Ae[e];return function(e,n){if(e=_s(e),(n=null==n?0:bn(ms(n),292))&&bt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=In&&1/hn(new In([,-0]))[1]==p?function(e){return new In(e)}:ul;function Zi(e){return function(t){var n=ma(t);return n==k?un(t):n==R?pn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,n,o,p,v,m,f){var _=2&t;if(!_&&"function"!=typeof e)throw new Re(a);var g=o?o.length:0;if(g||(t&=-97,o=p=i),m=m===i?m:yn(ms(m),0),f=f===i?f:ms(f),g-=p?p.length:0,t&c){var y=o,b=p;o=p=i}var E=_?i:oa(e),w=[e,t,n,o,p,y,b,v,m,f];if(E&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Ii(u,l,t[4]):l,e[4]=u?dn(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Ti(u,l,t[6]):l,e[6]=u?dn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,E),e=w[0],t=w[1],n=w[2],o=w[3],p=w[4],!(f=w[9]=w[9]===i?_?0:e.length:yn(w[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,n){var a=Bi(e);return function o(){for(var s=arguments.length,l=r(s),u=s,c=la(o);u--;)l[u]=arguments[u];var d=s<3&&l[0]!==c&&l[s-1]!==c?[]:dn(l,c);return(s-=d.length)<n?qi(e,t,Ui,o.placeholder,i,l,d,i,i,n-s):Pt(this&&this!==mt&&this instanceof o?a:e,this,l)}}(e,t,f):t!=u&&33!=t||p.length?Ui.apply(i,w):function(e,t,n,i){var a=1&t,o=Bi(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=i.length,d=r(c+l),h=this&&this!==mt&&this instanceof t?o:e;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++s];return Pt(h,a?n:this,d)}}(e,t,n,o);else var S=function(e,t,n){var r=1&t,i=Bi(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Oa((E?ti:Ra)(S,w),e,t)}function Ji(e,t,n,r){return e===i||Uo(e,Oe[n])&&!De.call(r,n)?t:e}function ea(e,t,n,r,a,o){return ts(e)&&ts(t)&&(o.set(t,e),Wr(e,t,i,ea,o),o.delete(t)),e}function ta(e){return as(e)?i:e}function na(e,t,n,r,a,o){var s=1&n,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var h=-1,p=!0,v=2&n?new Yn:i;for(o.set(e,t),o.set(t,e);++h<l;){var m=e[h],f=t[h];if(r)var _=s?r(f,m,h,t,e,o):r(m,f,h,e,t,o);if(_!==i){if(_)continue;p=!1;break}if(v){if(!Ht(t,(function(e,t){if(!tn(v,t)&&(m===e||a(m,e,n,r,o)))return v.push(t)}))){p=!1;break}}else if(m!==f&&!a(m,f,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function ra(e){return La(Pa(e,i,$a),e+"")}function ia(e){return kr(e,Ls,pa)}function aa(e){return kr(e,Os,va)}var oa=xn?function(e){return xn.get(e)}:ul;function sa(e){for(var t=e.name+"",n=Ln[t],r=De.call(Ln,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function la(e){return(De.call(Un,"placeholder")?Un:e).placeholder}function ua(){var e=Un.iteratee||al;return e=e===al?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function da(e){for(var t=Ls(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ka(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var pa=_t?function(e){return null==e?[]:(e=Pe(e),Lt(_t(e),(function(t){return Ye.call(e,t)})))}:fl,va=_t?function(e){for(var t=[];e;)Dt(t,pa(e)),e=Ke(e);return t}:fl,ma=Ar;function fa(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var o=Fa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&es(i)&&ya(o,i)&&($o(e)||zo(e))}function _a(e){return"function"!=typeof e.constructor||Ca(e)?{}:jn(Ke(e))}function ga(e){return $o(e)||zo(e)||!!(Ze&&e&&e[Ze])}function ya(e,t){var n=typeof e;return!!(t=null==t?v:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Ko(n)&&ya(t,n.length):"string"==r&&t in n)&&Uo(n[t],e)}function Ea(e,t){if($o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Pe(t))}function wa(e){var t=sa(e),n=Un[t];if("function"!=typeof n||!(t in $n.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(kn&&ma(new kn(new ArrayBuffer(1)))!=M||An&&ma(new An)!=k||Pn&&ma(Pn.resolve())!=I||In&&ma(new In)!=R||Tn&&ma(new Tn)!=O)&&(ma=function(e){var t=Ar(e),n=t==P?e.constructor:i,r=n?Ba(n):"";if(r)switch(r){case On:return M;case Nn:return k;case Mn:return I;case Dn:return R;case Fn:return O}return t});var Sa=Ne?Xo:_l;function Ca(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function ka(e){return e==e&&!ts(e)}function Aa(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Pe(n)))}}function Pa(e,t,n){return t=yn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=yn(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var l=r(t+1);++a<t;)l[a]=i[a];return l[t]=n(s),Pt(e,this,l)}}function Ia(e,t){return t.length<2?e:Cr(e,ii(t,0,-1))}function Ta(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ra=Na(ti),xa=pt||function(e,t){return mt.setTimeout(e,t)},La=Na(ni);function Oa(e,t,n){var r=t+"";return La(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(_,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function Na(e){var t=0,n=0;return function(){var r=En(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ma(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Yr(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Da=function(e){var t=Mo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)})),t}));function Fa(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ba(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ha(e){if(e instanceof $n)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Va=Zr((function(e,t){return qo(e)?hr(e,gr(t,1,qo,!0)):[]})),Ua=Zr((function(e,t){var n=Qa(t);return qo(n)&&(n=i),qo(e)?hr(e,gr(t,1,qo,!0),ua(n,2)):[]})),ja=Zr((function(e,t){var n=Qa(t);return qo(n)&&(n=i),qo(e)?hr(e,gr(t,1,qo,!0),i,n):[]}));function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),jt(e,ua(t,3),i)}function za(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=ms(n),a=n<0?yn(r+a,0):bn(a,r-1)),jt(e,ua(t,3),a,!0)}function $a(e){return(null==e?0:e.length)?gr(e,1):[]}function Ga(e){return e&&e.length?e[0]:i}var Ka=Zr((function(e){var t=Mt(e,gi);return t.length&&t[0]===e[0]?Rr(t):[]})),qa=Zr((function(e){var t=Qa(e),n=Mt(e,gi);return t===Qa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Rr(n,ua(t,2)):[]})),Ya=Zr((function(e){var t=Qa(e),n=Mt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,i,t):[]}));function Qa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Za=Zr(Xa);function Xa(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var Ja=ra((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return qr(e,Mt(t,(function(e){return ya(e,n)?+e:e})).sort(Pi)),r}));function eo(e){return null==e?e:Cn.call(e)}var to=Zr((function(e){return di(gr(e,1,qo,!0))})),no=Zr((function(e){var t=Qa(e);return qo(t)&&(t=i),di(gr(e,1,qo,!0),ua(t,2))})),ro=Zr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,di(gr(e,1,qo,!0),i,t)}));function io(e){if(!e||!e.length)return[];var t=0;return e=Lt(e,(function(e){if(qo(e))return t=yn(e.length,t),!0})),Zt(t,(function(t){return Mt(e,Kt(t))}))}function ao(e,t){if(!e||!e.length)return[];var n=io(e);return null==t?n:Mt(n,(function(e){return Pt(t,i,e)}))}var oo=Zr((function(e,t){return qo(e)?hr(e,t):[]})),so=Zr((function(e){return fi(Lt(e,qo))})),lo=Zr((function(e){var t=Qa(e);return qo(t)&&(t=i),fi(Lt(e,qo),ua(t,2))})),uo=Zr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,fi(Lt(e,qo),i,t)})),co=Zr(io);var ho=Zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ao(e,n)}));function po(e){var t=Un(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var mo=ra((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof $n&&ya(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var fo=Li((function(e,t,n){De.call(e,n)?++e[n]:or(e,n,1)}));var _o=Hi(Wa),go=Hi(za);function yo(e,t){return($o(e)?Tt:pr)(e,ua(t,3))}function bo(e,t){return($o(e)?Rt:vr)(e,ua(t,3))}var Eo=Li((function(e,t,n){De.call(e,n)?e[n].push(t):or(e,n,[t])}));var wo=Zr((function(e,t,n){var i=-1,a="function"==typeof t,o=Ko(e)?r(e.length):[];return pr(e,(function(e){o[++i]=a?Pt(t,e,n):xr(e,t,n)})),o})),So=Li((function(e,t,n){or(e,n,t)}));function Co(e,t){return($o(e)?Mt:Vr)(e,ua(t,3))}var ko=Li((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ao=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),$r(e,gr(t,1),[])})),Po=ct||function(){return mt.Date.now()};function Io(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Xi(e,d,i,i,i,i,t)}function To(e,t){var n;if("function"!=typeof t)throw new Re(a);return e=ms(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ro=Zr((function(e,t,n){var r=1;if(n.length){var i=dn(n,la(Ro));r|=u}return Xi(e,r,t,n,i)})),xo=Zr((function(e,t,n){var r=3;if(n.length){var i=dn(n,la(xo));r|=u}return Xi(t,r,e,n,i)}));function Lo(e,t,n){var r,o,s,l,u,c,d=0,h=!1,p=!1,v=!0;if("function"!=typeof e)throw new Re(a);function m(t){var n=r,a=o;return r=o=i,d=t,l=e.apply(a,n)}function f(e){var n=e-c;return c===i||n>=t||n<0||p&&e-d>=s}function _(){var e=Po();if(f(e))return g(e);u=xa(_,function(e){var n=t-(e-c);return p?bn(n,s-(e-d)):n}(e))}function g(e){return u=i,v&&r?m(e):(r=o=i,l)}function y(){var e=Po(),n=f(e);if(r=arguments,o=this,c=e,n){if(u===i)return function(e){return d=e,u=xa(_,t),h?m(e):l}(c);if(p)return Si(u),u=xa(_,t),m(c)}return u===i&&(u=xa(_,t)),l}return t=_s(t)||0,ts(n)&&(h=!!n.leading,s=(p="maxWait"in n)?yn(_s(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v),y.cancel=function(){u!==i&&Si(u),d=0,r=c=o=u=i},y.flush=function(){return u===i?l:g(Po())},y}var Oo=Zr((function(e,t){return dr(e,1,t)})),No=Zr((function(e,t,n){return dr(e,_s(t)||0,n)}));function Mo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Mo.Cache||qn),n}function Do(e){if("function"!=typeof e)throw new Re(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Mo.Cache=qn;var Fo=Ei((function(e,t){var n=(t=1==t.length&&$o(t[0])?Mt(t[0],Jt(ua())):Mt(gr(t,1),Jt(ua()))).length;return Zr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Pt(e,this,r)}))})),Bo=Zr((function(e,t){var n=dn(t,la(Bo));return Xi(e,u,i,t,n)})),Ho=Zr((function(e,t){var n=dn(t,la(Ho));return Xi(e,c,i,t,n)})),Vo=ra((function(e,t){return Xi(e,h,i,i,i,t)}));function Uo(e,t){return e===t||e!=e&&t!=t}var jo=Ki(Pr),Wo=Ki((function(e,t){return e>=t})),zo=Lr(function(){return arguments}())?Lr:function(e){return ns(e)&&De.call(e,"callee")&&!Ye.call(e,"callee")},$o=r.isArray,Go=Et?Jt(Et):function(e){return ns(e)&&Ar(e)==N};function Ko(e){return null!=e&&es(e.length)&&!Xo(e)}function qo(e){return ns(e)&&Ko(e)}var Yo=yt||_l,Qo=wt?Jt(wt):function(e){return ns(e)&&Ar(e)==E};function Zo(e){if(!ns(e))return!1;var t=Ar(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Xo(e){if(!ts(e))return!1;var t=Ar(e);return t==S||t==C||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Jo(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=St?Jt(St):function(e){return ns(e)&&ma(e)==k};function is(e){return"number"==typeof e||ns(e)&&Ar(e)==A}function as(e){if(!ns(e)||Ar(e)!=P)return!1;var t=Ke(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Ve}var os=Ct?Jt(Ct):function(e){return ns(e)&&Ar(e)==T};var ss=kt?Jt(kt):function(e){return ns(e)&&ma(e)==R};function ls(e){return"string"==typeof e||!$o(e)&&ns(e)&&Ar(e)==x}function us(e){return"symbol"==typeof e||ns(e)&&Ar(e)==L}var cs=At?Jt(At):function(e){return ns(e)&&es(e.length)&&!!lt[Ar(e)]};var ds=Ki(Hr),hs=Ki((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Ko(e))return ls(e)?mn(e):Ri(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=ma(e);return(t==k?un:t==R?hn:Us)(e)}function vs(e){return e?(e=_s(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=vs(e),n=t%1;return t==t?n?t-n:t:0}function fs(e){return e?lr(ms(e),0,f):0}function _s(e){if("number"==typeof e)return e;if(us(e))return m;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=_e.test(e);return n||ye.test(e)?ht(e.slice(2),n?2:8):fe.test(e)?m:+e}function gs(e){return xi(e,Os(e))}function ys(e){return null==e?"":ci(e)}var bs=Oi((function(e,t){if(Ca(t)||Ko(t))xi(t,Ls(t),e);else for(var n in t)De.call(t,n)&&nr(e,n,t[n])})),Es=Oi((function(e,t){xi(t,Os(t),e)})),ws=Oi((function(e,t,n,r){xi(t,Os(t),e,r)})),Ss=Oi((function(e,t,n,r){xi(t,Ls(t),e,r)})),Cs=ra(sr);var ks=Zr((function(e,t){e=Pe(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=Os(o),l=-1,u=s.length;++l<u;){var c=s[l],d=e[c];(d===i||Uo(d,Oe[c])&&!De.call(e,c))&&(e[c]=o[c])}return e})),As=Zr((function(e){return e.push(i,ea),Pt(Ms,i,e)}));function Ps(e,t,n){var r=null==e?i:Cr(e,t);return r===i?n:r}function Is(e,t){return null!=e&&fa(e,t,Tr)}var Ts=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=He.call(t)),e[t]=n}),tl(il)),Rs=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=He.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),ua),xs=Zr(xr);function Ls(e){return Ko(e)?Zn(e):Fr(e)}function Os(e){return Ko(e)?Zn(e,!0):Br(e)}var Ns=Oi((function(e,t,n){Wr(e,t,n)})),Ms=Oi((function(e,t,n,r){Wr(e,t,n,r)})),Ds=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),xi(e,aa(e),n),r&&(n=ur(n,7,ta));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Fs=ra((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Is(e,n)}))}(e,t)}));function Bs(e,t){if(null==e)return{};var n=Mt(aa(e),(function(e){return[e]}));return t=ua(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Hs=Zi(Ls),Vs=Zi(Os);function Us(e){return null==e?[]:en(e,Ls(e))}var js=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Zs(ys(e).toLowerCase())}function zs(e){return(e=ys(e))&&e.replace(Ee,an).replace(tt,"")}var $s=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gs=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=Di("toLowerCase");var qs=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ys=Fi((function(e,t,n){return e+(n?" ":"")+Zs(t)}));var Qs=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zs=Di("toUpperCase");function Xs(e,t,n){return e=ys(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Js=Zr((function(e,t){try{return Pt(e,i,t)}catch(e){return Zo(e)?e:new Ce(e)}})),el=ra((function(e,t){return Tt(t,(function(t){t=Fa(t),or(e,t,Ro(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=Vi(),rl=Vi(!0);function il(e){return e}function al(e){return Dr("function"==typeof e?e:ur(e,1))}var ol=Zr((function(e,t){return function(n){return xr(n,e,t)}})),sl=Zr((function(e,t){return function(n){return xr(e,n,t)}}));function ll(e,t,n){var r=Ls(t),i=Sr(t,r);null!=n||ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Ls(t)));var a=!(ts(n)&&"chain"in n&&!n.chain),o=Xo(e);return Tt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ri(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function ul(){}var cl=zi(Mt),dl=zi(xt),hl=zi(Ht);function pl(e){return Ea(e)?Kt(Fa(e)):function(e){return function(t){return Cr(t,e)}}(e)}var vl=Gi(),ml=Gi(!0);function fl(){return[]}function _l(){return!1}var gl=Wi((function(e,t){return e+t}),0),yl=Yi("ceil"),bl=Wi((function(e,t){return e/t}),1),El=Yi("floor");var wl,Sl=Wi((function(e,t){return e*t}),1),Cl=Yi("round"),kl=Wi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Re(a);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Io,Un.assign=bs,Un.assignIn=Es,Un.assignInWith=ws,Un.assignWith=Ss,Un.at=Cs,Un.before=To,Un.bind=Ro,Un.bindAll=el,Un.bindKey=xo,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return $o(e)?e:[e]},Un.chain=po,Un.chunk=function(e,t,n){t=(n?ba(e,t,n):t===i)?1:yn(ms(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,l=r(vt(a/t));o<a;)l[s++]=ii(e,o,o+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt($o(n)?Ri(n):[n],gr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=ua();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Re(a);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Pt(i[0],this,n))return Pt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Ls(e);return function(n){return cr(n,e,t)}}(ur(e,1))},Un.constant=tl,Un.countBy=fo,Un.create=function(e,t){var n=jn(e);return null==t?n:ar(n,t)},Un.curry=function e(t,n,r){var a=Xi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.curryRight=function e(t,n,r){var a=Xi(t,l,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.debounce=Lo,Un.defaults=ks,Un.defaultsDeep=As,Un.defer=Oo,Un.delay=No,Un.difference=Va,Un.differenceBy=Ua,Un.differenceWith=ja,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:ms(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:ms(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?vi(e,ua(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?vi(e,ua(t,3),!0):[]},Un.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=ms(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:ms(r))<0&&(r+=a),r=n>r?0:fs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return($o(e)?Lt:_r)(e,ua(t,3))},Un.flatMap=function(e,t){return gr(Co(e,t),1)},Un.flatMapDeep=function(e,t){return gr(Co(e,t),p)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:ms(n),gr(Co(e,t),n)},Un.flatten=$a,Un.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,p):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:ms(t)):[]},Un.flip=function(e){return Xi(e,512)},Un.flow=nl,Un.flowRight=rl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:Sr(e,Ls(e))},Un.functionsIn=function(e){return null==e?[]:Sr(e,Os(e))},Un.groupBy=Eo,Un.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Un.intersection=Ka,Un.intersectionBy=qa,Un.intersectionWith=Ya,Un.invert=Ts,Un.invertBy=Rs,Un.invokeMap=wo,Un.iteratee=al,Un.keyBy=So,Un.keys=Ls,Un.keysIn=Os,Un.map=Co,Un.mapKeys=function(e,t){var n={};return t=ua(t,3),Er(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=ua(t,3),Er(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(ur(e,1))},Un.matchesProperty=function(e,t){return jr(e,ur(t,1))},Un.memoize=Mo,Un.merge=Ns,Un.mergeWith=Ms,Un.method=ol,Un.methodOf=sl,Un.mixin=ll,Un.negate=Do,Un.nthArg=function(e){return e=ms(e),Zr((function(t){return zr(t,e)}))},Un.omit=Ds,Un.omitBy=function(e,t){return Bs(e,Do(ua(t)))},Un.once=function(e){return To(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:($o(t)||(t=null==t?[]:[t]),$o(n=r?i:n)||(n=null==n?[]:[n]),$r(e,t,n))},Un.over=cl,Un.overArgs=Fo,Un.overEvery=dl,Un.overSome=hl,Un.partial=Bo,Un.partialRight=Ho,Un.partition=ko,Un.pick=Fs,Un.pickBy=Bs,Un.property=pl,Un.propertyOf=function(e){return function(t){return null==e?i:Cr(e,t)}},Un.pull=Za,Un.pullAll=Xa,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,ua(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Un.pullAt=Ja,Un.range=vl,Un.rangeRight=ml,Un.rearg=Vo,Un.reject=function(e,t){return($o(e)?Lt:_r)(e,Do(ua(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ua(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return qr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Re(a);return Zr(e,t=t===i?t:ms(t))},Un.reverse=eo,Un.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:ms(t),($o(e)?Jn:Jr)(e,t)},Un.set=function(e,t,n){return null==e?e:ei(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Un.shuffle=function(e){return($o(e)?er:ri)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=r):(t=null==t?0:ms(t),n=n===i?r:ms(n)),ii(e,t,n)):[]},Un.sortBy=Ao,Un.sortedUniq=function(e){return e&&e.length?li(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?li(e,ua(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=i),(n=n===i?f:n>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ci(t))&&ln(e)?wi(mn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Re(a);return t=null==t?0:yn(ms(t),0),Zr((function(n){var r=n[t],i=wi(n,0,t);return r&&Dt(i,r),Pt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:ms(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:ms(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?vi(e,ua(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?vi(e,ua(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Re(a);return ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Lo(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=vo,Un.toArray=ps,Un.toPairs=Hs,Un.toPairsIn=Vs,Un.toPath=function(e){return $o(e)?Mt(e,Fa):us(e)?[e]:Ri(Da(ys(e)))},Un.toPlainObject=gs,Un.transform=function(e,t,n){var r=$o(e),i=r||Yo(e)||cs(e);if(t=ua(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:ts(e)&&Xo(a)?jn(Ke(e)):{}}return(i?Tt:Er)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Io(e,1)},Un.union=to,Un.unionBy=no,Un.unionWith=ro,Un.uniq=function(e){return e&&e.length?di(e):[]},Un.uniqBy=function(e,t){return e&&e.length?di(e,ua(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?di(e,i,t):[]},Un.unset=function(e,t){return null==e||hi(e,t)},Un.unzip=io,Un.unzipWith=ao,Un.update=function(e,t,n){return null==e?e:pi(e,t,yi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:pi(e,t,yi(n),r)},Un.values=Us,Un.valuesIn=function(e){return null==e?[]:en(e,Os(e))},Un.without=oo,Un.words=Xs,Un.wrap=function(e,t){return Bo(yi(t),e)},Un.xor=so,Un.xorBy=lo,Un.xorWith=uo,Un.zip=co,Un.zipObject=function(e,t){return _i(e||[],t||[],nr)},Un.zipObjectDeep=function(e,t){return _i(e||[],t||[],ei)},Un.zipWith=ho,Un.entries=Hs,Un.entriesIn=Vs,Un.extend=Es,Un.extendWith=ws,ll(Un,Un),Un.add=gl,Un.attempt=Js,Un.camelCase=js,Un.capitalize=Ws,Un.ceil=yl,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=_s(n))==n?n:0),t!==i&&(t=(t=_s(t))==t?t:0),lr(_s(e),t,n)},Un.clone=function(e){return ur(e,4)},Un.cloneDeep=function(e){return ur(e,5)},Un.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||cr(e,t,Ls(t))},Un.deburr=zs,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=bl,Un.endsWith=function(e,t,n){e=ys(e),t=ci(t);var r=e.length,a=n=n===i?r:lr(ms(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Un.eq=Uo,Un.escape=function(e){return(e=ys(e))&&Z.test(e)?e.replace(Y,on):e},Un.escapeRegExp=function(e){return(e=ys(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=$o(e)?xt:mr;return n&&ba(e,t,n)&&(t=i),r(e,ua(t,3))},Un.find=_o,Un.findIndex=Wa,Un.findKey=function(e,t){return Ut(e,ua(t,3),Er)},Un.findLast=go,Un.findLastIndex=za,Un.findLastKey=function(e,t){return Ut(e,ua(t,3),wr)},Un.floor=El,Un.forEach=yo,Un.forEachRight=bo,Un.forIn=function(e,t){return null==e?e:yr(e,ua(t,3),Os)},Un.forInRight=function(e,t){return null==e?e:br(e,ua(t,3),Os)},Un.forOwn=function(e,t){return e&&Er(e,ua(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,ua(t,3))},Un.get=Ps,Un.gt=jo,Un.gte=Wo,Un.has=function(e,t){return null!=e&&fa(e,t,Ir)},Un.hasIn=Is,Un.head=Ga,Un.identity=il,Un.includes=function(e,t,n,r){e=Ko(e)?e:Us(e),n=n&&!r?ms(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Wt(e,t,i)},Un.inRange=function(e,t,n){return t=vs(t),n===i?(n=t,t=0):n=vs(n),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=_s(e),t,n)},Un.invoke=xs,Un.isArguments=zo,Un.isArray=$o,Un.isArrayBuffer=Go,Un.isArrayLike=Ko,Un.isArrayLikeObject=qo,Un.isBoolean=function(e){return!0===e||!1===e||ns(e)&&Ar(e)==b},Un.isBuffer=Yo,Un.isDate=Qo,Un.isElement=function(e){return ns(e)&&1===e.nodeType&&!as(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&($o(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||cs(e)||zo(e)))return!e.length;var t=ma(e);if(t==k||t==R)return!e.size;if(Ca(e))return!Fr(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Or(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Or(e,t,i,n):!!r},Un.isError=Zo,Un.isFinite=function(e){return"number"==typeof e&&bt(e)},Un.isFunction=Xo,Un.isInteger=Jo,Un.isLength=es,Un.isMap=rs,Un.isMatch=function(e,t){return e===t||Nr(e,t,da(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Nr(e,t,da(t),n)},Un.isNaN=function(e){return is(e)&&e!=+e},Un.isNative=function(e){if(Sa(e))throw new Ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=is,Un.isObject=ts,Un.isObjectLike=ns,Un.isPlainObject=as,Un.isRegExp=os,Un.isSafeInteger=function(e){return Jo(e)&&e>=-9007199254740991&&e<=v},Un.isSet=ss,Un.isString=ls,Un.isSymbol=us,Un.isTypedArray=cs,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ns(e)&&ma(e)==O},Un.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==Ar(e)},Un.join=function(e,t){return null==e?"":Vt.call(e,t)},Un.kebabCase=$s,Un.last=Qa,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=ms(n))<0?yn(r+a,0):bn(a,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):jt(e,$t,a,!0)},Un.lowerCase=Gs,Un.lowerFirst=Ks,Un.lt=ds,Un.lte=hs,Un.max=function(e){return e&&e.length?fr(e,il,Pr):i},Un.maxBy=function(e,t){return e&&e.length?fr(e,ua(t,2),Pr):i},Un.mean=function(e){return Gt(e,il)},Un.meanBy=function(e,t){return Gt(e,ua(t,2))},Un.min=function(e){return e&&e.length?fr(e,il,Hr):i},Un.minBy=function(e,t){return e&&e.length?fr(e,ua(t,2),Hr):i},Un.stubArray=fl,Un.stubFalse=_l,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Sl,Un.nth=function(e,t){return e&&e.length?zr(e,ms(t)):i},Un.noConflict=function(){return mt._===this&&(mt._=Ue),this},Un.noop=ul,Un.now=Po,Un.pad=function(e,t,n){e=ys(e);var r=(t=ms(t))?vn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return $i(ft(i),n)+e+$i(vt(i),n)},Un.padEnd=function(e,t,n){e=ys(e);var r=(t=ms(t))?vn(e):0;return t&&r<t?e+$i(t-r,n):e},Un.padStart=function(e,t,n){e=ys(e);var r=(t=ms(t))?vn(e):0;return t&&r<t?$i(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ys(e).replace(oe,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vs(e),t===i?(t=e,e=0):t=vs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Sn();return bn(e+a*(t-e+dt("1e-"+((a+"").length-1))),t)}return Yr(e,t)},Un.reduce=function(e,t,n){var r=$o(e)?Ft:Yt,i=arguments.length<3;return r(e,ua(t,4),n,i,pr)},Un.reduceRight=function(e,t,n){var r=$o(e)?Bt:Yt,i=arguments.length<3;return r(e,ua(t,4),n,i,vr)},Un.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:ms(t),Qr(ys(e),t)},Un.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Fa(t[r])];o===i&&(r=a,o=n),e=Xo(o)?o.call(e):o}return e},Un.round=Cl,Un.runInContext=e,Un.sample=function(e){return($o(e)?Xn:Xr)(e)},Un.size=function(e){if(null==e)return 0;if(Ko(e))return ls(e)?vn(e):e.length;var t=ma(e);return t==k||t==R?e.size:Fr(e).length},Un.snakeCase=qs,Un.some=function(e,t,n){var r=$o(e)?Ht:ai;return n&&ba(e,t,n)&&(t=i),r(e,ua(t,3))},Un.sortedIndex=function(e,t){return oi(e,t)},Un.sortedIndexBy=function(e,t,n){return si(e,t,ua(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Uo(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return oi(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return si(e,t,ua(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Uo(e[n],t))return n}return-1},Un.startCase=Ys,Un.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:lr(ms(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Un.subtract=kl,Un.sum=function(e){return e&&e.length?Qt(e,il):0},Un.sumBy=function(e,t){return e&&e.length?Qt(e,ua(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&ba(e,t,n)&&(t=i),e=ys(e),t=ws({},t,r,Ji);var a,o,s=ws({},t.imports,r.imports,Ji),l=Ls(s),u=en(s,l),c=0,d=t.interpolate||we,h="__p += '",p=Ie((t.escape||we).source+"|"+d.source+"|"+(d===ee?ve:we).source+"|"+(t.evaluate||we).source+"|$","g"),v="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(p,(function(t,n,r,i,s,l){return r||(r=i),h+=e.slice(c,l).replace(Se,sn),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),h+="';\n";var m=De.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new Ce("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace($,""):h).replace(G,"$1").replace(K,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var f=Js((function(){return ke(l,v+"return "+h).apply(i,u)}));if(f.source=h,Zo(f))throw f;return f},Un.times=function(e,t){if((e=ms(e))<1||e>v)return[];var n=f,r=bn(e,f);t=ua(t),e-=f;for(var i=Zt(r,t);++n<e;)t(n);return i},Un.toFinite=vs,Un.toInteger=ms,Un.toLength=fs,Un.toLower=function(e){return ys(e).toLowerCase()},Un.toNumber=_s,Un.toSafeInteger=function(e){return e?lr(ms(e),-9007199254740991,v):0===e?e:0},Un.toString=ys,Un.toUpper=function(e){return ys(e).toUpperCase()},Un.trim=function(e,t,n){if((e=ys(e))&&(n||t===i))return Xt(e);if(!e||!(t=ci(t)))return e;var r=mn(e),a=mn(t);return wi(r,nn(r,a),rn(r,a)+1).join("")},Un.trimEnd=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.slice(0,fn(e)+1);if(!e||!(t=ci(t)))return e;var r=mn(e);return wi(r,0,rn(r,mn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var r=mn(e);return wi(r,nn(r,mn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(ts(t)){var a="separator"in t?t.separator:a;n="length"in t?ms(t.length):n,r="omission"in t?ci(t.omission):r}var o=(e=ys(e)).length;if(ln(e)){var s=mn(e);o=s.length}if(n>=o)return e;var l=n-vn(r);if(l<1)return r;var u=s?wi(s,0,l).join(""):e.slice(0,l);if(a===i)return u+r;if(s&&(l+=u.length-l),os(a)){if(e.slice(l).search(a)){var c,d=u;for(a.global||(a=Ie(a.source,ys(me.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var h=c.index;u=u.slice(0,h===i?l:h)}}else if(e.indexOf(ci(a),l)!=l){var p=u.lastIndexOf(a);p>-1&&(u=u.slice(0,p))}return u+r},Un.unescape=function(e){return(e=ys(e))&&Q.test(e)?e.replace(q,_n):e},Un.uniqueId=function(e){var t=++Fe;return ys(e)+t},Un.upperCase=Qs,Un.upperFirst=Zs,Un.each=yo,Un.eachRight=bo,Un.first=Ga,ll(Un,(wl={},Er(Un,(function(e,t){De.call(Un.prototype,t)||(wl[t]=e)})),wl),{chain:!1}),Un.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Tt(["drop","take"],(function(e,t){$n.prototype[e]=function(n){n=n===i?1:yn(ms(n),0);var r=this.__filtered__&&!t?new $n(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},$n.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;$n.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");$n.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");$n.prototype[e]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(il)},$n.prototype.find=function(e){return this.filter(e).head()},$n.prototype.findLast=function(e){return this.reverse().find(e)},$n.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new $n(this):this.map((function(n){return xr(n,e,t)}))})),$n.prototype.reject=function(e){return this.filter(Do(ua(e)))},$n.prototype.slice=function(e,t){e=ms(e);var n=this;return n.__filtered__&&(e>0||t<0)?new $n(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ms(t))<0?n.dropRight(-t):n.take(t-e)),n)},$n.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$n.prototype.toArray=function(){return this.take(f)},Er($n.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Un[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof $n,u=s[0],c=l||$o(t),d=function(e){var t=a.apply(Un,Dt([e],s));return r&&h?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,p=!!this.__actions__.length,v=o&&!h,m=l&&!p;if(!o&&c){t=m?t:new $n(this);var f=e.apply(t,s);return f.__actions__.push({func:vo,args:[d],thisArg:i}),new zn(f,h)}return v&&m?e.apply(this,s):(f=this.thru(d),v?r?f.value()[0]:f.value():f)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=xe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply($o(i)?i:[],e)}return this[n]((function(n){return t.apply($o(n)?n:[],e)}))}})),Er($n.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";De.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:t,func:n})}})),Ln[Ui(i,2).name]=[{name:"wrapper",func:i}],$n.prototype.clone=function(){var e=new $n(this.__wrapped__);return e.__actions__=Ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ri(this.__views__),e},$n.prototype.reverse=function(){if(this.__filtered__){var e=new $n(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$n.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$o(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,h=0,p=bn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return mi(e,this.__actions__);var v=[];e:for(;l--&&h<p;){for(var m=-1,f=e[u+=t];++m<d;){var _=c[m],g=_.iteratee,y=_.type,b=g(f);if(2==y)f=b;else if(!b){if(1==y)continue e;break e}}v[h++]=f}return v},Un.prototype.at=mo,Un.prototype.chain=function(){return po(this)},Un.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var r=Ha(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $n){var t=e;return this.__actions__.length&&(t=new $n(this)),(t=t.reverse()).__actions__.push({func:vo,args:[eo],thisArg:i}),new zn(t,this.__chain__)}return this.thru(eo)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Xe&&(Un.prototype[Xe]=function(){return this}),Un}();mt._=gn,(r=function(){return gn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},4823:(e,t,n)=>{n(7293),n(4401);var r,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,c=[],d=!1,h=-1;function p(){d&&u&&(d=!1,u.length?c=u.concat(c):h=-1,c.length&&v())}function v(){if(!d){var e=l(p);d=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||d||l(v)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},7588:(e,t,n)=>{"use strict";n(7293),n(2195),n(4401),n(4924),n(4233),n(3867),n(1557),n(2358),n(9420),n(9419),n(8471),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(7821),n(752),n(8057);var r=n(8717),i=n(2875);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=f.hasOwnProperty(t)?f[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_,g);f[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_,g);f[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_,g);f[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),P=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,F=Object.assign;function B(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var H=!1;function V(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case k:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return j(e(t))}catch(e){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Z(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var _e=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ce=null;function ke(e){if(e=yi(e)){if("function"!=typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=Ei(t),we(e.stateNode,e.type,t))}}function Ae(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Te(){}var Re=!1;function xe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==Se||null!==Ce)&&(Te(),Pe())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Oe=!1}function Me(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var De=!1,Fe=null,Be=!1,He=null,Ve={onError:function(e){De=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,s,l){De=!1,Fe=null,Me.apply(Ve,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(je(e)!==e)throw Error(a(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ze(i),e;if(o===r)return ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ze=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Et,wt,St,Ct,kt,At=!1,Pt=[],It=null,Tt=null,Rt=null,xt=new Map,Lt=new Map,Ot=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ht(e,t,n){Bt(e)&&n.delete(t)}function Vt(){At=!1,null!==It&&Bt(It)&&(It=null),null!==Tt&&Bt(Tt)&&(Tt=null),null!==Rt&&Bt(Rt)&&(Rt=null),xt.forEach(Ht),Lt.forEach(Ht)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function jt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ut(It,e),null!==Tt&&Ut(Tt,e),null!==Rt&&Ut(Rt,e),xt.forEach(t),Lt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Wt=b.ReactCurrentBatchConfig,zt=!0;function $t(e,t,n,r){var i=yt,a=Wt.transition;Wt.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=i,Wt.transition=a}}function Gt(e,t,n,r){var i=yt,a=Wt.transition;Wt.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=i,Wt.transition=a}}function Kt(e,t,n,r){if(zt){var i=Yt(e,t,n,r);if(null===i)zr(e,t,r,qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Dt(It,e,t,n,r,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,i),!0;case"mouseover":return Rt=Dt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return xt.set(a,Dt(xt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,Dt(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&Et(a),null===(a=Yt(e,t,n,r))&&zr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var qt=null;function Yt(e,t,n,r){if(qt=null,null!==(e=gi(e=Ee(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=F({},un,{view:0,detail:0}),hn=an(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),vn=an(pn),mn=an(F({},pn,{dataTransfer:0})),fn=an(F({},dn,{relatedTarget:0})),_n=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(gn),bn=an(F({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return Cn}var An=F({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(An),In=an(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(xn),On=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Mn,Fn=c&&(!Nn||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),Hn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function $n(e,t,n,r){Ae(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function qn(e){Br(e,0)}function Yn(e){if(K(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Xn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Xn=Jn}else Xn=!1;Zn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];$n(t,Kn,e,Ee(e)),xe(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,fr=null,_r=null,gr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==fr||fr!==q(r)||("selectionStart"in(r=fr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Gr(_r,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Sr={},Cr={};function kr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ar=kr("animationend"),Pr=kr("animationiteration"),Ir=kr("animationstart"),Tr=kr("transitionend"),Rr=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Rr.set(e,t),l(t,[e])}for(var Or=0;Or<xr.length;Or++){var Nr=xr[Or];Lr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Lr(Ar,"onAnimationEnd"),Lr(Pr,"onAnimationIteration"),Lr(Ir,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Ue.apply(this,arguments),De){if(!De)throw Error(a(198));var c=Fe;De=!1,Fe=null,Be||(Be=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Fr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Fr(i,s,u),a=l}}}if(Be)throw e=He,Be=!1,He=null,e}function Hr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var i=$t;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}xe((function(){var r=a,i=Ee(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=fn;break;case"focusout":u="blur",l=fn;break;case"beforeblur":case"afterblur":l=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ar:case Pr:case Ir:l=_n;break;case Tr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=!!(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var p,v=r;null!==v;){var m=(p=v).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Le(v,h))&&c.push($r(v,m,p)))),d)break;v=v.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[vi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,m="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",h="onPointerEnter",v="pointer"),d=null==l?s:bi(l),p=null==u?s:bi(u),(s=new c(m,v+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,gi(i)===r&&((c=new c(h,v+"enter",u,n,i)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,v=0,p=c=l;p;p=Kr(p))v++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<v-p;)c=Kr(c),v--;for(;0<p-v;)h=Kr(h),p--;for(;v--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&qr(o,s,l,c,!1),null!==u&&null!==d&&qr(o,d,u,c,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var f=Qn;else if(zn(s))if(Zn)f=or;else{f=ir;var _=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(f=ar);switch(f&&(f=f(e,r))?$n(o,f,n,i):(_&&_(e,s,r),"focusout"===e&&(_=s._wrapperState)&&_.controlled&&"number"===s.type&&ee(s,"number",s.value)),_=r?bi(r):window,e){case"focusin":(zn(_)||"true"===_.contentEditable)&&(fr=_,_r=r,gr=null);break;case"focusout":gr=_r=fr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Nn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Vn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Fn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(g=en()):(Xt="value"in(Zt=i)?Zt.value:Zt.textContent,jn=!0)),0<(_=Gr(r,y)).length&&(y=new bn(y,e,null,n,i),o.push({event:y,listeners:_}),g?y.data=g:null!==(g=Un(n))&&(y.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Hn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Nn&&Vn(e,t)?(e=en(),Jt=Xt=Zt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Br(o,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift($r(e,a,i)),null!=(a=Le(e,t))&&r.push($r(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Le(n,a))&&o.unshift($r(n,l,s)):i||null!=(l=Le(n,a))&&o.push($r(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,ai="function"==typeof Promise?Promise:void 0,oi="function"==typeof queueMicrotask?queueMicrotask:void 0!==ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,vi="__reactContainer$"+di,mi="__reactEvents$"+di,fi="__reactListeners$"+di,_i="__reactHandles$"+di;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[hi]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ei(e){return e[pi]||null}var wi=[],Si=-1;function Ci(e){return{current:e}}function ki(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function Ai(e,t){Si++,wi[Si]=e.current,e.current=t}var Pi={},Ii=Ci(Pi),Ti=Ci(!1),Ri=Pi;function xi(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!=(e=e.childContextTypes)}function Oi(){ki(Ti),ki(Ii)}function Ni(e,t,n){if(Ii.current!==Pi)throw Error(a(168));Ai(Ii,t),Ai(Ti,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return F({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Ri=Ii.current,Ai(Ii,e),Ai(Ti,Ti.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Ti),ki(Ii),Ai(Ii,e)):ki(Ti),Ai(Ti,n)}var Bi=null,Hi=!1,Vi=!1;function Ui(e){null===Bi?Bi=[e]:Bi.push(e)}function ji(){if(!Vi&&null!==Bi){Vi=!0;var e=0,t=yt;try{var n=Bi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Hi=!1}catch(t){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ke(Je,ji),t}finally{yt=t,Vi=!1}}return null}var Wi=[],zi=0,$i=null,Gi=0,Ki=[],qi=0,Yi=null,Qi=1,Zi="";function Xi(e,t){Wi[zi++]=Gi,Wi[zi++]=$i,$i=e,Gi=t}function Ji(e,t,n){Ki[qi++]=Qi,Ki[qi++]=Zi,Ki[qi++]=Yi,Yi=e;var r=Qi;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Zi=a+e}else Qi=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===$i;)$i=Wi[--zi],Wi[zi]=null,Gi=Wi[--zi],Wi[zi]=null;for(;e===Yi;)Yi=Ki[--qi],Ki[qi]=null,Zi=Ki[--qi],Ki[qi]=null,Qi=Ki[--qi],Ki[qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=xu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=xu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return!(!(1&e.mode)||128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ui(e.nextSibling)}function pa(){ra=na=null,ia=!1}function va(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function fa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _a(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ga(e){return(0,e._init)(e._payload)}function ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===L&&ga(a)===t.type)?((r=i(t,n.props)).ref=fa(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=fa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=fa(e,null,t),n.return=e,n;case w:return(t=Bu(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mu(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case L:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);_a(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return v(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,d=a,m=a=0,f=null;null!==d&&m<s.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var _=p(i,d,s[m],l);if(null===_){null===d&&(d=f);break}e&&d&&null===_.alternate&&t(i,d),a=o(_,a,m),null===c?u=_:c.sibling=_,c=_,d=f}if(m===s.length)return n(i,d),ia&&Xi(i,m),u;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return ia&&Xi(i,m),u}for(d=r(i,d);m<s.length;m++)null!==(f=v(d,i,m,s[m],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),u}function f(i,s,l,u){var c=M(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=s,f=s=0,_=null,g=l.next();null!==m&&!g.done;f++,g=l.next()){m.index>f?(_=m,m=null):_=m.sibling;var y=p(i,m,g.value,u);if(null===y){null===m&&(m=_);break}e&&m&&null===y.alternate&&t(i,m),s=o(y,s,f),null===d?c=y:d.sibling=y,d=y,m=_}if(g.done)return n(i,m),ia&&Xi(i,f),c;if(null===m){for(;!g.done;f++,g=l.next())null!==(g=h(i,g.value,u))&&(s=o(g,s,f),null===d?c=g:d.sibling=g,d=g);return ia&&Xi(i,f),c}for(m=r(i,m);!g.done;f++,g=l.next())null!==(g=v(m,i,f,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?f:g.key),s=o(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(i,e)})),ia&&Xi(i,f),c}return function e(r,a,o,l){if("object"==typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===L&&ga(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=fa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Mu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Nu(o.type,o.key,o.props,null,r.mode,l)).ref=fa(r,a,o),l.return=r,r=l)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bu(o,r.mode,l)).return=r,r=a}return s(r);case L:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(M(o))return f(r,a,o,l);_a(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var ba=ya(!0),Ea=ya(!1),wa=Ci(null),Sa=null,Ca=null,ka=null;function Aa(){ka=Ca=Sa=null}function Pa(e){var t=wa.current;ki(wa),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){Sa=e,ka=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Ra(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Sa)throw Error(a(308));Ca=e,Sa.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var xa=null;function La(e){null===xa?xa=[e]:xa.push(e)}function Oa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,La(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ba(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Il){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,La(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Va(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Ma=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"==typeof(v=m.payload)){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null==(h="function"==typeof(v=m.payload)?v.call(p,d,h):v))break e;d=F({},d,h);break e;case 2:Ma=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var za={},$a=Ci(za),Ga=Ci(za),Ka=Ci(za);function qa(e){if(e===za)throw Error(a(174));return e}function Ya(e,t){switch(Ai(Ka,t),Ai(Ga,e),Ai($a,za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki($a),Ai($a,t)}function Qa(){ki($a),ki(Ga),ki(Ka)}function Za(e){qa(Ka.current);var t=qa($a.current),n=le(t,e.type);t!==n&&(Ai(Ga,e),Ai($a,n))}function Xa(e){Ga.current===e&&(ki($a),ki(Ga))}var Ja=Ci(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,uo=!1,co=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Jo:es,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(co)}if(ro.current=Xo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,uo=!1,t)throw Error(a(300));return e}function _o(){var e=0!==ho;return ho=0,e}function go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function yo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"==typeof t?t(e):t}function Eo(e){var t=yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((ao&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,oo.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Dl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wo(e){var t=yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ys=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Co(e,t){var n=oo,r=yo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ys=!0),r=r.queue,Do(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,xo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(a(349));30&ao||ko(n,t,i)}return i}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&To(e)}function Po(e,t,n){return n((function(){Io(t)&&To(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function To(e){var t=Na(e,1);null!==t&&nu(t,e,1,-1)}function Ro(e){var t=go();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=qo.bind(null,oo,e),[t.memoizedState,e]}function xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return yo().memoizedState}function Oo(e,t,n,r){var i=go();oo.flags|=e,i.memoizedState=xo(1|t,n,void 0,void 0===r?null:r)}function No(e,t,n,r){var i=yo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=xo(t,n,a,r))}oo.flags|=e,i.memoizedState=xo(1|t,n,a,r)}function Mo(e,t){return Oo(8390656,8,e,t)}function Do(e,t){return No(2048,8,e,t)}function Fo(e,t){return No(4,2,e,t)}function Bo(e,t){return No(4,4,e,t)}function Ho(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!=n?n.concat([e]):null,No(4,4,Ho.bind(null,t,e),n)}function Uo(){}function jo(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zo(e,t,n){return 21&ao?(sr(n,t)||(n=mt(),oo.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n)}function $o(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{yt=n,io.transition=r}}function Go(){return yo().memoizedState}function Ko(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Qo(t,n);else if(null!==(n=Oa(e,t,n,r))){nu(n,e,r,eu()),Zo(n,t,r)}}function qo(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,La(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Oa(e,t,i,r))&&(nu(n,e,r,i=eu()),Zo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Xo={readContext:Ra,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Jo={readContext:Ra,useCallback:function(e,t){return go().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Oo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=go();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=go();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},go().memoizedState=e},useState:Ro,useDebugValue:Uo,useDeferredValue:function(e){return go().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=$o.bind(null,e[1]),go().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=go();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));30&ao||ko(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(Po.bind(null,r,o,e),[e]),r.flags|=2048,xo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=go(),t=Tl.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ra,useCallback:jo,useContext:Ra,useEffect:Do,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:Bo,useMemo:Wo,useReducer:Eo,useRef:Lo,useState:function(){return Eo(bo)},useDebugValue:Uo,useDeferredValue:function(e){return zo(yo(),so.memoizedState,e)},useTransition:function(){return[Eo(bo)[0],yo().memoizedState]},useMutableSource:So,useSyncExternalStore:Co,useId:Go,unstable_isNewReconciler:!1},ts={readContext:Ra,useCallback:jo,useContext:Ra,useEffect:Do,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:Bo,useMemo:Wo,useReducer:wo,useRef:Lo,useState:function(){return wo(bo)},useDebugValue:Uo,useDeferredValue:function(e){var t=yo();return null===so?t.memoizedState=e:zo(t,so.memoizedState,e)},useTransition:function(){return[wo(bo)[0],yo().memoizedState]},useMutableSource:So,useSyncExternalStore:Co,useId:Go,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ba(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ha(e,a,i))&&(nu(t,e,i,r),Va(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ba(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ha(e,a,i))&&(nu(t,e,i,r),Va(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ba(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ha(e,i,r))&&(nu(t,e,r,n),Va(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=Pi,a=t.contextType;return"object"==typeof a&&null!==a?a=Ra(a):(i=Li(t)?Ri:Ii.current,a=(r=null!=(r=t.contextTypes))?xi(e,i):Pi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Da(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Ra(a):(a=Li(t)?Ri:Ii.current,i.context=xi(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ba(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,$l=r),ds(0,t)},n}function vs(e,t,n){(n=Ba(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _s(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ba(-1,1)).tag=2,Ha(n,t,1))),n.lanes|=1),e)}var gs=b.ReactCurrentOwner,ys=!1;function bs(e,t,n,r){t.child=null===e?Ea(t,null,n,r):ba(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var a=t.ref;return Ta(t,i),r=fo(e,t,n,r,a,i),n=_o(),null===e||ys?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Lu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Ou(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=a,!(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);131072&e.flags&&(ys=!0)}}return As(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Ol,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Ol,Ll),Ll|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Ol,Ll),Ll|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Ol,Ll),Ll|=r;return bs(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var a=Li(n)?Ri:Ii.current;return a=xi(t,a),Ta(t,i),n=fo(e,t,n,r,a,i),r=_o(),null===e||ys?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Ps(e,t,n,r,i){if(Li(n)){var a=!0;Di(t)}else a=!1;if(Ta(t,i),null===t.stateNode)Ws(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=Ra(u):u=xi(t,u=Li(n)?Ri:Ii.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,o,r,u),Ma=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Ti.current||Ma?("function"==typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Ma||as(t,n,s,r,h,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),o.props=u,d=t.pendingProps,h=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ra(l):l=xi(t,l=Li(n)?Ri:Ii.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Ma=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var v=t.memoizedState;s!==d||h!==v||Ti.current||Ma?("function"==typeof p&&(rs(t,n,p,r),v=t.memoizedState),(u=Ma||as(t,n,u,r,h,v,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,v,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,v,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,a,i)}function Is(e,t,n,r,i,a){ks(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),zs(e,t,a);r=t.stateNode,gs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Ya(e,t.containerInfo)}function Rs(e,t,n,r,i){return pa(),va(i),t.flags|=256,bs(e,t,n,r),t.child}var xs,Ls,Os,Ns,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=Ja.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(Ja,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},1&i||null===s?s=Du(l,i,0,null):(s.childLanes=0,s.pendingProps=l),e=Mu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ms,e):Bs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Hs(e,t,s,r=cs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(o=Mu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,1&t.mode&&ba(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ms,o);if(!(1&t.mode))return Hs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Hs(e,t,s,r=cs(o=Error(a(419)),r,void 0))}if(l=!!(s&e.childLanes),ys||l){if(null!==(r=Tl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|s)?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nu(r,e,i,-1))}return mu(),Hs(e,t,s,r=cs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[qi++]=Qi,Ki[qi++]=Zi,Ki[qi++]=Yi,Qi=e.id,Zi=e.overflow,Yi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 1&l||t.child===o?(i=Ou(o,u)).subtreeFlags=14680064&o.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null),null!==r?s=Ou(r,s):(s=Mu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Ou(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hs(e,t,n,r){return null!==r&&va(r),ba(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function Us(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function js(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),2&(r=Ja.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(Ja,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Ws(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Li(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,Qa(),ki(Ti),ki(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Ls(e,t),Gs(t),null;case 5:Xa(t);var i=qa(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=qa($a.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[pi]=o,e=!!(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Hr(Mr[i],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":Q(r,o),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Hr("invalid",r);break;case"textarea":ie(r,o),Hr("invalid",r)}for(var l in ge(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"==typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Hr("scroll",r)}switch(n){case"input":G(r),J(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,xs(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),i=r;break;case"iframe":case"object":case"embed":Hr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Hr(Mr[i],e);i=r;break;case"source":Hr("error",e),i=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),i=r;break;case"details":Hr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Hr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Hr("invalid",e)}for(o in ge(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?fe(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"==typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"==typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Hr("scroll",e):null!=c&&y(e,o,c,l))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(n=qa(Ka.current),qa($a.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,!!(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(ki(Ja),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&1&t.mode&&!(128&t.flags))ha(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else pa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Ja.current?0===Nl&&(Nl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Qa(),Ls(e,t),null===e&&jr(t.stateNode.containerInfo),Gs(t),null;case 10:return Pa(t.type._context),Gs(t),null;case 19:if(ki(Ja),null===(o=t.memoizedState))return Gs(t),null;if(r=!!(128&t.flags),null===(l=o.rendering))if(r)$s(o,!1);else{if(0!==Nl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,$s(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>jl&&(t.flags|=128,r=!0,$s(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$s(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Gs(t),null}else 2*Ze()-o.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,$s(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=Ja.current,Ai(Ja,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ll)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qs(e,t){switch(ta(t),t.tag){case 1:return Li(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),ki(Ti),ki(Ii),no(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(ki(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Ja),null;case 4:return Qa(),null;case 10:return Pa(t.type._context),null;case 22:case 23:return du(),null;default:return null}}xs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qa($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Hr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Qs=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Xs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Cu(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Cu(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[fi],delete t[_i])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Qs||Js(n,t);case 6:var r=cl,i=dl;cl=null,hl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),jt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(2&a||4&a)&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Js(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Cu(n,t,e)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function vl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));pl(o,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){Cu(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),_l(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Cu(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Cu(e,e.return,t)}}break;case 1:ml(t,e),_l(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(ml(t,e),_l(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(t){Cu(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(i,o),ye(l,s);var c=ye(l,o);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?fe(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):y(i,d,h,c)}switch(l){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;null!=v?ne(i,!!o.multiple,v,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(t){Cu(e,e.return,t)}}break;case 6:if(ml(t,e),_l(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(t){Cu(e,e.return,t)}}break;case 3:if(ml(t,e),_l(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(t){Cu(e,e.return,t)}break;case 4:default:ml(t,e),_l(e);break;case 13:ml(t,e),_l(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Ze())),4&r&&vl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||d,ml(t,e),Qs=c):ml(t,e),_l(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Xs=e,d=e.child;null!==d;){for(h=Xs=d;null!==Xs;){switch(v=(p=Xs).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Js(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Cu(r,n,e)}}break;case 5:Js(p,p.return);break;case 22:if(null!==p.memoizedState){El(h);continue}}null!==v?(v.return=p,Xs=v):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=null!=(u=h.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(t){Cu(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(t){Cu(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),_l(e),4&r&&vl(e);case 21:}}function _l(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(t){Cu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Xs=e,yl(e,t,n)}function yl(e,t,n){for(var r=!!(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Ys;var u=Qs;if(Ys=o,(Qs=l)&&!u)for(Xs=i;null!==Xs;)l=(o=Xs).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,Xs=l):wl(i);for(;null!==a;)Xs=a,yl(a,t,n),a=a.sibling;Xs=i,Ys=s,Qs=u}bl(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,Xs=a):bl(e)}}function bl(e){for(;null!==Xs;){var t=Xs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Wa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&il(t)}catch(e){Cu(t,t.return,e)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function El(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function wl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Cu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Cu(t,i,e)}}var a=t.return;try{il(t)}catch(e){Cu(t,a,e)}break;case 5:var o=t.return;try{il(t)}catch(e){Cu(t,o,e)}}}catch(e){Cu(t,t.return,e)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sl,Cl=Math.ceil,kl=b.ReactCurrentDispatcher,Al=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,Il=0,Tl=null,Rl=null,xl=0,Ll=0,Ol=Ci(0),Nl=0,Ml=null,Dl=0,Fl=0,Bl=0,Hl=null,Vl=null,Ul=0,jl=1/0,Wl=null,zl=!1,$l=null,Gl=null,Kl=!1,ql=null,Yl=0,Ql=0,Zl=null,Xl=-1,Jl=0;function eu(){return 6&Il?Ze():-1!==Xl?Xl:Xl=Ze()}function tu(e){return 1&e.mode?2&Il&&0!==xl?xl&-xl:null!==ma.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type):1}function nu(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(a(185));_t(e,n,r),2&Il&&e===Tl||(e===Tl&&(!(2&Il)&&(Fl|=n),4===Nl&&su(e,xl)),ru(e,r),1===n&&0===Il&&!(1&t.mode)&&(jl=Ze()+500,Hi&&ji()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?s&n&&!(s&r)||(i[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Tl?xl:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Hi=!0,Ui(e)}(lu.bind(null,e)):Ui(lu.bind(null,e)),oi((function(){!(6&Il)&&ji()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Jl=0,6&Il)throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?xl:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=fu(e,r);else{t=r;var i=Il;Il|=2;var o=vu();for(Tl===e&&xl===t||(Wl=null,jl=Ze()+500,hu(e,t));;)try{gu();break}catch(t){pu(e,t)}Aa(),kl.current=o,Il=i,null!==Rl?t=0:(Tl=null,xl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=au(e,i))),1===t)throw n=Ml,hu(e,0),su(e,r),ru(e,Ze()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=fu(e,r),2===t&&(o=vt(e),0!==o&&(r=o,t=au(e,o))),1!==t)))throw n=Ml,hu(e,0),su(e,r),ru(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Eu(e,Vl,Wl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Ul+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,Vl,Wl),t);break}Eu(e,Vl,Wl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,Vl,Wl),r);break}Eu(e,Vl,Wl);break;default:throw Error(a(329))}}}return ru(e,Ze()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=fu(e,t))&&(t=Vl,Vl=n,null!==t&&ou(t)),e}function ou(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function su(e,t){for(t&=~Bl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(6&Il)throw Error(a(327));wu();var t=ht(e,0);if(!(1&t))return ru(e,Ze()),null;var n=fu(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Ml,hu(e,0),su(e,t),ru(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Vl,Wl),ru(e,Ze()),null}function uu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(jl=Ze()+500,Hi&&ji())}}function cu(e){null!==ql&&0===ql.tag&&!(6&Il)&&wu();var t=Il;Il|=1;var n=Pl.transition,r=yt;try{if(Pl.transition=null,yt=1,e)return e()}finally{yt=r,Pl.transition=n,!(6&(Il=t))&&ji()}}function du(){Ll=Ol.current,ki(Ol)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Oi();break;case 3:Qa(),ki(Ti),ki(Ii),no();break;case 5:Xa(r);break;case 4:Qa();break;case 13:case 19:ki(Ja);break;case 10:Pa(r.type._context);break;case 22:case 23:du()}n=n.return}if(Tl=e,Rl=e=Ou(e.current,null),xl=Ll=t,Nl=0,Ml=null,Bl=Fl=Dl=0,Vl=Hl=null,null!==xa){for(t=0;t<xa.length;t++)if(null!==(r=(n=xa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}xa=null}return e}function pu(e,t){for(;;){var n=Rl;try{if(Aa(),ro.current=Xo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(ao=0,lo=so=oo=null,co=!1,ho=0,Al.current=null,null===n||null===n.return){Nl=1,Ml=t,Rl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=xl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=fs(s);if(null!==v){v.flags&=-257,_s(v,s,l,0,t),1&v.mode&&ms(o,c,t),u=c;var m=(t=v).updateQueue;if(null===m){var f=new Set;f.add(u),t.updateQueue=f}else m.add(u);break e}if(!(1&t)){ms(o,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var _=fs(s);if(null!==_){!(65536&_.flags)&&(_.flags|=256),_s(_,s,l,0,t),va(us(u,l));break e}}o=u=us(u,l),4!==Nl&&(Nl=2),null===Hl?Hl=[o]:Hl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ua(o,ps(0,u,t));break e;case 1:l=u;var g=o.type,y=o.stateNode;if(!(128&o.flags||"function"!=typeof g.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Gl&&Gl.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Ua(o,vs(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(e){t=e,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function vu(){var e=kl.current;return kl.current=Xo,null===e?Xo:e}function mu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Tl||!(268435455&Dl)&&!(268435455&Fl)||su(Tl,xl)}function fu(e,t){var n=Il;Il|=2;var r=vu();for(Tl===e&&xl===t||(Wl=null,hu(e,t));;)try{_u();break}catch(t){pu(e,t)}if(Aa(),Il=n,kl.current=r,null!==Rl)throw Error(a(261));return Tl=null,xl=0,Nl}function _u(){for(;null!==Rl;)yu(Rl)}function gu(){for(;null!==Rl&&!Ye();)yu(Rl)}function yu(e){var t=Sl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?bu(e):Rl=t,Al.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=qs(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Nl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ks(n,t,Ll)))return void(Rl=n);if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Nl&&(Nl=5)}function Eu(e,t,n){var r=yt,i=Pl.transition;try{Pl.transition=null,yt=1,function(e,t,n,r){do{wu()}while(null!==ql);if(6&Il)throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tl&&(Rl=Tl=null,xl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kl||(Kl=!0,Tu(tt,(function(){return wu(),null}))),o=!!(15990&n.flags),!!(15990&n.subtreeFlags)||o){o=Pl.transition,Pl.transition=null;var s=yt;yt=1;var l=Il;Il|=4,Al.current=null,function(e,t){if(ei=zt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var v;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(v=h.firstChild);)p=h,h=v;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=s),p===o&&++d===r&&(u=s),null!==(v=h.nextSibling))break;p=(h=p).parentNode}h=v}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var f=m.memoizedProps,_=m.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?f:ns(t.type,f),_);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(e){Cu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tl,tl=!1}(e,n),fl(n,e),vr(ti),zt=!!ei,ti=ei=null,e.current=n,gl(n,e,i),Qe(),Il=l,yt=s,Pl.transition=o}else e.current=n;if(Kl&&(Kl=!1,ql=e,Yl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),ru(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zl)throw zl=!1,e=$l,$l=null,e;!!(1&Yl)&&0!==e.tag&&wu(),o=e.pendingLanes,1&o?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,ji()}(e,t,n,r)}finally{Pl.transition=i,yt=r}return null}function wu(){if(null!==ql){var e=bt(Yl),t=Pl.transition,n=yt;try{if(Pl.transition=null,yt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Yl=0,6&Il)throw Error(a(331));var i=Il;for(Il|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(16&Xs.flags){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Xs=h;else for(;null!==Xs;){var p=(d=Xs).sibling,v=d.return;if(al(d),d===c){Xs=null;break}if(null!==p){p.return=v,Xs=p;break}Xs=v}}}var m=o.alternate;if(null!==m){var f=m.child;if(null!==f){m.child=null;do{var _=f.sibling;f.sibling=null,f=_}while(null!==f)}}Xs=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(2048&(o=Xs).flags)switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xs=g;break e}Xs=o.return}}var y=e.current;for(Xs=y;null!==Xs;){var b=(s=Xs).child;if(2064&s.subtreeFlags&&null!==b)b.return=s,Xs=b;else e:for(s=y;null!==Xs;){if(2048&(l=Xs).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Cu(l,l.return,e)}if(l===s){Xs=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Xs=E;break e}Xs=l.return}}if(Il=i,ji(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{yt=n,Pl.transition=t}}return!1}function Su(e,t,n){e=Ha(e,t=ps(0,t=us(n,t),1),1),t=eu(),null!==e&&(_t(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ha(t,e=vs(t,e=us(n,e),1),1),e=eu(),null!==t&&(_t(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(xl&n)===n&&(4===Nl||3===Nl&&(130023424&xl)===xl&&500>Ze()-Ul?hu(e,0):Bl|=n),ru(e,t)}function Au(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var n=eu();null!==(e=Na(e,t))&&(_t(e,t,n),ru(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Au(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Au(e,n)}function Tu(e,t){return Ke(e,t)}function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xu(e,t,n,r){return new Ru(e,t,n,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=xu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Lu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Mu(n.children,i,o,t);case C:s=8,i|=8;break;case k:return(e=xu(12,n,t,2|i)).elementType=k,e.lanes=o,e;case T:return(e=xu(13,n,t,i)).elementType=T,e.lanes=o,e;case R:return(e=xu(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Du(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case P:s=9;break e;case I:s=11;break e;case x:s=14;break e;case L:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=xu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mu(e,t,n,r){return(e=xu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=xu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=xu(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=xu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,a,o,s,l){return e=new Hu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=xu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Uu(e){if(!e)return Pi;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return Mi(e,n,t)}return t}function ju(e,t,n,r,i,a,o,s,l){return(e=Vu(n,r,!0,e,0,a,0,s,l)).context=Uu(null),n=e.current,(a=Ba(r=eu(),i=tu(n))).callback=null!=t?t:null,Ha(n,a,i),e.current.lanes=i,_t(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ba(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ha(i,t,o))&&(nu(e,i,o,a),Va(e,i,o)),o}function zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ys=!0;else{if(!(e.lanes&n||128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),pa();break;case 5:Za(t);break;case 1:Li(t.type)&&Di(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(wa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(Ja,1&Ja.current),t.flags|=128,null):n&t.child.childLanes?Fs(e,t,n):(Ai(Ja,1&Ja.current),null!==(e=zs(e,t,n))?e.sibling:null);Ai(Ja,1&Ja.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(Ja,Ja.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return zs(e,t,n)}(e,t,n);ys=!!(131072&e.flags)}else ys=!1,ia&&1048576&t.flags&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=xi(t,Ii.current);Ta(t,n),i=fo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Lu(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===x)return 14}return 2}(r),e=ns(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=us(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=us(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ea(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=zs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),ks(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fs(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ai(wa,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ti.current){t=zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Ba(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ia(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ia(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),r=r(i=Ra(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ws(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Ws(e,t),t.tag=1,Li(r)?(e=!0,Di(t)):e=!1,Ta(t,n),os(t,r,i),ls(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Ku="function"==typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Ju(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=zu(o);s.call(e)}}Wu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=zu(o);a.call(e)}}var o=ju(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=o,e[vi]=o.current,jr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=zu(l);s.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[vi]=l.current,jr(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return zu(o)}Yu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wu(e,t,null,null)},Yu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[vi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),ru(t,Ze()),!(6&Il)&&(jl=Ze()+500,ji()))}break;case 13:cu((function(){var t=Na(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Gu(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Na(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},Ct=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uu,Te=cu;var ec={usingClientEntryPoint:!1,Events:[yi,bi,Ei,Ae,Pe,uu]},tc={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,r="",i=Ku;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,jr(8===e.nodeType?e.parentNode:e),new qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ku;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ju(t,null,e,1,null!=n?n:null,i,0,o,s),e[vi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){Ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ju(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},3509:(e,t,n)=>{"use strict";var r=n(8572);t.H=r.createRoot,r.hydrateRoot},8572:(e,t,n)=>{"use strict";n(7293),function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(7588)},9712:(e,t,n)=>{n(2195),n(1631),n(914),n(2358),n(9420),n(1433),n(1e3),n(9020),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(752);var r="undefined"!=typeof Element,i="function"==typeof Map,a="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,l,u,c;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(l=n;0!=l--;)if(!s(e[l],t[l]))return!1;return!0}if(i&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!t.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!s(l.value[1],t.get(l.value[0])))return!1;return!0}if(a&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!t.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(l=n;0!=l--;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(u=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(l=n;0!=l--;)if(!Object.prototype.hasOwnProperty.call(t,u[l]))return!1;if(r&&e instanceof Element)return!1;for(l=n;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!s(e[u[l]],t[u[l]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return s(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},5051:(e,t,n)=>{e.exports=n(7375)},7375:(e,t,n)=>{"use strict";n(7293),n(4401),n(1631),n(914),n(2358),n(9419),n(7821);var r,i=(r=n(8717))&&"object"==typeof r&&"default"in r?r.default:r,a=n(8572);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}}(e.prototype.constructor=e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e,t,n,r,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,o,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};function c(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var d={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function h(e,t,n){var r="",i="",a=null,o=[];if(void 0===t&&(t="_"),null==n&&(n=d),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var s=!1;return e.split("").forEach((function(e){s=!s&&"\\"===e||(s||!n[e]?(o.push(r.length),r.length===o.length-1&&(i+=e)):a=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:i,mask:r,lastEditablePosition:a,permanents:o}}function p(e,t){return-1!==e.permanents.indexOf(t)}function v(e,t,n){var r=e.mask,i=e.formatChars;if(!n)return!1;if(p(e,t))return r[t]===n;var a=i[r[t]];return new RegExp(a).test(n)}function m(e,t){return t.split("").every((function(t,n){return p(e,n)||!v(e,n,t)}))}function f(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&p(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var i=r.length,a=t.length;a>=r.length;a--){var o=t[a];if(!p(e,a)&&v(e,a,o)){i=a+1;break}}return i}function _(e,t){return f(e,t)===e.mask.length}function g(e,t){var n=e.maskChar,r=e.mask,i=e.prefix;if(!n){for((t=y(e,"",t,0)).length<i.length&&(t=i);t.length<r.length&&p(e,t.length);)t+=r[t.length];return t}if(t)return y(e,g(e,""),t,0);for(var a=0;a<r.length;a++)p(e,a)?t+=r[a]:t+=n;return t}function y(e,t,n,r){var i=e.mask,a=e.maskChar,o=e.prefix,s=n.split(""),l=_(e,t);return!a&&r>t.length&&(t+=i.slice(t.length,r)),s.every((function(n){for(;c=n,p(e,u=r)&&c!==i[u];){if(r>=t.length&&(t+=i[r]),s=n,a&&p(e,r)&&s===a)return!0;if(++r>=i.length)return!1}var s,u,c;return!v(e,r,n)&&n!==a||(r<t.length?t=a||l||r<o.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),g(e,t)):a||(t+=n),++r<i.length)})),t}function b(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!p(e,r))return r;return null}function E(e){return e||0===e?e+"":""}function w(e,t,n,r,i){var a=e.mask,o=e.prefix,s=e.lastEditablePosition,l=t,u="",c=0,d=0,h=Math.min(i.start,n.start);return n.end>i.start?d=(c=function(e,t,n,r){var i=e.mask,a=e.maskChar,o=n.split(""),s=r;return o.every((function(t){for(;o=t,p(e,n=r)&&o!==i[n];)if(++r>=i.length)return!1;var n,o;return(v(e,r,t)||t===a)&&r++,r<i.length})),r-s}(e,0,u=l.slice(i.start,n.end),h))?i.length:0:l.length<r.length&&(d=r.length-l.length),l=r,d&&(1!==d||i.length||(h=i.start===n.start?b(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!p(e,n))return n;return null}(e,n.start)),l=function(e,t,n,r){var i=n+r,a=e.maskChar,o=e.mask,s=e.prefix,l=t.split("");if(a)return l.map((function(t,r){return r<n||i<=r?t:p(e,r)?o[r]:a})).join("");for(var u=i;u<l.length;u++)p(e,u)&&(l[u]="");return n=Math.max(s.length,n),l.splice(n,i-n),t=l.join(""),g(e,t)}(e,l,h,d)),l=y(e,l,u,h),(h+=c)>=a.length?h=a.length:h<o.length&&!c?h=o.length:h>=o.length&&h<s&&c&&(h=b(e,h)),u||(u=null),{value:l=g(e,l),enteredString:u,selection:{start:h,end:h}}}function S(e){return"function"==typeof e}function C(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function k(e){return(C()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function A(e){(C()||clearTimeout)(e)}var P=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=k(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(A(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=a.findDOMNode(l(l(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=f(n.maskOptions,n.value),t=b(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var i=n.getInputDOMNode(),a=n.isFocused();i&&a&&(r.deferred||c(i,e,t),null!==n.selectionDeferId&&A(n.selectionDeferId),n.selectionDeferId=k((function(){n.selectionDeferId=null,c(i,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,i=e.permanents,a=e.formatChars;return{mask:t,maskChar:r,permanents:i,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:a}},n.isInputAutofilled=function(e,t,r,i){var a=n.getInputDOMNode();try{if(a.matches(":-webkit-autofill"))return!0}catch(e){}return!n.focused||i.end<r.length&&t.end===e.length},n.onChange=function(e){var t=l(l(n)).beforePasteState,r=l(l(n)).previousSelection,i=n.props.beforeMaskedValueChange,a=n.getInputValue(),o=n.value,s=n.getSelection();n.isInputAutofilled(a,s,o,r)&&(o=g(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,o=t.value,s={start:r.start+a.length,end:r.start+a.length,length:0},a=o.slice(0,r.start)+a+o.slice(r.end),n.beforePasteState=null);var u=w(n.maskOptions,a,s,o,r),c=u.enteredString,d=u.selection,h=u.value;if(S(i)){var p=i({value:h,selection:d},{value:o,selection:r},c,n.getBeforeMaskedValueChangeConfig());h=p.value,d=p.selection}n.setInputValue(h),S(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(d.start,d.end,{deferred:!0}):n.setSelection(d.start,d.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,i=r.mask,a=r.prefix;if(n.focused=!0,n.mounted=!0,i){if(n.value)f(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var o=g(n.maskOptions,a),s=g(n.maskOptions,o),l=f(n.maskOptions,s),u=b(n.maskOptions,l),c={start:u,end:u};if(S(t)){var d=t({value:s,selection:c},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());s=d.value,c=d.selection}var h=s!==n.getInputValue();h&&n.setInputValue(s),h&&S(n.props.onChange)&&n.props.onChange(e),n.setSelection(c.start,c.end)}n.runSaveSelectionLoop()}S(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&m(n.maskOptions,n.value)){var i="";S(t)&&(i=t({value:i,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var a=i!==n.getInputValue();a&&n.setInputValue(i),a&&S(n.props.onChange)&&n.props.onChange(e)}S(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),i=Math.abs(t.clientY-n.mouseDownY),a=Math.max(r,i),o=(new Date).getTime()-n.mouseDownTime;(a<=10&&o<=200||a<=5&&o<=300)&&n.setCursorToEnd()}}))}S(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){S(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&S(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,i=t.maskChar,o=t.formatChars,s=t.alwaysShowMask,u=t.beforeMaskedValueChange,d=t.defaultValue,p=t.value;n.maskOptions=h(r,i,o),null==d&&(d=""),null==p&&(p=d);var v=E(p);if(n.maskOptions.mask&&(s||v)&&(v=g(n.maskOptions,v),S(u))){var _=t.value;null==t.value&&(_=d),v=u({value:v,selection:null},{value:_=E(_),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=v,n}s(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,i=t.mask,a=t.maskChar,o=t.formatChars,s=this.maskOptions,l=r||this.isFocused(),u=null!=this.props.value,c=u?E(this.props.value):this.value,d=e?e.start:null;if(this.maskOptions=h(i,a,o),this.maskOptions.mask){!s.mask&&this.isFocused()&&this.runSaveSelectionLoop();var p=this.maskOptions.mask&&this.maskOptions.mask!==s.mask;if(s.mask||u||(c=this.getInputValue()),(p||this.maskOptions.mask&&(c||l))&&(c=g(this.maskOptions,c)),p){var v=f(this.maskOptions,c);(null===d||v<d)&&(d=_(this.maskOptions,c)?v:b(this.maskOptions,v))}!this.maskOptions.mask||!m(this.maskOptions,c)||l||u&&this.props.value||(c="");var y={start:d,end:d};if(S(n)){var w=n({value:c,selection:y},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());c=w.value,y=w.selection}this.value=c;var C=this.getInputValue()!==this.value;C?(this.setInputValue(this.value),this.forceUpdate()):p&&this.forceUpdate();var k=!1;null!=y.start&&null!=y.end&&(k=!e||e.start!==y.start||e.end!==y.end),(k||C)&&this.setSelection(y.start,y.end)}else s.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&A(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){S(n)||u(!1);var a=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],s=o({},r);a.forEach((function(e){return delete s[e]})),e=n(s),a.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&u(!1)}else e=i.createElement("input",o({ref:this.handleRef},r));var l={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(l.onChange=this.onChange,l.onPaste=this.onPaste,l.onMouseDown=this.onMouseDown),null!=r.value&&(l.value=this.value)),e=i.cloneElement(e,l)},t}(i.Component);e.exports=P},4268:(e,t,n)=>{"use strict";n(7293),n(2195),n(4401),n(2358),n(9419),n(752);var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,_={};function g(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var E=b.prototype=new y;E.constructor=b,f(E,g.prototype),E.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:r,type:e,key:o,ref:s,props:a,_owner:C.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var I=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,n,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case i:l=!0}}if(l)return o=o(l=e),e=""===a?"."+T(l,0):a,w(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),R(o,t,n,"",(function(e){return e}))):null!=o&&(P(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+T(s=e[u],u);l+=R(s,t,n,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=v&&e[v]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=R(s=s.value,t,n,c=a+T(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function x(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},N={transition:null},M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:N,ReactCurrentOwner:C};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},8717:(e,t,n)=>{"use strict";e.exports=n(4268)},132:(e,t,n)=>{"use strict";function r(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(n(4401),n(9679),"object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,p=null,v=3,m=!1,f=!1,_=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=i(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=i(d)}}function w(e){if(_=!1,E(e),!f)if(null!==i(c))f=!0,N(S);else{var t=i(d);null!==t&&M(w,t.startTime-e)}}function S(e,n){f=!1,_&&(_=!1,y(P),P=-1),m=!0;var r=v;try{for(E(n),p=i(c);null!==p&&(!(p.expirationTime>n)||e&&!R());){var o=p.callback;if("function"==typeof o){p.callback=null,v=p.priorityLevel;var s=o(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===i(c)&&a(c),E(n)}else a(c);p=i(c)}if(null!==p)var l=!0;else{var u=i(d);null!==u&&M(w,u.startTime-n),l=!1}return l}finally{p=null,v=r,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,k=!1,A=null,P=-1,I=5,T=-1;function R(){return!(t.unstable_now()-T<I)}function x(){if(null!==A){var e=t.unstable_now();T=e;var n=!0;try{n=A(!0,e)}finally{n?C():(k=!1,A=null)}}else k=!1}if("function"==typeof b)C=function(){b(x)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,O=L.port2;L.port1.onmessage=x,C=function(){O.postMessage(null)}}else C=function(){g(x,0)};function N(e){A=e,k||(k=!0,C())}function M(e,n){P=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(v){case 1:case 2:case 3:var t=3;break;default:t=v}var n=v;v=t;try{return e()}finally{v=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=v;v=e;try{return t()}finally{v=n}},t.unstable_scheduleCallback=function(e,n,a){var o=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:n,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,r(d,e),null===i(c)&&e===i(d)&&(_?(y(P),P=-1):_=!0,M(w,a-o))):(e.sortIndex=s,r(c,e),f||m||(f=!0,N(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=v;return function(){var n=v;v=t;try{return e.apply(this,arguments)}finally{v=n}}}},2875:(e,t,n)=>{"use strict";e.exports=n(132)},3983:(e,t,n)=>{n(3867),function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,a={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(e,n){return new Promise(function(i,a){var o=function(){this.off("change",o),i()}.bind(this);this.on("change",o);var s=(e=e||t.documentElement)[r.requestFullscreen](n);s instanceof Promise&&s.then(o).catch(a)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this);this.on("change",i);var a=t[r.exitFullscreen]();a instanceof Promise&&a.then(i).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},7140:function(e,t,n){"use strict";n(8668),n(7293),n(2195),n(4401),n(3867),n(2358),n(9419),n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020),n(752),n(4175),n(5343),n(299),n(8578),n(9857),n(9972);var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.moduleName=void 0,t.moduleName="toWebVTT";var a=function(e,n){return new Promise((function(r,i){var a=new FileReader,o=function(e){var t=e.target.result;a.removeEventListener("loadend",o),r("string"!==n?new Uint8Array(t):t)},s=function(){a.removeEventListener("error",s),i(new Error(t.moduleName+": Error while reading the Blob object"))};a.addEventListener("loadend",o),a.addEventListener("error",s),"string"!==n?a.readAsArrayBuffer(e):a.readAsText(e)}))},o=function(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))},s=function(e){return e.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat("\r\n\r\n")};t.default=function(e){return r(void 0,void 0,void 0,(function(){var n,r,l,u;return i(this,(function(i){switch(i.label){case 0:if(!FileReader)throw new Error(t.moduleName+": No FileReader constructor found");if(!TextDecoder)throw new Error(t.moduleName+": No TextDecoder constructor found");if(!(e instanceof Blob))throw new Error(t.moduleName+": Expecting resource to be a Blob but something else found.");r="WEBVTT FILE\r\n\r\n",i.label=1;case 1:return i.trys.push([1,3,,5]),[4,a(e,"string")];case 2:return l=i.sent(),n=r.concat(s(l)),[3,5];case 3:return i.sent(),[4,a(e,"buffer")];case 4:return l=i.sent(),u=new TextDecoder("utf-8").decode(l),n=r.concat(s(u)),[3,5];case 5:return[2,Promise.resolve(o(n))]}}))}))}},4158:(e,t,n)=>{"use strict";var r=n(8717);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),o((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},2583:(e,t,n)=>{"use strict";e.exports=n(4158)},6417:()=>{},6626:(e,t,n)=>{n(8668),n(9837),n(7293),n(2195),n(4401),n(3867),n(7821),n(752);var r=n(4945).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),o=new O(r||[]);return s(a,"_invoke",{value:T(e,n,o)}),a}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var m="suspendedStart",f="suspendedYield",_="executing",g="completed",y={};function b(){}function E(){}function w(){}var S={};h(S,u,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(N([])));k&&k!==a&&o.call(k,u)&&(S=k);var A=w.prototype=b.prototype=Object.create(S);function P(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,s,l){var u=v(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function T(e,n,r){var i=m;return function(a,o){if(i===_)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=R(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var u=v(e,n,r);if("normal"===u.type){if(i=r.done?g:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=v(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return E.prototype=w,s(A,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:E,configurable:!0}),E.displayName=h(w,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,h(e,d,"GeneratorFunction")),e.prototype=Object.create(A),e},n.awrap=function(e){return{__await:e}},P(I.prototype),h(I.prototype,c,(function(){return this})),n.AsyncIterator=I,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new I(p(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(A),h(A,d,"Generator"),h(A,u,(function(){return this})),h(A,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},4945:(e,t,n)=>{function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}n(8668),n(2195),n(752),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},9793:(e,t,n)=>{n(9928);var r=n(6626)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},451:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2775:(e,t,n)=>{"use strict";n(2e3),n(2220);var r=n(256);e.exports=r.f("metadata")},2460:(e,t,n)=>{"use strict";var r=n(2775);e.exports=r},3727:(e,t,n)=>{"use strict";var r=n(2954),i=n(6832),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not a function")}},5611:(e,t,n)=>{"use strict";var r=n(844),i=n(6832),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not a constructor")}},9755:(e,t,n)=>{"use strict";var r=n(2954),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},1455:(e,t,n)=>{"use strict";var r=n(2585).has;e.exports=function(e){return r(e),e}},6780:(e,t,n)=>{"use strict";var r=n(6216),i=n(3403),a=n(7740).f,o=r("unscopables"),s=Array.prototype;void 0===s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},7960:(e,t,n)=>{"use strict";var r=n(2414).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},8108:(e,t,n)=>{"use strict";var r=n(6952),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},2816:(e,t,n)=>{"use strict";var r=n(2845),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not an object")}},6674:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4576:(e,t,n)=>{"use strict";var r=n(4767),i=n(383),a=TypeError;e.exports=r(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==i(e))throw new a("ArrayBuffer expected");return e.byteLength}},3179:(e,t,n)=>{"use strict";var r=n(4627),i=n(4576),a=r(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==i(e))return!1;try{return a(e,0,0),!1}catch(e){return!0}}},4515:(e,t,n)=>{"use strict";var r=n(1186),i=n(4627),a=n(4767),o=n(3785),s=n(3179),l=n(4576),u=n(232),c=n(9173),d=r.structuredClone,h=r.ArrayBuffer,p=r.DataView,v=r.TypeError,m=Math.min,f=h.prototype,_=p.prototype,g=i(f.slice),y=a(f,"resizable","get"),b=a(f,"maxByteLength","get"),E=i(_.getInt8),w=i(_.setInt8);e.exports=(c||u)&&function(e,t,n){var r,i=l(e),a=void 0===t?i:o(t),f=!y||!y(e);if(s(e))throw new v("ArrayBuffer is detached");if(c&&(e=d(e,{transfer:[e]}),i===a&&(n||f)))return e;if(i>=a&&(!n||f))r=g(e,0,a);else{var _=n&&!f&&b?{maxByteLength:b(e)}:void 0;r=new h(a,_);for(var S=new p(e),C=new p(r),k=m(a,i),A=0;A<k;A++)w(C,A,E(S,A))}return c||u(e),r}},2105:(e,t,n)=>{"use strict";var r,i,a,o=n(6674),s=n(1271),l=n(1186),u=n(2954),c=n(2845),d=n(188),h=n(7404),p=n(6832),v=n(8890),m=n(359),f=n(9171),_=n(6952),g=n(8324),y=n(7896),b=n(6216),E=n(3139),w=n(1364),S=w.enforce,C=w.get,k=l.Int8Array,A=k&&k.prototype,P=l.Uint8ClampedArray,I=P&&P.prototype,T=k&&g(k),R=A&&g(A),x=Object.prototype,L=l.TypeError,O=b("toStringTag"),N=E("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",D=o&&!!y&&"Opera"!==h(l.opera),F=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},H={BigInt64Array:8,BigUint64Array:8},V=function(e){var t=g(e);if(c(t)){var n=C(t);return n&&d(n,M)?n[M]:V(t)}},U=function(e){if(!c(e))return!1;var t=h(e);return d(B,t)||d(H,t)};for(r in B)(a=(i=l[r])&&i.prototype)?S(a)[M]=i:D=!1;for(r in H)(a=(i=l[r])&&i.prototype)&&(S(a)[M]=i);if((!D||!u(T)||T===Function.prototype)&&(T=function(){throw new L("Incorrect invocation")},D))for(r in B)l[r]&&y(l[r],T);if((!D||!R||R===x)&&(R=T.prototype,D))for(r in B)l[r]&&y(l[r].prototype,R);if(D&&g(I)!==R&&y(I,R),s&&!d(R,O))for(r in F=!0,f(R,O,{configurable:!0,get:function(){return c(this)?this[N]:void 0}}),B)l[r]&&v(l[r],N,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:F&&N,aTypedArray:function(e){if(U(e))return e;throw new L("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!y||_(T,e)))return e;throw new L(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in B){var a=l[i];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(n){try{a.prototype[e]=t}catch(e){}}}R[e]&&!n||m(R,e,n?t:D&&A[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(y){if(n)for(r in B)if((i=l[r])&&d(i,e))try{delete i[e]}catch(e){}if(T[e]&&!n)return;try{return m(T,e,n?t:D&&T[e]||t)}catch(e){}}for(r in B)!(i=l[r])||i[e]&&!n||m(i,e,t)}},getTypedArrayConstructor:V,isView:function(e){if(!c(e))return!1;var t=h(e);return"DataView"===t||d(B,t)||d(H,t)},isTypedArray:U,TypedArray:T,TypedArrayPrototype:R}},9448:(e,t,n)=>{"use strict";var r=n(5090),i=n(9233),a=n(1279);e.exports=function(e){for(var t=r(this),n=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)t[s++]=e;return t}},3970:(e,t,n)=>{"use strict";var r=n(8374).forEach,i=n(4439)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},293:(e,t,n)=>{"use strict";var r=n(1279);e.exports=function(e,t){for(var n=0,i=r(t),a=new e(i);i>n;)a[n]=t[n++];return a}},9981:(e,t,n)=>{"use strict";var r=n(5319),i=n(7098),a=n(5090),o=n(7538),s=n(5876),l=n(844),u=n(1279),c=n(4631),d=n(2156),h=n(1480),p=Array;e.exports=function(e){var t=a(e),n=l(this),v=arguments.length,m=v>1?arguments[1]:void 0,f=void 0!==m;f&&(m=r(m,v>2?arguments[2]:void 0));var _,g,y,b,E,w,S=h(t),C=0;if(!S||this===p&&s(S))for(_=u(t),g=n?new this(_):p(_);_>C;C++)w=f?m(t[C],C):t[C],c(g,C,w);else for(E=(b=d(t,S)).next,g=n?new this:[];!(y=i(E,b)).done;C++)w=f?o(b,m,[y.value,C],!0):y.value,c(g,C,w);return g.length=C,g}},1716:(e,t,n)=>{"use strict";var r=n(6862),i=n(9233),a=n(1279),o=function(e){return function(t,n,o){var s,l=r(t),u=a(l),c=i(o,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},1428:(e,t,n)=>{"use strict";var r=n(5319),i=n(1106),a=n(5090),o=n(1279),s=function(e){var t=1===e;return function(n,s,l){for(var u,c=a(n),d=i(c),h=r(s,l),p=o(d);p-- >0;)if(h(u=d[p],p,c))switch(e){case 0:return u;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},8374:(e,t,n)=>{"use strict";var r=n(5319),i=n(4627),a=n(1106),o=n(5090),s=n(1279),l=n(1912),u=i([].push),c=function(e){var t=1===e,n=2===e,i=3===e,c=4===e,d=6===e,h=7===e,p=5===e||d;return function(v,m,f,_){for(var g,y,b=o(v),E=a(b),w=r(m,f),S=s(E),C=0,k=_||l,A=t?k(v,S):n||h?k(v,0):void 0;S>C;C++)if((p||C in E)&&(y=w(g=E[C],C,b),e))if(t)A[C]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return C;case 2:u(A,g)}else switch(e){case 4:return!1;case 7:u(A,g)}return d?-1:i||c?c:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},4439:(e,t,n)=>{"use strict";var r=n(4476);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},4067:(e,t,n)=>{"use strict";var r=n(3727),i=n(5090),a=n(1106),o=n(1279),s=TypeError,l=function(e){return function(t,n,l,u){r(n);var c=i(t),d=a(c),h=o(c),p=e?h-1:0,v=e?-1:1;if(l<2)for(;;){if(p in d){u=d[p],p+=v;break}if(p+=v,e?p<0:h<=p)throw new s("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=v)p in d&&(u=n(u,d[p],p,c));return u}};e.exports={left:l(!1),right:l(!0)}},6586:(e,t,n)=>{"use strict";var r=n(1271),i=n(2497),a=TypeError,o=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},2626:(e,t,n)=>{"use strict";var r=n(9233),i=n(1279),a=n(4631),o=Array,s=Math.max;e.exports=function(e,t,n){for(var l=i(e),u=r(t,l),c=r(void 0===n?l:n,l),d=o(s(c-u,0)),h=0;u<c;u++,h++)a(d,h,e[u]);return d.length=h,d}},6147:(e,t,n)=>{"use strict";var r=n(4627);e.exports=r([].slice)},9441:(e,t,n)=>{"use strict";var r=n(2626),i=Math.floor,a=function(e,t){var n=e.length,l=i(n/2);return n<8?o(e,t):s(e,a(r(e,0,l),t),a(r(e,l),t),t)},o=function(e,t){for(var n,r,i=e.length,a=1;a<i;){for(r=a,n=e[a];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var i=t.length,a=n.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?r(t[o],n[s])<=0?t[o++]:n[s++]:o<i?t[o++]:n[s++];return e};e.exports=a},3658:(e,t,n)=>{"use strict";var r=n(2497),i=n(844),a=n(2845),o=n(6216)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},1912:(e,t,n)=>{"use strict";var r=n(3658);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},4063:(e,t,n)=>{"use strict";var r=n(1279);e.exports=function(e,t){for(var n=r(e),i=new t(n),a=0;a<n;a++)i[a]=e[n-a-1];return i}},6325:(e,t,n)=>{"use strict";var r=n(1279),i=n(9546),a=RangeError;e.exports=function(e,t,n,o){var s=r(e),l=i(n),u=l<0?s+l:l;if(u>=s||u<0)throw new a("Incorrect index");for(var c=new t(s),d=0;d<s;d++)c[d]=d===u?o:e[d];return c}},7538:(e,t,n)=>{"use strict";var r=n(2816),i=n(8106);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},2841:(e,t,n)=>{"use strict";var r=n(6216)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},383:(e,t,n)=>{"use strict";var r=n(4627),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},7404:(e,t,n)=>{"use strict";var r=n(9119),i=n(2954),a=n(383),o=n(6216)("toStringTag"),s=Object,l="Arguments"===a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?n:l?a(t):"Object"===(r=a(t))&&i(t.callee)?"Arguments":r}},2891:(e,t,n)=>{"use strict";var r=n(188),i=n(402),a=n(6614),o=n(7740);e.exports=function(e,t,n){for(var s=i(t),l=o.f,u=a.f,c=0;c<s.length;c++){var d=s[c];r(e,d)||n&&r(n,d)||l(e,d,u(t,d))}}},1974:(e,t,n)=>{"use strict";var r=n(4476);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1278:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},8890:(e,t,n)=>{"use strict";var r=n(1271),i=n(7740),a=n(3033);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},3033:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4631:(e,t,n)=>{"use strict";var r=n(3302),i=n(7740),a=n(3033);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},9171:(e,t,n)=>{"use strict";var r=n(4024),i=n(7740);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},359:(e,t,n)=>{"use strict";var r=n(2954),i=n(7740),a=n(4024),o=n(1188);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:t;if(r(n)&&a(n,u,s),s.global)l?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3618:(e,t,n)=>{"use strict";var r=n(359);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1188:(e,t,n)=>{"use strict";var r=n(1186),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6519:(e,t,n)=>{"use strict";var r=n(6832),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},1271:(e,t,n)=>{"use strict";var r=n(4476);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},232:(e,t,n)=>{"use strict";var r,i,a,o,s=n(1186),l=n(4043),u=n(9173),c=s.structuredClone,d=s.ArrayBuffer,h=s.MessageChannel,p=!1;if(u)p=function(e){c(e,{transfer:[e]})};else if(d)try{h||(r=l("worker_threads"))&&(h=r.MessageChannel),h&&(i=new h,a=new d(2),o=function(e){i.port1.postMessage(null,[e])},2===a.byteLength&&(o(a),0===a.byteLength&&(p=o)))}catch(e){}e.exports=p},4602:e=>{"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},2848:(e,t,n)=>{"use strict";var r=n(1186),i=n(2845),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},1544:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},9177:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7751:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6589:(e,t,n)=>{"use strict";var r=n(2848)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},3881:(e,t,n)=>{"use strict";var r=n(3075).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},9373:(e,t,n)=>{"use strict";var r=n(137),i=n(1301);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},596:e=>{"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},137:e=>{"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},2535:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/MSIE|Trident/.test(r)},1365:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},6444:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},1301:(e,t,n)=>{"use strict";var r=n(1186),i=n(383);e.exports="process"===i(r.process)},6336:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/web0s(?!.*chrome)/i.test(r)},3075:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4307:(e,t,n)=>{"use strict";var r,i,a=n(1186),o=n(3075),s=a.process,l=a.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},6923:(e,t,n)=>{"use strict";var r=n(3075).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},3944:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4658:(e,t,n)=>{"use strict";var r=n(4627),i=Error,a=r("".replace),o=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},796:(e,t,n)=>{"use strict";var r=n(8890),i=n(4658),a=n(3616),o=Error.captureStackTrace;e.exports=function(e,t,n,s){a&&(o?o(e,t):r(e,"stack",i(n,s)))}},3616:(e,t,n)=>{"use strict";var r=n(4476),i=n(3033);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},5651:(e,t,n)=>{"use strict";var r=n(1186),i=n(6614).f,a=n(8890),o=n(359),s=n(1188),l=n(2891),u=n(5847);e.exports=function(e,t){var n,c,d,h,p,v=e.target,m=e.global,f=e.stat;if(n=m?r:f?r[v]||s(v,{}):(r[v]||{}).prototype)for(c in t){if(h=t[c],d=e.dontCallGetSet?(p=i(n,c))&&p.value:n[c],!u(m?c:v+(f?".":"#")+c,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),o(n,c,h,e)}}},4476:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3981:(e,t,n)=>{"use strict";n(2358);var r=n(6905),i=n(359),a=n(8724),o=n(4476),s=n(6216),l=n(8890),u=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,d){var h=s(e),p=!o((function(){var t={};return t[h]=function(){return 7},7!==""[e](t)})),v=p&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!p||!v||n){var m=r(/./[h]),f=t(h,""[e],(function(e,t,n,i,o){var s=r(e),l=t.exec;return l===a||l===c.exec?p&&!o?{done:!0,value:m(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,f[0]),i(c,h,f[1])}d&&l(c[h],"sham",!0)}},4102:(e,t,n)=>{"use strict";var r=n(2497),i=n(1279),a=n(1544),o=n(5319),s=function(e,t,n,l,u,c,d,h){for(var p,v,m=u,f=0,_=!!d&&o(d,h);f<l;)f in n&&(p=_?_(n[f],f,t):n[f],c>0&&r(p)?(v=i(p),m=s(e,t,p,v,m,c-1)-1):(a(m+1),e[m]=p),m++),f++;return m};e.exports=s},3240:(e,t,n)=>{"use strict";var r=n(8097),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},5319:(e,t,n)=>{"use strict";var r=n(6905),i=n(3727),a=n(8097),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},8097:(e,t,n)=>{"use strict";var r=n(4476);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7098:(e,t,n)=>{"use strict";var r=n(8097),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},4737:(e,t,n)=>{"use strict";var r=n(1271),i=n(188),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},4767:(e,t,n)=>{"use strict";var r=n(4627),i=n(3727);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6905:(e,t,n)=>{"use strict";var r=n(383),i=n(4627);e.exports=function(e){if("Function"===r(e))return i(e)}},4627:(e,t,n)=>{"use strict";var r=n(8097),i=Function.prototype,a=i.call,o=r&&i.bind.bind(a,a);e.exports=r?o:function(e){return function(){return a.apply(e,arguments)}}},2078:(e,t,n)=>{"use strict";var r=n(1186),i=n(2954);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},4692:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1480:(e,t,n)=>{"use strict";var r=n(7404),i=n(1463),a=n(400),o=n(5166),s=n(6216)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[r(e)]}},2156:(e,t,n)=>{"use strict";var r=n(7098),i=n(3727),a=n(2816),o=n(6832),s=n(1480),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return a(r(n,e));throw new l(o(e)+" is not iterable")}},9776:(e,t,n)=>{"use strict";var r=n(4627),i=n(2497),a=n(2954),o=n(383),s=n(9376),l=r([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var u=e[r];"string"==typeof u?l(n,u):"number"!=typeof u&&"Number"!==o(u)&&"String"!==o(u)||l(n,s(u))}var c=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<c;r++)if(n[r]===e)return t}}}},1463:(e,t,n)=>{"use strict";var r=n(3727),i=n(400);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},9244:(e,t,n)=>{"use strict";var r=n(3727),i=n(2816),a=n(7098),o=n(9546),s=n(4692),l="Invalid size",u=RangeError,c=TypeError,d=Math.max,h=function(e,t,n,r){this.set=e,this.size=t,this.has=n,this.keys=r};h.prototype={getIterator:function(){return s(i(a(this.keys,this.set)))},includes:function(e){return a(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw new c(l);var n=o(t);if(n<0)throw new u(l);return new h(e,d(n,0),r(e.has),r(e.keys))}},151:(e,t,n)=>{"use strict";var r=n(4627),i=n(5090),a=Math.floor,o=r("".charAt),s=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,h){var p=n+e.length,v=r.length,m=c;return void 0!==d&&(d=i(d),m=u),s(h,m,(function(i,s){var u;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,p);case"<":u=d[l(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>v){var h=a(c/10);return 0===h?i:h<=v?void 0===r[h-1]?o(s,1):r[h-1]+o(s,1):i}u=r[c-1]}return void 0===u?"":u}))}},1186:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},188:(e,t,n)=>{"use strict";var r=n(4627),i=n(5090),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},6562:e=>{"use strict";e.exports={}},5408:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},1872:(e,t,n)=>{"use strict";var r=n(2078);e.exports=r("document","documentElement")},1664:(e,t,n)=>{"use strict";var r=n(1271),i=n(4476),a=n(2848);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1106:(e,t,n)=>{"use strict";var r=n(4627),i=n(4476),a=n(383),o=Object,s=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?s(e,""):o(e)}:o},3220:(e,t,n)=>{"use strict";var r=n(2954),i=n(2845),a=n(7896);e.exports=function(e,t,n){var o,s;return a&&r(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&a(e,s),e}},4551:(e,t,n)=>{"use strict";var r=n(4627),i=n(2954),a=n(6656),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},3611:(e,t,n)=>{"use strict";var r=n(2845),i=n(8890);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},1364:(e,t,n)=>{"use strict";var r,i,a,o=n(7783),s=n(1186),l=n(2845),u=n(8890),c=n(188),d=n(6656),h=n(8682),p=n(6562),v="Object already initialized",m=s.TypeError,f=s.WeakMap;if(o||d.state){var _=d.state||(d.state=new f);_.get=_.get,_.has=_.has,_.set=_.set,r=function(e,t){if(_.has(e))throw new m(v);return t.facade=e,_.set(e,t),t},i=function(e){return _.get(e)||{}},a=function(e){return _.has(e)}}else{var g=h("state");p[g]=!0,r=function(e,t){if(c(e,g))throw new m(v);return t.facade=e,u(e,g,t),t},i=function(e){return c(e,g)?e[g]:{}},a=function(e){return c(e,g)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}}}},5876:(e,t,n)=>{"use strict";var r=n(6216),i=n(5166),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},2497:(e,t,n)=>{"use strict";var r=n(383);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4094:(e,t,n)=>{"use strict";var r=n(7404);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},2954:(e,t,n)=>{"use strict";var r=n(4602),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},844:(e,t,n)=>{"use strict";var r=n(4627),i=n(4476),a=n(2954),o=n(7404),s=n(2078),l=n(4551),u=function(){},c=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=r(h.exec),v=!h.test(u),m=function(e){if(!a(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},f=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!p(h,l(e))}catch(e){return!0}};f.sham=!0,e.exports=!d||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?f:m},5847:(e,t,n)=>{"use strict";var r=n(4476),i=n(2954),a=/#|\.prototype\./,o=function(e,t){var n=l[s(e)];return n===c||n!==u&&(i(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},400:e=>{"use strict";e.exports=function(e){return null==e}},2845:(e,t,n)=>{"use strict";var r=n(2954),i=n(4602),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===a}:function(e){return"object"==typeof e?null!==e:r(e)}},8128:e=>{"use strict";e.exports=!1},3511:(e,t,n)=>{"use strict";var r=n(2845),i=n(383),a=n(6216)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"===i(e))}},1578:(e,t,n)=>{"use strict";var r=n(2078),i=n(2954),a=n(6952),o=n(9367),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,s(e))}},6830:(e,t,n)=>{"use strict";var r=n(7098);e.exports=function(e,t,n){for(var i,a,o=n?e:e.iterator,s=e.next;!(i=r(s,o)).done;)if(void 0!==(a=t(i.value)))return a}},5287:(e,t,n)=>{"use strict";var r=n(5319),i=n(7098),a=n(2816),o=n(6832),s=n(5876),l=n(1279),u=n(6952),c=n(2156),d=n(1480),h=n(8106),p=TypeError,v=function(e,t){this.stopped=e,this.result=t},m=v.prototype;e.exports=function(e,t,n){var f,_,g,y,b,E,w,S=n&&n.that,C=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_RECORD),A=!(!n||!n.IS_ITERATOR),P=!(!n||!n.INTERRUPTED),I=r(t,S),T=function(e){return f&&h(f,"normal",e),new v(!0,e)},R=function(e){return C?(a(e),P?I(e[0],e[1],T):I(e[0],e[1])):P?I(e,T):I(e)};if(k)f=e.iterator;else if(A)f=e;else{if(!(_=d(e)))throw new p(o(e)+" is not iterable");if(s(_)){for(g=0,y=l(e);y>g;g++)if((b=R(e[g]))&&u(m,b))return b;return new v(!1)}f=c(e,_)}for(E=k?e.next:f.next;!(w=i(E,f)).done;){try{b=R(w.value)}catch(e){h(f,"throw",e)}if("object"==typeof b&&b&&u(m,b))return b}return new v(!1)}},8106:(e,t,n)=>{"use strict";var r=n(7098),i=n(2816),a=n(1463);e.exports=function(e,t,n){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw n;if(s)throw o;return i(o),n}},4749:(e,t,n)=>{"use strict";var r=n(6268).IteratorPrototype,i=n(3403),a=n(3033),o=n(9640),s=n(5166),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:a(+!u,n)}),o(e,c,!1,!0),s[c]=l,e}},8199:(e,t,n)=>{"use strict";var r=n(5651),i=n(7098),a=n(8128),o=n(4737),s=n(2954),l=n(4749),u=n(8324),c=n(7896),d=n(9640),h=n(8890),p=n(359),v=n(6216),m=n(5166),f=n(6268),_=o.PROPER,g=o.CONFIGURABLE,y=f.IteratorPrototype,b=f.BUGGY_SAFARI_ITERATORS,E=v("iterator"),w="keys",S="values",C="entries",k=function(){return this};e.exports=function(e,t,n,o,v,f,A){l(n,t,o);var P,I,T,R=function(e){if(e===v&&M)return M;if(!b&&e&&e in O)return O[e];switch(e){case w:case S:case C:return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",L=!1,O=e.prototype,N=O[E]||O["@@iterator"]||v&&O[v],M=!b&&N||R(v),D="Array"===t&&O.entries||N;if(D&&(P=u(D.call(new e)))!==Object.prototype&&P.next&&(a||u(P)===y||(c?c(P,y):s(P[E])||p(P,E,k)),d(P,x,!0,!0),a&&(m[x]=k)),_&&v===S&&N&&N.name!==S&&(!a&&g?h(O,"name",S):(L=!0,M=function(){return i(N,this)})),v)if(I={values:R(S),keys:f?M:R(w),entries:R(C)},A)for(T in I)(b||L||!(T in O))&&p(O,T,I[T]);else r({target:t,proto:!0,forced:b||L},I);return a&&!A||O[E]===M||p(O,E,M,{name:v}),m[t]=M,I}},6268:(e,t,n)=>{"use strict";var r,i,a,o=n(4476),s=n(2954),l=n(2845),u=n(3403),c=n(8324),d=n(359),h=n(6216),p=n(8128),v=h("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(r=i):m=!0),!l(r)||o((function(){var e={};return r[v].call(e)!==e}))?r={}:p&&(r=u(r)),s(r[v])||d(r,v,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},5166:e=>{"use strict";e.exports={}},1279:(e,t,n)=>{"use strict";var r=n(4497);e.exports=function(e){return r(e.length)}},4024:(e,t,n)=>{"use strict";var r=n(4627),i=n(4476),a=n(2954),o=n(188),s=n(1271),l=n(4737).CONFIGURABLE,u=n(4551),c=n(1364),d=c.enforce,h=c.get,p=String,v=Object.defineProperty,m=r("".slice),f=r("".replace),_=r([].join),g=s&&!i((function(){return 8!==v((function(){}),"length",{value:8}).length})),y=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+f(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||l&&e.name!==t)&&(s?v(e,"name",{value:t,configurable:!0}):e.name=t),g&&n&&o(n,"arity")&&e.length!==n.arity&&v(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&v(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return o(r,"source")||(r.source=_(y,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return a(this)&&h(this).source||u(this)}),"toString")},3176:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},756:(e,t,n)=>{"use strict";var r,i,a,o,s,l=n(1186),u=n(5319),c=n(6614).f,d=n(6496).set,h=n(7050),p=n(6444),v=n(1365),m=n(6336),f=n(1301),_=l.MutationObserver||l.WebKitMutationObserver,g=l.document,y=l.process,b=l.Promise,E=c(l,"queueMicrotask"),w=E&&E.value;if(!w){var S=new h,C=function(){var e,t;for(f&&(e=y.domain)&&e.exit();t=S.get();)try{t()}catch(e){throw S.head&&r(),e}e&&e.enter()};p||f||m||!_||!g?!v&&b&&b.resolve?((o=b.resolve(void 0)).constructor=b,s=u(o.then,o),r=function(){s(C)}):f?r=function(){y.nextTick(C)}:(d=u(d,l),r=function(){d(C)}):(i=!0,a=g.createTextNode(""),new _(C).observe(a,{characterData:!0}),r=function(){a.data=i=!i}),w=function(e){S.head||r(),S.add(e)}}e.exports=w},2862:(e,t,n)=>{"use strict";var r=n(3727),i=TypeError,a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},3808:(e,t,n)=>{"use strict";var r=n(9376);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},4466:(e,t,n)=>{"use strict";var r=n(1271),i=n(4627),a=n(7098),o=n(4476),s=n(731),l=n(1634),u=n(6030),c=n(5090),d=n(1106),h=Object.assign,p=Object.defineProperty,v=i([].concat);e.exports=!h||o((function(){if(r&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==h({},e)[n]||s(h({},t)).join("")!==i}))?function(e,t){for(var n=c(e),i=arguments.length,o=1,h=l.f,p=u.f;i>o;)for(var m,f=d(arguments[o++]),_=h?v(s(f),h(f)):s(f),g=_.length,y=0;g>y;)m=_[y++],r&&!a(p,f,m)||(n[m]=f[m]);return n}:h},3403:(e,t,n)=>{"use strict";var r,i=n(2816),a=n(6284),o=n(3944),s=n(6562),l=n(1872),u=n(2848),c=n(8682),d="prototype",h="script",p=c("IE_PROTO"),v=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},f=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;_="undefined"!=typeof document?document.domain&&r?f(r):(t=u("iframe"),n="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):f(r);for(var i=o.length;i--;)delete _[d][o[i]];return _()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[d]=i(e),n=new v,v[d]=null,n[p]=e):n=_(),void 0===t?n:a.f(n,t)}},6284:(e,t,n)=>{"use strict";var r=n(1271),i=n(2117),a=n(7740),o=n(2816),s=n(6862),l=n(731);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),i=l(t),u=i.length,c=0;u>c;)a.f(e,n=i[c++],r[n]);return e}},7740:(e,t,n)=>{"use strict";var r=n(1271),i=n(1664),a=n(2117),o=n(2816),s=n(3302),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=r?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=c(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},6614:(e,t,n)=>{"use strict";var r=n(1271),i=n(7098),a=n(6030),o=n(3033),s=n(6862),l=n(3302),u=n(188),c=n(1664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return o(!i(a.f,e,t),e[t])}},3499:(e,t,n)=>{"use strict";var r=n(2469),i=n(3944).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},1634:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},8324:(e,t,n)=>{"use strict";var r=n(188),i=n(2954),a=n(5090),o=n(8682),s=n(1974),l=o("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=a(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},6952:(e,t,n)=>{"use strict";var r=n(4627);e.exports=r({}.isPrototypeOf)},2469:(e,t,n)=>{"use strict";var r=n(4627),i=n(188),a=n(6862),o=n(1716).indexOf,s=n(6562),l=r([].push);e.exports=function(e,t){var n,r=a(e),u=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&l(c,n);for(;t.length>u;)i(r,n=t[u++])&&(~o(c,n)||l(c,n));return c}},731:(e,t,n)=>{"use strict";var r=n(2469),i=n(3944);e.exports=Object.keys||function(e){return r(e,i)}},6030:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7896:(e,t,n)=>{"use strict";var r=n(4767),i=n(2816),a=n(9755);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},8085:(e,t,n)=>{"use strict";var r=n(7098),i=n(2954),a=n(2845),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!a(s=r(n,e)))return s;if(i(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!a(s=r(n,e)))return s;throw new o("Can't convert object to primitive value")}},402:(e,t,n)=>{"use strict";var r=n(2078),i=n(4627),a=n(3499),o=n(1634),s=n(2816),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?l(t,n(e)):t}},3566:(e,t,n)=>{"use strict";var r=n(1186);e.exports=r},4804:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9391:(e,t,n)=>{"use strict";var r=n(1186),i=n(1639),a=n(2954),o=n(5847),s=n(4551),l=n(6216),u=n(9373),c=n(137),d=n(8128),h=n(4307),p=i&&i.prototype,v=l("species"),m=!1,f=a(r.PromiseRejectionEvent),_=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===h)return!0;if(d&&(!p.catch||!p.finally))return!0;if(!h||h<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[v]=r,!(m=n.then((function(){}))instanceof r))return!0}return!t&&(u||c)&&!f}));e.exports={CONSTRUCTOR:_,REJECTION_EVENT:f,SUBCLASSING:m}},1639:(e,t,n)=>{"use strict";var r=n(1186);e.exports=r.Promise},4289:(e,t,n)=>{"use strict";var r=n(2816),i=n(2845),a=n(2862);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},7090:(e,t,n)=>{"use strict";var r=n(1639),i=n(2841),a=n(9391).CONSTRUCTOR;e.exports=a||!i((function(e){r.all(e).then(void 0,(function(){}))}))},2509:(e,t,n)=>{"use strict";var r=n(7740).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},7050:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},5835:(e,t,n)=>{"use strict";var r=n(7098),i=n(2816),a=n(2954),o=n(383),s=n(8724),l=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var u=r(n,e,t);return null!==u&&i(u),u}if("RegExp"===o(e))return r(s,e,t);throw new l("RegExp#exec called on incompatible receiver")}},8724:(e,t,n)=>{"use strict";var r,i,a=n(7098),o=n(4627),s=n(9376),l=n(4982),u=n(7830),c=n(9960),d=n(3403),h=n(1364).get,p=n(9590),v=n(2771),m=c("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,_=f,g=o("".charAt),y=o("".indexOf),b=o("".replace),E=o("".slice),w=(i=/b*/g,a(f,r=/a/,"a"),a(f,i,"a"),0!==r.lastIndex||0!==i.lastIndex),S=u.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(w||C||S||p||v)&&(_=function(e){var t,n,r,i,o,u,c,p=this,v=h(p),k=s(e),A=v.raw;if(A)return A.lastIndex=p.lastIndex,t=a(_,A,k),p.lastIndex=A.lastIndex,t;var P=v.groups,I=S&&p.sticky,T=a(l,p),R=p.source,x=0,L=k;if(I&&(T=b(T,"y",""),-1===y(T,"g")&&(T+="g"),L=E(k,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==g(k,p.lastIndex-1))&&(R="(?: "+R+")",L=" "+L,x++),n=new RegExp("^(?:"+R+")",T)),C&&(n=new RegExp("^"+R+"$(?!\\s)",T)),w&&(r=p.lastIndex),i=a(f,I?n:p,L),I?i?(i.input=E(i.input,x),i[0]=E(i[0],x),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:w&&i&&(p.lastIndex=p.global?i.index+i[0].length:r),C&&i&&i.length>1&&a(m,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&P)for(i.groups=u=d(null),o=0;o<P.length;o++)u[(c=P[o])[0]]=i[c[1]];return i}),e.exports=_},4982:(e,t,n)=>{"use strict";var r=n(2816);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8775:(e,t,n)=>{"use strict";var r=n(7098),i=n(188),a=n(6952),o=n(4982),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:r(o,e)}},7830:(e,t,n)=>{"use strict";var r=n(4476),i=n(1186).RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),s=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},9590:(e,t,n)=>{"use strict";var r=n(4476),i=n(1186).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},2771:(e,t,n)=>{"use strict";var r=n(4476),i=n(1186).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},5743:(e,t,n)=>{"use strict";var r=n(400),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},5925:(e,t,n)=>{"use strict";var r,i=n(1186),a=n(3240),o=n(2954),s=n(596),l=n(3075),u=n(6147),c=n(8003),d=i.Function,h=/MSIE .\./.test(l)||s&&((r=i.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));e.exports=function(e,t){var n=t?2:1;return h?function(r,i){var s=c(arguments.length,1)>n,l=o(r)?r:d(r),h=s?u(arguments,n):[],p=s?function(){a(l,this,h)}:l;return t?e(p,i):e(p)}:e}},2977:(e,t,n)=>{"use strict";var r=n(2585),i=n(6786),a=r.Set,o=r.add;e.exports=function(e){var t=new a;return i(e,(function(e){o(t,e)})),t}},5825:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585),a=n(2977),o=n(335),s=n(9244),l=n(6786),u=n(6830),c=i.has,d=i.remove;e.exports=function(e){var t=r(this),n=s(e),i=a(t);return o(t)<=n.size?l(t,(function(e){n.includes(e)&&d(i,e)})):u(n.getIterator(),(function(e){c(t,e)&&d(i,e)})),i}},2585:(e,t,n)=>{"use strict";var r=n(4627),i=Set.prototype;e.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},8163:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585),a=n(335),o=n(9244),s=n(6786),l=n(6830),u=i.Set,c=i.add,d=i.has;e.exports=function(e){var t=r(this),n=o(e),i=new u;return a(t)>n.size?l(n.getIterator(),(function(e){d(t,e)&&c(i,e)})):s(t,(function(e){n.includes(e)&&c(i,e)})),i}},8852:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585).has,a=n(335),o=n(9244),s=n(6786),l=n(6830),u=n(8106);e.exports=function(e){var t=r(this),n=o(e);if(a(t)<=n.size)return!1!==s(t,(function(e){if(n.includes(e))return!1}),!0);var c=n.getIterator();return!1!==l(c,(function(e){if(i(t,e))return u(c,"normal",!1)}))}},8547:(e,t,n)=>{"use strict";var r=n(1455),i=n(335),a=n(6786),o=n(9244);e.exports=function(e){var t=r(this),n=o(e);return!(i(t)>n.size)&&!1!==a(t,(function(e){if(!n.includes(e))return!1}),!0)}},6994:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585).has,a=n(335),o=n(9244),s=n(6830),l=n(8106);e.exports=function(e){var t=r(this),n=o(e);if(a(t)<n.size)return!1;var u=n.getIterator();return!1!==s(u,(function(e){if(!i(t,e))return l(u,"normal",!1)}))}},6786:(e,t,n)=>{"use strict";var r=n(4627),i=n(6830),a=n(2585),o=a.Set,s=a.proto,l=r(s.forEach),u=r(s.keys),c=u(new o).next;e.exports=function(e,t,n){return n?i({iterator:u(e),next:c},t):l(e,t)}},69:(e,t,n)=>{"use strict";var r=n(2078),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=r("Set");try{(new t)[e](i(0));try{return(new t)[e](i(-1)),!1}catch(e){return!0}}catch(e){return!1}}},335:(e,t,n)=>{"use strict";var r=n(4767),i=n(2585);e.exports=r(i.proto,"size","get")||function(e){return e.size}},7902:(e,t,n)=>{"use strict";var r=n(2078),i=n(9171),a=n(6216),o=n(1271),s=a("species");e.exports=function(e){var t=r(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},483:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585),a=n(2977),o=n(9244),s=n(6830),l=i.add,u=i.has,c=i.remove;e.exports=function(e){var t=r(this),n=o(e).getIterator(),i=a(t);return s(n,(function(e){u(t,e)?c(i,e):l(i,e)})),i}},9640:(e,t,n)=>{"use strict";var r=n(7740).f,i=n(188),a=n(6216)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,a)&&r(e,a,{configurable:!0,value:t})}},5671:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585).add,a=n(2977),o=n(9244),s=n(6830);e.exports=function(e){var t=r(this),n=o(e).getIterator(),l=a(t);return s(n,(function(e){i(l,e)})),l}},8682:(e,t,n)=>{"use strict";var r=n(9960),i=n(3139),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},6656:(e,t,n)=>{"use strict";var r=n(1186),i=n(1188),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},9960:(e,t,n)=>{"use strict";var r=n(8128),i=n(6656);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.3",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},2546:(e,t,n)=>{"use strict";var r=n(2816),i=n(5611),a=n(400),o=n(6216)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||a(n=r(s)[o])?t:i(n)}},2414:(e,t,n)=>{"use strict";var r=n(4627),i=n(9546),a=n(9376),o=n(5743),s=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,d=a(o(t)),h=i(n),p=d.length;return h<0||h>=p?e?"":void 0:(r=l(d,h))<55296||r>56319||h+1===p||(c=l(d,h+1))<56320||c>57343?e?s(d,h):r:e?u(d,h,h+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},836:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},3404:(e,t,n)=>{"use strict";var r=n(4627),i=n(4497),a=n(9376),o=n(7794),s=n(5743),l=r(o),u=r("".slice),c=Math.ceil,d=function(e){return function(t,n,r){var o,d,h=a(s(t)),p=i(n),v=h.length,m=void 0===r?" ":a(r);return p<=v||""===m?h:((d=l(m,c((o=p-v)/m.length))).length>o&&(d=u(d,0,o)),e?h+d:d+h)}};e.exports={start:d(!1),end:d(!0)}},276:(e,t,n)=>{"use strict";var r=n(4627),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",l=RangeError,u=r(o.exec),c=Math.floor,d=String.fromCharCode,h=r("".charCodeAt),p=r([].join),v=r([].push),m=r("".replace),f=r("".split),_=r("".toLowerCase),g=function(e){return e+22+75*(e<26)},y=function(e,t,n){var r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;)e=c(e/35),r+=36;return c(r+36*e/(e+38))},b=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=h(e,n++);if(i>=55296&&i<=56319&&n<r){var a=h(e,n++);56320==(64512&a)?v(t,((1023&i)<<10)+(1023&a)+65536):(v(t,i),n--)}else v(t,i)}return t}(e);var n,r,a=e.length,o=128,u=0,m=72;for(n=0;n<e.length;n++)(r=e[n])<128&&v(t,d(r));var f=t.length,_=f;for(f&&v(t,"-");_<a;){var b=i;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<b&&(b=r);var E=_+1;if(b-o>c((i-u)/E))throw new l(s);for(u+=(b-o)*E,o=b,n=0;n<e.length;n++){if((r=e[n])<o&&++u>i)throw new l(s);if(r===o){for(var w=u,S=36;;){var C=S<=m?1:S>=m+26?26:S-m;if(w<C)break;var k=w-C,A=36-C;v(t,d(g(C+k%A))),w=c(k/A),S+=36}v(t,d(g(w))),m=y(u,E,_===f),u=0,_++}}u++,o++}return p(t,"")};e.exports=function(e){var t,n,r=[],i=f(m(_(e),o,"."),".");for(t=0;t<i.length;t++)n=i[t],v(r,u(a,n)?"xn--"+b(n):n);return p(r,".")}},7794:(e,t,n)=>{"use strict";var r=n(9546),i=n(9376),a=n(5743),o=RangeError;e.exports=function(e){var t=i(a(this)),n="",s=r(e);if(s<0||s===1/0)throw new o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},3449:(e,t,n)=>{"use strict";var r=n(7321).end,i=n(5560);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},5560:(e,t,n)=>{"use strict";var r=n(4737).PROPER,i=n(4476),a=n(7179);e.exports=function(e){return i((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||r&&a[e].name!==e}))}},664:(e,t,n)=>{"use strict";var r=n(7321).start,i=n(5560);e.exports=i("trimStart")?function(){return r(this)}:"".trimStart},7321:(e,t,n)=>{"use strict";var r=n(4627),i=n(5743),a=n(9376),o=n(7179),s=r("".replace),l=RegExp("^["+o+"]+"),u=RegExp("(^|[^"+o+"])["+o+"]+$"),c=function(e){return function(t){var n=a(i(t));return 1&e&&(n=s(n,l,"")),2&e&&(n=s(n,u,"$1")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},9173:(e,t,n)=>{"use strict";var r=n(1186),i=n(4476),a=n(4307),o=n(9373),s=n(137),l=n(1301),u=r.structuredClone;e.exports=!!u&&!i((function(){if(s&&a>92||l&&a>94||o&&a>97)return!1;var e=new ArrayBuffer(8),t=u(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},1462:(e,t,n)=>{"use strict";var r=n(4307),i=n(4476),a=n(1186).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6496:(e,t,n)=>{"use strict";var r,i,a,o,s=n(1186),l=n(3240),u=n(5319),c=n(2954),d=n(188),h=n(4476),p=n(1872),v=n(6147),m=n(2848),f=n(8003),_=n(6444),g=n(1301),y=s.setImmediate,b=s.clearImmediate,E=s.process,w=s.Dispatch,S=s.Function,C=s.MessageChannel,k=s.String,A=0,P={},I="onreadystatechange";h((function(){r=s.location}));var T=function(e){if(d(P,e)){var t=P[e];delete P[e],t()}},R=function(e){return function(){T(e)}},x=function(e){T(e.data)},L=function(e){s.postMessage(k(e),r.protocol+"//"+r.host)};y&&b||(y=function(e){f(arguments.length,1);var t=c(e)?e:S(e),n=v(arguments,1);return P[++A]=function(){l(t,void 0,n)},i(A),A},b=function(e){delete P[e]},g?i=function(e){E.nextTick(R(e))}:w&&w.now?i=function(e){w.now(R(e))}:C&&!_?(o=(a=new C).port2,a.port1.onmessage=x,i=u(o.postMessage,o)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(L)?(i=L,s.addEventListener("message",x,!1)):i=I in m("script")?function(e){p.appendChild(m("script"))[I]=function(){p.removeChild(this),T(e)}}:function(e){setTimeout(R(e),0)}),e.exports={set:y,clear:b}},9233:(e,t,n)=>{"use strict";var r=n(9546),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},75:(e,t,n)=>{"use strict";var r=n(9436),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},3785:(e,t,n)=>{"use strict";var r=n(9546),i=n(4497),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw new a("Wrong length or index");return n}},6862:(e,t,n)=>{"use strict";var r=n(1106),i=n(5743);e.exports=function(e){return r(i(e))}},9546:(e,t,n)=>{"use strict";var r=n(3176);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},4497:(e,t,n)=>{"use strict";var r=n(9546),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5090:(e,t,n)=>{"use strict";var r=n(5743),i=Object;e.exports=function(e){return i(r(e))}},2214:(e,t,n)=>{"use strict";var r=n(1305),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw new i("Wrong offset");return n}},1305:(e,t,n)=>{"use strict";var r=n(9546),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new i("The argument can't be less than 0");return t}},9436:(e,t,n)=>{"use strict";var r=n(7098),i=n(2845),a=n(1578),o=n(1463),s=n(8085),l=n(6216),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,l=o(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||a(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},3302:(e,t,n)=>{"use strict";var r=n(9436),i=n(1578);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},9119:(e,t,n)=>{"use strict";var r={};r[n(6216)("toStringTag")]="z",e.exports="[object z]"===String(r)},9376:(e,t,n)=>{"use strict";var r=n(7404),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},4043:(e,t,n)=>{"use strict";var r=n(1301);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(e){}}},6832:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3139:(e,t,n)=>{"use strict";var r=n(4627),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},935:(e,t,n)=>{"use strict";var r=n(4476),i=n(6216),a=n(1271),o=n(8128),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),n.delete("b",void 0),o&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(o||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},9367:(e,t,n)=>{"use strict";var r=n(1462);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2117:(e,t,n)=>{"use strict";var r=n(1271),i=n(4476);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8003:e=>{"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},7783:(e,t,n)=>{"use strict";var r=n(1186),i=n(2954),a=r.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},3006:(e,t,n)=>{"use strict";var r=n(3566),i=n(188),a=n(256),o=n(7740).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},256:(e,t,n)=>{"use strict";var r=n(6216);t.f=r},6216:(e,t,n)=>{"use strict";var r=n(1186),i=n(9960),a=n(188),o=n(3139),s=n(1462),l=n(9367),u=r.Symbol,c=i("wks"),d=l?u.for||u:u&&u.withoutSetter||o;e.exports=function(e){return a(c,e)||(c[e]=s&&a(u,e)?u[e]:d("Symbol."+e)),c[e]}},7179:e=>{"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},6958:(e,t,n)=>{"use strict";var r=n(2078),i=n(188),a=n(8890),o=n(6952),s=n(7896),l=n(2891),u=n(2509),c=n(3220),d=n(3808),h=n(3611),p=n(796),v=n(1271),m=n(8128);e.exports=function(e,t,n,f){var _="stackTraceLimit",g=f?2:1,y=e.split("."),b=y[y.length-1],E=r.apply(null,y);if(E){var w=E.prototype;if(!m&&i(w,"cause")&&delete w.cause,!n)return E;var S=r("Error"),C=t((function(e,t){var n=d(f?t:e,void 0),r=f?new E(e):new E;return void 0!==n&&a(r,"message",n),p(r,C,r.stack,2),this&&o(w,this)&&c(r,this,C),arguments.length>g&&h(r,arguments[g]),r}));if(C.prototype=w,"Error"!==b?s?s(C,S):l(C,S,{name:!0}):v&&_ in E&&(u(C,E,_),u(C,E,"prepareStackTrace")),l(C,E),!m)try{w.name!==b&&a(w,"name",b),w.constructor=C}catch(e){}return C}}},9024:(e,t,n)=>{"use strict";var r=n(5651),i=n(5090),a=n(1279),o=n(9546),s=n(6780);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=a(t),r=o(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}}),s("at")},2946:(e,t,n)=>{"use strict";var r=n(5651),i=n(1428).findLastIndex,a=n(6780);r({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},9139:(e,t,n)=>{"use strict";var r=n(5651),i=n(1428).findLast,a=n(6780);r({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},7877:(e,t,n)=>{"use strict";var r=n(5651),i=n(4102),a=n(3727),o=n(5090),s=n(1279),l=n(1912);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=s(n);return a(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},2195:(e,t,n)=>{"use strict";var r=n(6862),i=n(6780),a=n(5166),o=n(1364),s=n(7740).f,l=n(8199),u=n(1278),c=n(8128),d=n(1271),h="Array Iterator",p=o.set,v=o.getterFor(h);e.exports=l(Array,"Array",(function(e,t){p(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=v(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,u(void 0,!0);switch(e.kind){case"keys":return u(n,!1);case"values":return u(t[n],!1)}return u([n,t[n]],!1)}),"values");var m=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(e){}},4401:(e,t,n)=>{"use strict";var r=n(5651),i=n(5090),a=n(1279),o=n(6586),s=n(1544);r({target:"Array",proto:!0,arity:1,forced:n(4476)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=a(t),r=arguments.length;s(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return o(t,n),n}})},5564:(e,t,n)=>{"use strict";var r=n(5651),i=n(4067).right,a=n(4439),o=n(4307);r({target:"Array",proto:!0,forced:!n(1301)&&o>79&&o<83||!a("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},8995:(e,t,n)=>{"use strict";var r=n(5651),i=n(4067).left,a=n(4439),o=n(4307);r({target:"Array",proto:!0,forced:!n(1301)&&o>79&&o<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},5745:(e,t,n)=>{"use strict";var r=n(5651),i=n(4627),a=n(3727),o=n(5090),s=n(1279),l=n(6519),u=n(9376),c=n(4476),d=n(9441),h=n(4439),p=n(3881),v=n(2535),m=n(4307),f=n(6923),_=[],g=i(_.sort),y=i(_.push),b=c((function(){_.sort(void 0)})),E=c((function(){_.sort(null)})),w=h("sort"),S=!c((function(){if(m)return m<70;if(!(p&&p>3)){if(v)return!0;if(f)return f<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)_.push({k:t+r,v:n})}for(_.sort((function(e,t){return t.v-e.v})),r=0;r<_.length;r++)t=_[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!E||!w||!S},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(S)return void 0===e?g(t):g(t,e);var n,r,i=[],c=s(t);for(r=0;r<c;r++)r in t&&y(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<c;)l(t,r++);return t}})},1086:(e,t,n)=>{"use strict";n(6780)("flatMap")},4924:(e,t,n)=>{"use strict";var r=n(5651),i=n(5090),a=n(1279),o=n(6586),s=n(6519),l=n(1544);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),n=a(t),r=arguments.length;if(r){l(n+r);for(var u=n;u--;){var c=u+r;u in t?t[c]=t[u]:s(t,c)}for(var d=0;d<r;d++)t[d]=arguments[d]}return o(t,n+r)}})},7293:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),a=n(3240),o=n(6958),s="WebAssembly",l=i[s],u=7!==new Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=o(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},d=function(e,t){if(l&&l[e]){var n={};n[e]=o(s+"."+e,t,u),r({target:s,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return a(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),c("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},9928:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},4233:(e,t,n)=>{"use strict";var r=n(5651),i=n(2078),a=n(3240),o=n(7098),s=n(4627),l=n(4476),u=n(2954),c=n(1578),d=n(6147),h=n(9776),p=n(1462),v=String,m=i("JSON","stringify"),f=s(/./.exec),_=s("".charAt),g=s("".charCodeAt),y=s("".replace),b=s(1..toString),E=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,C=!p||l((function(){var e=i("Symbol")("stringify detection");return"[null]"!==m([e])||"{}"!==m({a:e})||"{}"!==m(Object(e))})),k=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),A=function(e,t){var n=d(arguments),r=h(t);if(u(r)||void 0!==e&&!c(e))return n[1]=function(e,t){if(u(r)&&(t=o(r,this,v(e),t)),!c(t))return t},a(m,null,n)},P=function(e,t,n){var r=_(n,t-1),i=_(n,t+1);return f(w,e)&&!f(S,i)||f(S,e)&&!f(w,r)?"\\u"+b(g(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:C||k},{stringify:function(e,t,n){var r=d(arguments),i=a(C?A:m,null,r);return k&&"string"==typeof i?y(i,E,P):i}})},4992:(e,t,n)=>{"use strict";var r=n(5651),i=n(5287),a=n(4631);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0}),t}})},3110:(e,t,n)=>{"use strict";var r=n(5651),i=n(7098),a=n(3727),o=n(2862),s=n(4804),l=n(5287);r({target:"Promise",stat:!0,forced:n(7090)},{all:function(e){var t=this,n=o.f(t),r=n.resolve,u=n.reject,c=s((function(){var n=a(t.resolve),o=[],s=0,c=1;l(e,(function(e){var a=s++,l=!1;c++,i(n,t,e).then((function(e){l||(l=!0,o[a]=e,--c||r(o))}),u)})),--c||r(o)}));return c.error&&u(c.value),n.promise}})},2218:(e,t,n)=>{"use strict";var r=n(5651),i=n(8128),a=n(9391).CONSTRUCTOR,o=n(1639),s=n(2078),l=n(2954),u=n(359),c=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(o)){var d=s("Promise").prototype.catch;c.catch!==d&&u(c,"catch",d,{unsafe:!0})}},5617:(e,t,n)=>{"use strict";var r,i,a,o=n(5651),s=n(8128),l=n(1301),u=n(1186),c=n(7098),d=n(359),h=n(7896),p=n(9640),v=n(7902),m=n(3727),f=n(2954),_=n(2845),g=n(8108),y=n(2546),b=n(6496).set,E=n(756),w=n(5408),S=n(4804),C=n(7050),k=n(1364),A=n(1639),P=n(9391),I=n(2862),T="Promise",R=P.CONSTRUCTOR,x=P.REJECTION_EVENT,L=P.SUBCLASSING,O=k.getterFor(T),N=k.set,M=A&&A.prototype,D=A,F=M,B=u.TypeError,H=u.document,V=u.process,U=I.f,j=U,W=!!(H&&H.createEvent&&u.dispatchEvent),z="unhandledrejection",$=function(e){var t;return!(!_(e)||!f(t=e.then))&&t},G=function(e,t){var n,r,i,a=t.value,o=1===t.state,s=o?e.ok:e.fail,l=e.resolve,u=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&Z(t),t.rejection=1),!0===s?n=a:(d&&d.enter(),n=s(a),d&&(d.exit(),i=!0)),n===e.promise?u(new B("Promise-chain cycle")):(r=$(n))?c(r,n,l,u):l(n)):u(a)}catch(e){d&&!i&&d.exit(),u(e)}},K=function(e,t){e.notified||(e.notified=!0,E((function(){for(var n,r=e.reactions;n=r.get();)G(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},q=function(e,t,n){var r,i;W?((r=H.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!x&&(i=u["on"+e])?i(r):e===z&&w("Unhandled promise rejection",n)},Y=function(e){c(b,u,(function(){var t,n=e.facade,r=e.value;if(Q(e)&&(t=S((function(){l?V.emit("unhandledRejection",r,n):q(z,n,r)})),e.rejection=l||Q(e)?2:1,t.error))throw t.value}))},Q=function(e){return 1!==e.rejection&&!e.parent},Z=function(e){c(b,u,(function(){var t=e.facade;l?V.emit("rejectionHandled",t):q("rejectionhandled",t,e.value)}))},X=function(e,t,n){return function(r){e(t,r,n)}},J=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new B("Promise can't be resolved itself");var r=$(t);r?E((function(){var n={done:!1};try{c(r,t,X(ee,n,e),X(J,n,e))}catch(t){J(n,t,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(t){J({done:!1},t,e)}}};if(R&&(F=(D=function(e){g(this,F),m(e),c(r,this);var t=O(this);try{e(X(ee,t),X(J,t))}catch(e){J(t,e)}}).prototype,(r=function(e){N(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=d(F,"then",(function(e,t){var n=O(this),r=U(y(this,D));return n.parent=!0,r.ok=!f(e)||e,r.fail=f(t)&&t,r.domain=l?V.domain:void 0,0===n.state?n.reactions.add(r):E((function(){G(r,n)})),r.promise})),i=function(){var e=new r,t=O(e);this.promise=e,this.resolve=X(ee,t),this.reject=X(J,t)},I.f=U=function(e){return e===D||undefined===e?new i(e):j(e)},!s&&f(A)&&M!==Object.prototype)){a=M.then,L||d(M,"then",(function(e,t){var n=this;return new D((function(e,t){c(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(e){}h&&h(M,F)}o({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:D}),p(D,T,!1,!0),v(T)},6530:(e,t,n)=>{"use strict";var r=n(5651),i=n(8128),a=n(1639),o=n(4476),s=n(2078),l=n(2954),u=n(2546),c=n(4289),d=n(359),h=a&&a.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=l(e);return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!i&&l(a)){var p=s("Promise").prototype.finally;h.finally!==p&&d(h,"finally",p,{unsafe:!0})}},3867:(e,t,n)=>{"use strict";n(5617),n(3110),n(2218),n(2064),n(550),n(4425)},2064:(e,t,n)=>{"use strict";var r=n(5651),i=n(7098),a=n(3727),o=n(2862),s=n(4804),l=n(5287);r({target:"Promise",stat:!0,forced:n(7090)},{race:function(e){var t=this,n=o.f(t),r=n.reject,u=s((function(){var o=a(t.resolve);l(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},550:(e,t,n)=>{"use strict";var r=n(5651),i=n(7098),a=n(2862);r({target:"Promise",stat:!0,forced:n(9391).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},4425:(e,t,n)=>{"use strict";var r=n(5651),i=n(2078),a=n(8128),o=n(1639),s=n(9391).CONSTRUCTOR,l=n(4289),u=i("Promise"),c=a&&!s;r({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return l(c&&this===u?o:this,e)}})},1557:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),a=n(9640);r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},1631:(e,t,n)=>{"use strict";var r=n(1271),i=n(1186),a=n(4627),o=n(5847),s=n(3220),l=n(8890),u=n(3499).f,c=n(6952),d=n(3511),h=n(9376),p=n(8775),v=n(7830),m=n(2509),f=n(359),_=n(4476),g=n(188),y=n(1364).enforce,b=n(7902),E=n(6216),w=n(9590),S=n(2771),C=E("match"),k=i.RegExp,A=k.prototype,P=i.SyntaxError,I=a(A.exec),T=a("".charAt),R=a("".replace),x=a("".indexOf),L=a("".slice),O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,M=/a/g,D=new k(N)!==N,F=v.MISSED_STICKY,B=v.UNSUPPORTED_Y,H=r&&(!D||F||w||S||_((function(){return M[C]=!1,k(N)!==N||k(M)===M||"/a/i"!==String(k(N,"i"))})));if(o("RegExp",H)){for(var V=function(e,t){var n,r,i,a,o,u,v=c(A,this),m=d(e),f=void 0===t,_=[],b=e;if(!v&&m&&f&&e.constructor===V)return e;if((m||c(A,e))&&(e=e.source,f&&(t=p(b))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),b=e,w&&"dotAll"in N&&(r=!!t&&x(t,"s")>-1)&&(t=R(t,/s/g,"")),n=t,F&&"sticky"in N&&(i=!!t&&x(t,"y")>-1)&&B&&(t=R(t,/y/g,"")),S&&(a=function(e){for(var t,n=e.length,r=0,i="",a=[],o={},s=!1,l=!1,u=0,c="";r<=n;r++){if("\\"===(t=T(e,r)))t+=T(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:I(O,L(e,r+1))&&(r+=2,l=!0),i+=t,u++;continue;case">"===t&&l:if(""===c||g(o,c))throw new P("Invalid capture group name");o[c]=!0,a[a.length]=[c,u],l=!1,c="";continue}l?c+=t:i+=t}return[i,a]}(e),e=a[0],_=a[1]),o=s(k(e,t),v?this:A,V),(r||i||_.length)&&(u=y(o),r&&(u.dotAll=!0,u.raw=V(function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)"\\"!==(t=T(e,r))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+T(e,++r);return i}(e),n)),i&&(u.sticky=!0),_.length&&(u.groups=_)),e!==b)try{l(o,"source",""===b?"(?:)":b)}catch(e){}return o},U=u(k),j=0;U.length>j;)m(V,k,U[j++]);A.constructor=V,V.prototype=A,f(i,"RegExp",V,{constructor:!0})}b("RegExp")},914:(e,t,n)=>{"use strict";var r=n(1271),i=n(9590),a=n(383),o=n(9171),s=n(1364).get,l=RegExp.prototype,u=TypeError;r&&i&&o(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===a(this))return!!s(this).dotAll;throw new u("Incompatible receiver, RegExp required")}}})},2358:(e,t,n)=>{"use strict";var r=n(5651),i=n(8724);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9420:(e,t,n)=>{"use strict";var r=n(1186),i=n(1271),a=n(9171),o=n(4982),s=n(4476),l=r.RegExp,u=l.prototype;i&&s((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==r||n!==r}))&&a(u,"flags",{configurable:!0,get:o})},4:(e,t,n)=>{"use strict";var r=n(5651),i=n(4627),a=n(5743),o=n(9546),s=n(9376),l=n(4476),u=i("".charAt);r({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(a(this)),n=t.length,r=o(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:u(t,i)}})},4865:(e,t,n)=>{"use strict";var r=n(2414).charAt,i=n(9376),a=n(1364),o=n(8199),s=n(1278),l="String Iterator",u=a.set,c=a.getterFor(l);o(String,"String",(function(e){u(this,{type:l,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},2034:(e,t,n)=>{"use strict";var r=n(5651),i=n(3404).end;r({target:"String",proto:!0,forced:n(836)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},975:(e,t,n)=>{"use strict";var r=n(5651),i=n(3404).start;r({target:"String",proto:!0,forced:n(836)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},6337:(e,t,n)=>{"use strict";var r=n(5651),i=n(7098),a=n(4627),o=n(5743),s=n(2954),l=n(400),u=n(3511),c=n(9376),d=n(1463),h=n(8775),p=n(151),v=n(6216),m=n(8128),f=v("replace"),_=TypeError,g=a("".indexOf),y=a("".replace),b=a("".slice),E=Math.max,w=function(e,t,n){return n>e.length?-1:""===t?n:g(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,a,v,S,C,k,A,P,I=o(this),T=0,R=0,x="";if(!l(e)){if((n=u(e))&&(r=c(o(h(e))),!~g(r,"g")))throw new _("`.replaceAll` does not allow non-global regexes");if(a=d(e,f))return i(a,e,I,t);if(m&&n)return y(c(I),e,t)}for(v=c(I),S=c(e),(C=s(t))||(t=c(t)),k=S.length,A=E(1,k),T=w(v,S,0);-1!==T;)P=C?c(t(S,T,v)):p(S,v,T,[],void 0,t),x+=b(v,R,T)+P,R=T+k,T=w(v,S,T+A);return R<v.length&&(x+=b(v,R)),x}})},9419:(e,t,n)=>{"use strict";var r=n(3240),i=n(7098),a=n(4627),o=n(3981),s=n(4476),l=n(2816),u=n(2954),c=n(400),d=n(9546),h=n(4497),p=n(9376),v=n(5743),m=n(7960),f=n(1463),_=n(151),g=n(5835),y=n(6216)("replace"),b=Math.max,E=Math.min,w=a([].concat),S=a([].push),C=a("".indexOf),k=a("".slice),A="$0"==="a".replace(/./,"$0"),P=!!/./[y]&&""===/./[y]("a","$0");o("replace",(function(e,t,n){var a=P?"$":"$0";return[function(e,n){var r=v(this),a=c(e)?void 0:f(e,y);return a?i(a,e,r,n):i(t,p(r),e,n)},function(e,i){var o=l(this),s=p(e);if("string"==typeof i&&-1===C(i,a)&&-1===C(i,"$<")){var c=n(t,o,s,i);if(c.done)return c.value}var v=u(i);v||(i=p(i));var f,y=o.global;y&&(f=o.unicode,o.lastIndex=0);for(var A,P=[];null!==(A=g(o,s))&&(S(P,A),y);){""===p(A[0])&&(o.lastIndex=m(s,h(o.lastIndex),f))}for(var I,T="",R=0,x=0;x<P.length;x++){for(var L,O=p((A=P[x])[0]),N=b(E(d(A.index),s.length),0),M=[],D=1;D<A.length;D++)S(M,void 0===(I=A[D])?I:String(I));var F=A.groups;if(v){var B=w([O],M,N,s);void 0!==F&&S(B,F),L=p(r(i,void 0,B))}else L=_(O,s,N,M,F,i);N>=R&&(T+=k(s,R,N)+L,R=N+O.length)}return T+k(s,R)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!A||P)},3923:(e,t,n)=>{"use strict";n(4872);var r=n(5651),i=n(3449);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},9537:(e,t,n)=>{"use strict";var r=n(5651),i=n(664);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},4872:(e,t,n)=>{"use strict";var r=n(5651),i=n(3449);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},4270:(e,t,n)=>{"use strict";n(9537);var r=n(5651),i=n(664);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},8471:(e,t,n)=>{"use strict";var r=n(5651),i=n(7321).trim;r({target:"String",proto:!0,forced:n(5560)("trim")},{trim:function(){return i(this)}})},9837:(e,t,n)=>{"use strict";n(3006)("asyncIterator")},8668:(e,t,n)=>{"use strict";var r=n(5651),i=n(1271),a=n(1186),o=n(4627),s=n(188),l=n(2954),u=n(6952),c=n(9376),d=n(9171),h=n(2891),p=a.Symbol,v=p&&p.prototype;if(i&&l(p)&&(!("description"in v)||void 0!==p().description)){var m={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(v,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};h(f,p),f.prototype=v,v.constructor=f;var _="Symbol(description detection)"===String(p("description detection")),g=o(v.valueOf),y=o(v.toString),b=/^Symbol\((.*)\)[^)]+$/,E=o("".replace),w=o("".slice);d(v,"description",{configurable:!0,get:function(){var e=g(this);if(s(m,e))return"";var t=y(e),n=_?w(t,7,-1):E(t,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:f})}},135:(e,t,n)=>{"use strict";var r=n(2105),i=n(1279),a=n(9546),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=o(this),n=i(t),r=a(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}))},7863:(e,t,n)=>{"use strict";var r=n(2105),i=n(9448),a=n(75),o=n(7404),s=n(7098),l=n(4627),u=n(4476),c=r.aTypedArray,d=r.exportTypedArrayMethod,h=l("".slice);d("fill",(function(e){var t=arguments.length;c(this);var n="Big"===h(o(this),0,3)?a(e):+e;return s(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},1399:(e,t,n)=>{"use strict";var r=n(2105),i=n(1428).findLastIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},5506:(e,t,n)=>{"use strict";var r=n(2105),i=n(1428).findLast,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},2472:(e,t,n)=>{"use strict";var r=n(1186),i=n(7098),a=n(2105),o=n(1279),s=n(2214),l=n(5090),u=n(4476),c=r.RangeError,d=r.Int8Array,h=d&&d.prototype,p=h&&h.set,v=a.aTypedArray,m=a.exportTypedArrayMethod,f=!u((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),_=f&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){v(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(f)return i(p,this,n,t);var r=this.length,a=o(n),u=0;if(a+t>r)throw new c("Wrong length");for(;u<a;)this[t+u]=n[u++]}),!f||_)},8898:(e,t,n)=>{"use strict";var r=n(1186),i=n(6905),a=n(4476),o=n(3727),s=n(9441),l=n(2105),u=n(3881),c=n(2535),d=n(4307),h=n(6923),p=l.aTypedArray,v=l.exportTypedArrayMethod,m=r.Uint16Array,f=m&&i(m.prototype.sort),_=!(!f||a((function(){f(new m(2),null)}))&&a((function(){f(new m(2),{})}))),g=!!f&&!a((function(){if(d)return d<74;if(u)return u<67;if(c)return!0;if(h)return h<602;var e,t,n=new m(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(f(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));v("sort",(function(e){return void 0!==e&&o(e),g?f(this,e):s(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!g||_)},3642:(e,t,n)=>{"use strict";var r=n(4063),i=n(2105),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;o("toReversed",(function(){return r(a(this),s(this))}))},509:(e,t,n)=>{"use strict";var r=n(2105),i=n(4627),a=n(3727),o=n(293),s=r.aTypedArray,l=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,c=i(r.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),n=o(l(t),t);return c(n,e)}))},6986:(e,t,n)=>{"use strict";var r=n(6325),i=n(2105),a=n(4094),o=n(9546),s=n(75),l=i.aTypedArray,u=i.getTypedArrayConstructor,c=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();c("with",{with:function(e,t){var n=l(this),i=o(e),c=a(n)?s(t):+t;return r(n,u(n),i,c)}}.with,!d)},1433:(e,t,n)=>{"use strict";var r=n(1271),i=n(9171),a=n(3179),o=ArrayBuffer.prototype;r&&!("detached"in o)&&i(o,"detached",{configurable:!0,get:function(){return a(this)}})},9020:(e,t,n)=>{"use strict";var r=n(5651),i=n(4515);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},1e3:(e,t,n)=>{"use strict";var r=n(5651),i=n(4515);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},2e3:(e,t,n)=>{"use strict";var r=n(6216),i=n(7740).f,a=r("metadata"),o=Function.prototype;void 0===o[a]&&i(o,a,{value:null})},5198:(e,t,n)=>{"use strict";var r=n(5651),i=n(5825);r({target:"Set",proto:!0,real:!0,forced:!n(69)("difference")},{difference:i})},5736:(e,t,n)=>{"use strict";var r=n(5651),i=n(4476),a=n(8163);r({target:"Set",proto:!0,real:!0,forced:!n(69)("intersection")||i((function(){return"3,2"!==Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:a})},4817:(e,t,n)=>{"use strict";var r=n(5651),i=n(8852);r({target:"Set",proto:!0,real:!0,forced:!n(69)("isDisjointFrom")},{isDisjointFrom:i})},7224:(e,t,n)=>{"use strict";var r=n(5651),i=n(8547);r({target:"Set",proto:!0,real:!0,forced:!n(69)("isSubsetOf")},{isSubsetOf:i})},5783:(e,t,n)=>{"use strict";var r=n(5651),i=n(6994);r({target:"Set",proto:!0,real:!0,forced:!n(69)("isSupersetOf")},{isSupersetOf:i})},1292:(e,t,n)=>{"use strict";var r=n(5651),i=n(483);r({target:"Set",proto:!0,real:!0,forced:!n(69)("symmetricDifference")},{symmetricDifference:i})},1446:(e,t,n)=>{"use strict";var r=n(5651),i=n(5671);r({target:"Set",proto:!0,real:!0,forced:!n(69)("union")},{union:i})},2220:(e,t,n)=>{"use strict";n(3006)("metadata")},6399:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),a=n(6496).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==a},{clearImmediate:a})},7821:(e,t,n)=>{"use strict";var r=n(1186),i=n(7751),a=n(6589),o=n(3970),s=n(8890),l=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var u in i)i[u]&&l(r[u]&&r[u].prototype);l(a)},752:(e,t,n)=>{"use strict";var r=n(1186),i=n(7751),a=n(6589),o=n(2195),s=n(8890),l=n(6216),u=l("iterator"),c=l("toStringTag"),d=o.values,h=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(t){e[u]=d}if(e[c]||s(e,c,t),i[t])for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(t){e[n]=o[n]}}};for(var p in i)h(r[p]&&r[p].prototype,p);h(a,"DOMTokenList")},8956:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),a=n(2078),o=n(3033),s=n(7740).f,l=n(188),u=n(8108),c=n(3220),d=n(3808),h=n(9177),p=n(4658),v=n(1271),m=n(8128),f="DOMException",_=a("Error"),g=a(f),y=function(){u(this,b);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new g(t,n),i=new _(t);return i.name=f,s(r,"stack",o(1,p(i.stack,1))),c(r,this,y),r},b=y.prototype=g.prototype,E="stack"in new _(f),w="stack"in new g(1,2),S=g&&v&&Object.getOwnPropertyDescriptor(i,f),C=!(!S||S.writable&&S.configurable),k=E&&!C&&!w;r({global:!0,constructor:!0,forced:m||k},{DOMException:k?y:g});var A=a(f),P=A.prototype;if(P.constructor!==A)for(var I in m||s(P,"constructor",o(1,A)),h)if(l(h,I)){var T=h[I],R=T.s;l(A,R)||s(A,R,o(6,T.c))}},9679:(e,t,n)=>{"use strict";n(6399),n(6814)},8057:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),a=n(756),o=n(3727),s=n(8003),l=n(1301),u=i.process;r({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){s(arguments.length,1),o(e);var t=l&&u.domain;a(t?t.bind(e):e)}})},3154:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),a=n(9171),o=n(1271),s=TypeError,l=Object.defineProperty,u=i.self!==i;try{if(o){var c=Object.getOwnPropertyDescriptor(i,"self");!u&&c&&c.get&&c.enumerable||a(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw new s("Illegal invocation");l(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else r({global:!0,simple:!0,forced:u},{self:i})}catch(e){}},6814:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),a=n(6496).set,o=n(5925),s=i.setImmediate?o(a,!1):a;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},7265:(e,t,n)=>{"use strict";n(2195);var r=n(5651),i=n(1186),a=n(7098),o=n(4627),s=n(1271),l=n(935),u=n(359),c=n(9171),d=n(3618),h=n(9640),p=n(4749),v=n(1364),m=n(8108),f=n(2954),_=n(188),g=n(5319),y=n(7404),b=n(2816),E=n(2845),w=n(9376),S=n(3403),C=n(3033),k=n(2156),A=n(1480),P=n(1278),I=n(8003),T=n(6216),R=n(9441),x=T("iterator"),L="URLSearchParams",O=L+"Iterator",N=v.set,M=v.getterFor(L),D=v.getterFor(O),F=Object.getOwnPropertyDescriptor,B=function(e){if(!s)return i[e];var t=F(i,e);return t&&t.value},H=B("fetch"),V=B("Request"),U=B("Headers"),j=V&&V.prototype,W=U&&U.prototype,z=i.RegExp,$=i.TypeError,G=i.decodeURIComponent,K=i.encodeURIComponent,q=o("".charAt),Y=o([].join),Q=o([].push),Z=o("".replace),X=o([].shift),J=o([].splice),ee=o("".split),te=o("".slice),ne=/\+/g,re=Array(4),ie=function(e){return re[e-1]||(re[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},ae=function(e){try{return G(e)}catch(t){return e}},oe=function(e){var t=Z(e,ne," "),n=4;try{return G(t)}catch(e){for(;n;)t=Z(t,ie(n--),ae);return t}},se=/[!'()~]|%20/g,le={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return le[e]},ce=function(e){return Z(K(e),se,ue)},de=p((function(e,t){N(this,{type:O,target:M(e).entries,index:0,kind:t})}),L,(function(){var e=D(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,P(void 0,!0);var r=t[n];switch(e.kind){case"keys":return P(r.key,!1);case"values":return P(r.value,!1)}return P([r.key,r.value],!1)}),!0),he=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===q(e,0)?te(e,1):e:w(e)))};he.prototype={type:L,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,s,l,u=this.entries,c=A(e);if(c)for(n=(t=k(e,c)).next;!(r=a(n,t)).done;){if(o=(i=k(b(r.value))).next,(s=a(o,i)).done||(l=a(o,i)).done||!a(o,i).done)throw new $("Expected sequence with length 2");Q(u,{key:w(s.value),value:w(l.value)})}else for(var d in e)_(e,d)&&Q(u,{key:d,value:w(e[d])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=ee(e,"&"),a=0;a<i.length;)(t=i[a++]).length&&(n=ee(t,"="),Q(r,{key:oe(X(n)),value:oe(Y(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],Q(n,ce(e.key)+"="+ce(e.value));return Y(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var pe=function(){m(this,ve);var e=N(this,new he(arguments.length>0?arguments[0]:void 0));s||(this.size=e.entries.length)},ve=pe.prototype;if(d(ve,{append:function(e,t){var n=M(this);I(arguments.length,2),Q(n.entries,{key:w(e),value:w(t)}),s||this.length++,n.updateURL()},delete:function(e){for(var t=M(this),n=I(arguments.length,1),r=t.entries,i=w(e),a=n<2?void 0:arguments[1],o=void 0===a?a:w(a),l=0;l<r.length;){var u=r[l];if(u.key!==i||void 0!==o&&u.value!==o)l++;else if(J(r,l,1),void 0!==o)break}s||(this.size=r.length),t.updateURL()},get:function(e){var t=M(this).entries;I(arguments.length,1);for(var n=w(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=M(this).entries;I(arguments.length,1);for(var n=w(e),r=[],i=0;i<t.length;i++)t[i].key===n&&Q(r,t[i].value);return r},has:function(e){for(var t=M(this).entries,n=I(arguments.length,1),r=w(e),i=n<2?void 0:arguments[1],a=void 0===i?i:w(i),o=0;o<t.length;){var s=t[o++];if(s.key===r&&(void 0===a||s.value===a))return!0}return!1},set:function(e,t){var n=M(this);I(arguments.length,1);for(var r,i=n.entries,a=!1,o=w(e),l=w(t),u=0;u<i.length;u++)(r=i[u]).key===o&&(a?J(i,u--,1):(a=!0,r.value=l));a||Q(i,{key:o,value:l}),s||(this.size=i.length),n.updateURL()},sort:function(){var e=M(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=M(this).entries,r=g(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new de(this,"keys")},values:function(){return new de(this,"values")},entries:function(){return new de(this,"entries")}},{enumerable:!0}),u(ve,x,ve.entries,{name:"entries"}),u(ve,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),s&&c(ve,"size",{get:function(){return M(this).entries.length},configurable:!0,enumerable:!0}),h(pe,L),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:pe}),!l&&f(U)){var me=o(W.has),fe=o(W.set),_e=function(e){if(E(e)){var t,n=e.body;if(y(n)===L)return t=e.headers?new U(e.headers):new U,me(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:C(0,w(n)),headers:C(0,t)})}return e};if(f(H)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return H(e,arguments.length>1?_e(arguments[1]):{})}}),f(V)){var ge=function(e){return m(this,j),new V(e,arguments.length>1?_e(arguments[1]):{})};j.constructor=ge,ge.prototype=j,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:pe,getState:M}},8578:(e,t,n)=>{"use strict";var r=n(359),i=n(4627),a=n(9376),o=n(8003),s=URLSearchParams,l=s.prototype,u=i(l.append),c=i(l.delete),d=i(l.forEach),h=i([].push),p=new s("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&r(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var r=[];d(this,(function(e,t){h(r,{key:t,value:e})})),o(t,1);for(var i,s=a(e),l=a(n),p=0,v=0,m=!1,f=r.length;p<f;)i=r[p++],m||i.key===s?(m=!0,c(this,i.key)):v++;for(;v<f;)(i=r[v++]).key===s&&i.value===l||u(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},9857:(e,t,n)=>{"use strict";var r=n(359),i=n(4627),a=n(9376),o=n(8003),s=URLSearchParams,l=s.prototype,u=i(l.getAll),c=i(l.has),d=new s("a=1");!d.has("a",2)&&d.has("a",void 0)||r(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var r=u(this,e);o(t,1);for(var i=a(n),s=0;s<r.length;)if(r[s++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},299:(e,t,n)=>{"use strict";n(7265)},9972:(e,t,n)=>{"use strict";var r=n(1271),i=n(4627),a=n(9171),o=URLSearchParams.prototype,s=i(o.forEach);r&&!("size"in o)&&a(o,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},5213:(e,t,n)=>{"use strict";n(4865);var r,i=n(5651),a=n(1271),o=n(935),s=n(1186),l=n(5319),u=n(4627),c=n(359),d=n(9171),h=n(8108),p=n(188),v=n(4466),m=n(9981),f=n(2626),_=n(2414).codeAt,g=n(276),y=n(9376),b=n(9640),E=n(8003),w=n(7265),S=n(1364),C=S.set,k=S.getterFor("URL"),A=w.URLSearchParams,P=w.getState,I=s.URL,T=s.TypeError,R=s.parseInt,x=Math.floor,L=Math.pow,O=u("".charAt),N=u(/./.exec),M=u([].join),D=u(1..toString),F=u([].pop),B=u([].push),H=u("".replace),V=u([].shift),U=u("".split),j=u("".slice),W=u("".toLowerCase),z=u([].unshift),$="Invalid scheme",G="Invalid host",K="Invalid port",q=/[a-z]/i,Y=/[\d+-.a-z]/i,Q=/\d/,Z=/^0x/i,X=/^[0-7]+$/,J=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,oe=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=x(e/256);return M(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},le=v({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=v({},le,{"#":1,"?":1,"{":1,"}":1}),ce=v({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=_(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var n;return 2===e.length&&N(q,O(e,0))&&(":"===(n=O(e,1))||!t&&"|"===n)},ve=function(e){var t;return e.length>1&&pe(j(e,0,2))&&(2===e.length||"/"===(t=O(e,2))||"\\"===t||"?"===t||"#"===t)},me=function(e){return"."===e||"%2e"===W(e)},fe={},_e={},ge={},ye={},be={},Ee={},we={},Se={},Ce={},ke={},Ae={},Pe={},Ie={},Te={},Re={},xe={},Le={},Oe={},Ne={},Me={},De={},Fe=function(e,t,n){var r,i,a,o=y(e);if(t){if(i=this.parse(o))throw new T(i);this.searchParams=null}else{if(void 0!==n&&(r=new Fe(n,!0)),i=this.parse(o,null,r))throw new T(i);(a=P(new A)).bindURL(this),this.searchParams=a}};Fe.prototype={type:"URL",parse:function(e,t,n){var i,a,o,s,l,u=this,c=t||fe,d=0,h="",v=!1,_=!1,g=!1;for(e=y(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=H(e,re,""),e=H(e,ie,"$1")),e=H(e,ae,""),i=m(e);d<=i.length;){switch(a=i[d],c){case fe:if(!a||!N(q,a)){if(t)return $;c=ge;continue}h+=W(a),c=_e;break;case _e:if(a&&(N(Y,a)||"+"===a||"-"===a||"."===a))h+=W(a);else{if(":"!==a){if(t)return $;h="",c=ge,d=0;continue}if(t&&(u.isSpecial()!==p(he,h)||"file"===h&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=h,t)return void(u.isSpecial()&&he[u.scheme]===u.port&&(u.port=null));h="","file"===u.scheme?c=Te:u.isSpecial()&&n&&n.scheme===u.scheme?c=ye:u.isSpecial()?c=Se:"/"===i[d+1]?(c=be,d++):(u.cannotBeABaseURL=!0,B(u.path,""),c=Ne)}break;case ge:if(!n||n.cannotBeABaseURL&&"#"!==a)return $;if(n.cannotBeABaseURL&&"#"===a){u.scheme=n.scheme,u.path=f(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=De;break}c="file"===n.scheme?Te:Ee;continue;case ye:if("/"!==a||"/"!==i[d+1]){c=Ee;continue}c=Ce,d++;break;case be:if("/"===a){c=ke;break}c=Oe;continue;case Ee:if(u.scheme=n.scheme,a===r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=f(n.path),u.query=n.query;else if("/"===a||"\\"===a&&u.isSpecial())c=we;else if("?"===a)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=f(n.path),u.query="",c=Me;else{if("#"!==a){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=f(n.path),u.path.length--,c=Oe;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=f(n.path),u.query=n.query,u.fragment="",c=De}break;case we:if(!u.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=Oe;continue}c=ke}else c=Ce;break;case Se:if(c=Ce,"/"!==a||"/"!==O(h,d+1))continue;d++;break;case Ce:if("/"!==a&&"\\"!==a){c=ke;continue}break;case ke:if("@"===a){v&&(h="%40"+h),v=!0,o=m(h);for(var b=0;b<o.length;b++){var E=o[b];if(":"!==E||g){var w=de(E,ce);g?u.password+=w:u.username+=w}else g=!0}h=""}else if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(v&&""===h)return"Invalid authority";d-=m(h).length+1,h="",c=Ae}else h+=a;break;case Ae:case Pe:if(t&&"file"===u.scheme){c=xe;continue}if(":"!==a||_){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(u.isSpecial()&&""===h)return G;if(t&&""===h&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(h))return s;if(h="",c=Le,t)return;continue}"["===a?_=!0:"]"===a&&(_=!1),h+=a}else{if(""===h)return G;if(s=u.parseHost(h))return s;if(h="",c=Ie,t===Pe)return}break;case Ie:if(!N(Q,a)){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()||t){if(""!==h){var S=R(h,10);if(S>65535)return K;u.port=u.isSpecial()&&S===he[u.scheme]?null:S,h=""}if(t)return;c=Le;continue}return K}h+=a;break;case Te:if(u.scheme="file","/"===a||"\\"===a)c=Re;else{if(!n||"file"!==n.scheme){c=Oe;continue}switch(a){case r:u.host=n.host,u.path=f(n.path),u.query=n.query;break;case"?":u.host=n.host,u.path=f(n.path),u.query="",c=Me;break;case"#":u.host=n.host,u.path=f(n.path),u.query=n.query,u.fragment="",c=De;break;default:ve(M(f(i,d),""))||(u.host=n.host,u.path=f(n.path),u.shortenPath()),c=Oe;continue}}break;case Re:if("/"===a||"\\"===a){c=xe;break}n&&"file"===n.scheme&&!ve(M(f(i,d),""))&&(pe(n.path[0],!0)?B(u.path,n.path[0]):u.host=n.host),c=Oe;continue;case xe:if(a===r||"/"===a||"\\"===a||"?"===a||"#"===a){if(!t&&pe(h))c=Oe;else if(""===h){if(u.host="",t)return;c=Le}else{if(s=u.parseHost(h))return s;if("localhost"===u.host&&(u.host=""),t)return;h="",c=Le}continue}h+=a;break;case Le:if(u.isSpecial()){if(c=Oe,"/"!==a&&"\\"!==a)continue}else if(t||"?"!==a)if(t||"#"!==a){if(a!==r&&(c=Oe,"/"!==a))continue}else u.fragment="",c=De;else u.query="",c=Me;break;case Oe:if(a===r||"/"===a||"\\"===a&&u.isSpecial()||!t&&("?"===a||"#"===a)){if(".."===(l=W(l=h))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(u.shortenPath(),"/"===a||"\\"===a&&u.isSpecial()||B(u.path,"")):me(h)?"/"===a||"\\"===a&&u.isSpecial()||B(u.path,""):("file"===u.scheme&&!u.path.length&&pe(h)&&(u.host&&(u.host=""),h=O(h,0)+":"),B(u.path,h)),h="","file"===u.scheme&&(a===r||"?"===a||"#"===a))for(;u.path.length>1&&""===u.path[0];)V(u.path);"?"===a?(u.query="",c=Me):"#"===a&&(u.fragment="",c=De)}else h+=de(a,ue);break;case Ne:"?"===a?(u.query="",c=Me):"#"===a?(u.fragment="",c=De):a!==r&&(u.path[0]+=de(a,se));break;case Me:t||"#"!==a?a!==r&&("'"===a&&u.isSpecial()?u.query+="%27":u.query+="#"===a?"%23":de(a,se)):(u.fragment="",c=De);break;case De:a!==r&&(u.fragment+=de(a,le))}d++}},parseHost:function(e){var t,n,r;if("["===O(e,0)){if("]"!==O(e,e.length-1))return G;if(t=function(e){var t,n,r,i,a,o,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,h=function(){return O(e,d)};if(":"===h()){if(":"!==O(e,1))return;d+=2,c=++u}for(;h();){if(8===u)return;if(":"!==h()){for(t=n=0;n<4&&N(ee,h());)t=16*t+R(h(),16),d++,n++;if("."===h()){if(0===n)return;if(d-=n,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."===h()&&r<4))return;d++}if(!N(Q,h()))return;for(;N(Q,h());){if(a=R(h(),10),null===i)i=a;else{if(0===i)return;i=10*i+a}if(i>255)return;d++}l[u]=256*l[u]+i,2!=++r&&4!==r||u++}if(4!==r)return;break}if(":"===h()){if(d++,!h())return}else if(h())return;l[u++]=t}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(o=u-c,u=7;0!==u&&o>0;)s=l[u],l[u--]=l[c+o-1],l[c+--o]=s;else if(8!==u)return;return l}(j(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=g(e),N(te,e))return G;if(t=function(e){var t,n,r,i,a,o,s,l=U(e,".");if(l.length&&""===l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=l[r]))return e;if(a=10,i.length>1&&"0"===O(i,0)&&(a=N(Z,i)?16:8,i=j(i,8===a?1:2)),""===i)o=0;else{if(!N(10===a?J:8===a?X:ee,i))return e;o=R(i,a)}B(n,o)}for(r=0;r<t;r++)if(o=n[r],r===t-1){if(o>=L(256,5-t))return null}else if(o>255)return null;for(s=F(n),r=0;r<n.length;r++)s+=n[r]*L(256,3-r);return s}(e),null===t)return G;this.host=t}else{if(N(ne,e))return G;for(t="",n=m(e),r=0;r<n.length;r++)t+=de(n[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=oe(i),null!==a&&(u+=":"+a)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+M(o,"/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw new T(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Be(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(y(e)+":",fe)},getUsername:function(){return this.username},setUsername:function(e){var t=m(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ae)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getPort:function(){var e=this.port;return null===e?"":y(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=y(e))?this.port=null:this.parse(e,Ie))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Le))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=y(e))?this.query=null:("?"===O(e,0)&&(e=j(e,1)),this.query="",this.parse(e,Me)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=y(e))?("#"===O(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,De)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=h(this,He),n=E(arguments.length,1)>1?arguments[1]:void 0,r=C(t,new Fe(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},He=Be.prototype,Ve=function(e,t){return{get:function(){return k(this)[e]()},set:t&&function(e){return k(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(He,"href",Ve("serialize","setHref")),d(He,"origin",Ve("getOrigin")),d(He,"protocol",Ve("getProtocol","setProtocol")),d(He,"username",Ve("getUsername","setUsername")),d(He,"password",Ve("getPassword","setPassword")),d(He,"host",Ve("getHost","setHost")),d(He,"hostname",Ve("getHostname","setHostname")),d(He,"port",Ve("getPort","setPort")),d(He,"pathname",Ve("getPathname","setPathname")),d(He,"search",Ve("getSearch","setSearch")),d(He,"searchParams",Ve("getSearchParams")),d(He,"hash",Ve("getHash","setHash"))),c(He,"toJSON",(function(){return k(this).serialize()}),{enumerable:!0}),c(He,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),I){var Ue=I.createObjectURL,je=I.revokeObjectURL;Ue&&c(Be,"createObjectURL",l(Ue,I)),je&&c(Be,"revokeObjectURL",l(je,I))}b(Be,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Be})},4175:(e,t,n)=>{"use strict";n(5213)},5343:(e,t,n)=>{"use strict";var r=n(5651),i=n(7098);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";n(2195),n(3867),n(752);function e(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=t.apply(n,r);function s(t){e(o,i,a,s,l,"next",t)}function l(t){e(o,i,a,s,l,"throw",t)}s(void 0)}))}}var r=n(9793),i=n.n(r);n(8668),n(7293),n(4401),n(8995),n(5745),n(4233),n(1557),n(2358),n(9419),n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020),n(8956),n(9837),n(4924);var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var u="3.4.2";function c(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function d(e){return!!e&&"function"==typeof e.then}function h(e,t){try{var n=e();d(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function p(e,t,n){return void 0===n&&(n=16),o(this,void 0,void 0,(function(){var r,i,a,o;return s(this,(function(s){switch(s.label){case 0:r=Array(e.length),i=Date.now(),a=0,s.label=1;case 1:return a<e.length?(r[a]=t(e[a],a),(o=Date.now())>=i+n?(i=o,[4,c(0)]):[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return++a,[3,1];case 4:return[2,r]}}))}))}function v(e){e.then(void 0,(function(){}))}function m(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function _(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function g(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function y(e,t){return[e[0]^t[0],e[1]^t[1]]}function b(e){return e=y(e,[0,e[0]>>>1]),e=y(e=f(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=y(e=f(e,[3301882366,444984403]),[0,e[0]>>>1])}function E(e,t){t=t||0;var n,r=(e=e||"").length%16,i=e.length-r,a=[0,t],o=[0,t],s=[0,0],l=[0,0],u=[2277735313,289559509],c=[1291169091,658871167];for(n=0;n<i;n+=16)s=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],l=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],s=_(s=f(s,u),31),a=m(a=_(a=y(a,s=f(s,c)),27),o),a=m(f(a,[0,5]),[0,1390208809]),l=_(l=f(l,c),33),o=m(o=_(o=y(o,l=f(l,u)),31),a),o=m(f(o,[0,5]),[0,944331445]);switch(s=[0,0],l=[0,0],r){case 15:l=y(l,g([0,e.charCodeAt(n+14)],48));case 14:l=y(l,g([0,e.charCodeAt(n+13)],40));case 13:l=y(l,g([0,e.charCodeAt(n+12)],32));case 12:l=y(l,g([0,e.charCodeAt(n+11)],24));case 11:l=y(l,g([0,e.charCodeAt(n+10)],16));case 10:l=y(l,g([0,e.charCodeAt(n+9)],8));case 9:l=f(l=y(l,[0,e.charCodeAt(n+8)]),c),o=y(o,l=f(l=_(l,33),u));case 8:s=y(s,g([0,e.charCodeAt(n+7)],56));case 7:s=y(s,g([0,e.charCodeAt(n+6)],48));case 6:s=y(s,g([0,e.charCodeAt(n+5)],40));case 5:s=y(s,g([0,e.charCodeAt(n+4)],32));case 4:s=y(s,g([0,e.charCodeAt(n+3)],24));case 3:s=y(s,g([0,e.charCodeAt(n+2)],16));case 2:s=y(s,g([0,e.charCodeAt(n+1)],8));case 1:s=f(s=y(s,[0,e.charCodeAt(n)]),u),a=y(a,s=f(s=_(s,31),c))}return a=m(a=y(a,[0,e.length]),o=y(o,[0,e.length])),o=m(o,a),a=m(a=b(a),o=b(o)),o=m(o,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}function w(e){return parseInt(e)}function S(e){return parseFloat(e)}function C(e,t){return"number"==typeof e&&isNaN(e)?t:e}function k(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function A(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function P(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function I(e){return"function"!=typeof e}function T(e,t,n){var r=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(n,e)})),i=p(r,(function(n){return function(e,t){var n=new Promise((function(n){var r=Date.now();h(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Date.now()-r;if(!e[0])return n((function(){return{error:P(e[1]),duration:i}}));var a=e[1];if(I(a))return n((function(){return{value:a,duration:i}}));n((function(){return new Promise((function(e){var t=Date.now();h(a,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=i+Date.now()-t;if(!n[0])return e({error:P(n[1]),duration:a});e({value:n[1],duration:a})}))}))}))}))}));return v(n),function(){return n.then((function(e){return e()}))}}(e[n],t)}));return v(i),function(){return o(this,void 0,void 0,(function(){var e,t,n,a;return s(this,(function(o){switch(o.label){case 0:return[4,i];case 1:return[4,p(o.sent(),(function(e){var t=e();return v(t),t}))];case 2:return e=o.sent(),[4,Promise.all(e)];case 3:for(t=o.sent(),n={},a=0;a<r.length;++a)n[r[a]]=t[a];return[2,n]}}))}))}}function R(){var e=window,t=navigator;return k(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function x(){var e=window,t=navigator;return k(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function L(){var e=window,t=navigator;return k(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function O(){var e=window;return k(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function N(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function M(){var e=x(),t=function(){var e,t,n=window;return k(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}();if(!e&&!t)return!1;var n=window;return k(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function D(e){var t=new Error(e);return t.name=e,t}function F(e,t,n){var r,i,a;return void 0===n&&(n=50),o(this,void 0,void 0,(function(){var o,l;return s(this,(function(s){switch(s.label){case 0:o=document,s.label=1;case 1:return o.body?[3,3]:[4,c(n)];case 2:return s.sent(),[3,1];case 3:l=o.createElement("iframe"),s.label=4;case 4:return s.trys.push([4,,10,11]),[4,new Promise((function(e,n){var r=!1,i=function(){r=!0,e()};l.onload=i,l.onerror=function(e){r=!0,n(e)};var a=l.style;a.setProperty("display","block","important"),a.position="absolute",a.top="0",a.left="0",a.visibility="hidden",t&&"srcdoc"in l?l.srcdoc=t:l.src="about:blank",o.body.appendChild(l);var s=function(){var e,t;r||("complete"===(null===(t=null===(e=l.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?i():setTimeout(s,10))};s()}))];case 5:s.sent(),s.label=6;case 6:return(null===(i=null===(r=l.contentWindow)||void 0===r?void 0:r.document)||void 0===i?void 0:i.body)?[3,8]:[4,c(n)];case 7:return s.sent(),[3,6];case 8:return[4,e(l,l.contentWindow)];case 9:return[2,s.sent()];case 10:return null===(a=l.parentNode)||void 0===a||a.removeChild(l),[7];case 11:return[2]}}))}))}function B(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),i=/^\s*([a-z-]*)(.*)$/i.exec(e),a=i[1]||void 0,o={},s=/([.:#][\w-]+|\[.+?\])/gi,l=function(e,t){o[e]=o[e]||[],o[e].push(t)};;){var u=s.exec(i[2]);if(!u)break;var c=u[0];switch(c[0]){case".":l("class",c.slice(1));break;case"#":l("id",c.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(c);if(!d)throw new Error(r);l(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[a,o]}(e),n=t[0],r=t[1],i=document.createElement(null!=n?n:"div"),a=0,o=Object.keys(r);a<o.length;a++){var s=o[a],l=r[s].join(" ");"style"===s?H(i.style,l):i.setAttribute(s,l)}return i}function H(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],a=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(i);if(a){var o=a[1],s=a[2],l=a[4];e.setProperty(o,s,l||"")}}}var V=["monospace","sans-serif","serif"],U=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function j(e){return e.toDataURL()}var W,z;function $(){var e=this;return function(){if(void 0===z){var e=function(){var t=G();K(t)?z=setTimeout(e,2500):(W=t,z=void 0)};e()}}(),function(){return o(e,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return K(e=G())?W?[2,l([],W,!0)]:(n=document).fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement?[4,N()]:[3,2]:[3,2];case 1:t.sent(),e=G(),t.label=2;case 2:return K(e)||(W=e),[2,e]}var n}))}))}}function G(){var e=screen;return[C(S(e.availTop),null),C(S(e.width)-S(e.availWidth)-C(S(e.availLeft),0),null),C(S(e.height)-S(e.availHeight)-C(S(e.availTop),0),null),C(S(e.availLeft),null)]}function K(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function q(e){var t;return o(this,void 0,void 0,(function(){var n,r,i,a,o,l,u;return s(this,(function(s){switch(s.label){case 0:for(n=document,r=n.createElement("div"),i=new Array(e.length),a={},Y(r),u=0;u<e.length;++u)"DIALOG"===(o=B(e[u])).tagName&&o.show(),Y(l=n.createElement("div")),l.appendChild(o),r.appendChild(l),i[u]=o;s.label=1;case 1:return n.body?[3,3]:[4,c(50)];case 2:return s.sent(),[3,1];case 3:n.body.appendChild(r);try{for(u=0;u<e.length;++u)i[u].offsetParent||(a[e[u]]=!0)}finally{null===(t=r.parentNode)||void 0===t||t.removeChild(r)}return[2,a]}}))}))}function Y(e){e.style.setProperty("display","block","important")}function Q(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function Z(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function X(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function J(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function ee(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var te=Math,ne=function(){return 0};var re={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var ie={fonts:function(){return F((function(e,t){var n=t.document,r=n.body;r.style.fontSize="48px";var i=n.createElement("div"),a={},o={},s=function(e){var t=n.createElement("span"),r=t.style;return r.position="absolute",r.top="0",r.left="0",r.fontFamily=e,t.textContent="mmMwWLliI0O&1",i.appendChild(t),t},l=V.map(s),u=function(){for(var e={},t=function(t){e[t]=V.map((function(e){return function(e,t){return s("'".concat(e,"',").concat(t))}(t,e)}))},n=0,r=U;n<r.length;n++){t(r[n])}return e}();r.appendChild(i);for(var c=0;c<V.length;c++)a[V[c]]=l[c].offsetWidth,o[V[c]]=l[c].offsetHeight;return U.filter((function(e){return t=u[e],V.some((function(e,n){return t[n].offsetWidth!==a[e]||t[n].offsetHeight!==o[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return o(this,void 0,void 0,(function(){var e,n,r,i,a;return s(this,(function(o){switch(o.label){case 0:return L()||M()?(s=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',s("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",s("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",s("LnNwb25zb3JpdA=="),".ylamainos",s("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",s("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",s("LmhlYWRlci1ibG9ja2VkLWFk"),s("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",s("I2FkXzMwMFgyNTA="),s("I2Jhbm5lcmZsb2F0MjI="),s("I2NhbXBhaWduLWJhbm5lcg=="),s("I0FkLUNvbnRlbnQ=")],adGuardChinese:[s("LlppX2FkX2FfSA=="),s("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",s("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),s("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",s("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",s("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",s("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),s("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),s("LmFkZ29vZ2xl"),s("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[s("YW1wLWF1dG8tYWRz"),s("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",s("I2FkX2ludmlld19hcmVh")],adGuardRussian:[s("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),s("LnJlY2xhbWE="),'div[id^="smi2adblock"]',s("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[s("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),s("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",s("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),s("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),s("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",s("I3Jla2xhbWk="),s("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),s("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),s("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[s("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",s("LndpZGdldF9wb19hZHNfd2lkZ2V0"),s("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",s("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[s("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),s("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",s("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",s("I3Jla2xhbW5pLWJveA=="),s("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",s("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[s("I2FkdmVydGVudGll"),s("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",s("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",s("LnNwb25zb3JsaW5rZ3J1ZW4="),s("I3dlcmJ1bmdza3k="),s("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),s("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[s("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",s("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[s("LnJla2xhbW9zX3RhcnBhcw=="),s("LnJla2xhbW9zX251b3JvZG9z"),s("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),s("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),s("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[s("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[s("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),s("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",s("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[s("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),s("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),s("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",s("LmFkX19tYWlu"),s("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[s("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[s("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),s("I2xpdmVyZUFkV3JhcHBlcg=="),s("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),s("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[s("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",s("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),s("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),s("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[s("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),s("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),s("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",s("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),s("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),s("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),s("ZGl2I3NrYXBpZWNfYWQ=")],ro:[s("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),s("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[s("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),s("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),s("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",s("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),s("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",s("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,q((a=[]).concat.apply(a,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return r=o.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",r=0,i=Object.keys(e);r<i.length;r++){var a=i[r];n+="\n".concat(a,":");for(var o=0,s=e[a];o<s.length;o++){var l=s[o];n+="\n  ".concat(t[l]?"🚫":"➡️"," ").concat(l)}}console.log("".concat(n,"\n```"))}(e,r),(i=n.filter((function(t){var n=e[t];return k(n.map((function(e){return r[e]})))>.6*n.length}))).sort(),[2,i]}var s}))}))},fontPreferences:function(){return function(e,t){void 0===t&&(t=4e3);return F((function(n,r){var i=r.document,a=i.body,o=a.style;o.width="".concat(t,"px"),o.webkitTextSizeAdjust=o.textSizeAdjust="none",x()?a.style.zoom="".concat(1/r.devicePixelRatio):L()&&(a.style.zoom="reset");var s=i.createElement("div");return s.textContent=l([],Array(t/20|0),!0).map((function(){return"word"})).join(" "),a.appendChild(s),e(i,a)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(e,t){for(var n={},r={},i=0,a=Object.keys(re);i<a.length;i++){var o=a[i],s=re[o],l=s[0],u=void 0===l?{}:l,c=s[1],d=void 0===c?"mmMwWLliI0fiflO&1":c,h=e.createElement("span");h.textContent=d,h.style.whiteSpace="nowrap";for(var p=0,v=Object.keys(u);p<v.length;p++){var m=v[p],f=u[m];void 0!==f&&(h.style[m]=f)}n[o]=h,t.appendChild(e.createElement("br")),t.appendChild(h)}for(var _=0,g=Object.keys(re);_<g.length;_++){r[o=g[_]]=n[o].getBoundingClientRect().width}return r}))},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(L()&&!O()&&!function(){var e=window;return k(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var i=n.createDynamicsCompressor();i.threshold.value=-50,i.knee.value=40,i.ratio.value=12,i.attack.value=0,i.release.value=.25,r.connect(i),i.connect(n.destination),r.start(0);var a=function(e){var t=3,n=500,r=500,i=5e3,a=function(){},o=new Promise((function(o,s){var l=!1,u=0,c=0;e.oncomplete=function(e){return o(e.renderedBuffer)};var h=function(){setTimeout((function(){return s(D("timeout"))}),Math.min(r,c+i-Date.now()))},p=function(){try{var r=e.startRendering();switch(d(r)&&v(r),e.state){case"running":c=Date.now(),l&&h();break;case"suspended":document.hidden||u++,l&&u>=t?s(D("suspended")):setTimeout(p,n)}}catch(e){s(e)}};p(),a=function(){l||(l=!0,c>0&&h())}}));return[o,a]}(n),o=a[0],s=a[1],l=o.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return v(l),function(){return s(),l}},screenFrame:function(){var e=this,t=$();return function(){return o(e,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:A(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],r=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(t.languages))x()&&k([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var i=t.languages;i&&n.push(i.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return C(S(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return C(w(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return C(w(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,i=(r=(new Date).getFullYear(),-Math.max(S(new Date(r,0,1).getTimezoneOffset()),S(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(i>=0?"+":"").concat(Math.abs(i))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){var e,t;if(!(R()||(e=window,t=navigator,k(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!R())))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&L()&&!O()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return k(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var i=[],a=0;a<r.length;++a){var o=r[a];i.push({type:o.type,suffixes:o.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:i})}}return t}},canvas:function(){var e,t,n=!1,r=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),i=r[0],a=r[1];if(function(e,t){return!(!t||!e.toDataURL)}(i,a)){n=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(a),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(i,a);var o=j(i);o!==j(i)?e=t="unstable":(t=o,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var i=r[n],a=i[0],o=i[1],s=i[2];t.fillStyle=a,t.beginPath(),t.arc(o,s,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(i,a),e=j(i))}else e=t="";return{winding:n,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=w(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],i=window[r];i&&"object"==typeof i&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!Q("inverted")||!Q("none")&&void 0},forcedColors:function(){return!!Z("active")||!Z("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return X("no-preference")?0:X("high")||X("more")?1:X("low")||X("less")?-1:X("forced")?10:void 0},reducedMotion:function(){return!!J("reduce")||!J("no-preference")&&void 0},hdr:function(){return!!ee("high")||!ee("standard")&&void 0},math:function(){var e,t=te.acos||ne,n=te.acosh||ne,r=te.asin||ne,i=te.asinh||ne,a=te.atanh||ne,o=te.atan||ne,s=te.sin||ne,l=te.sinh||ne,u=te.cos||ne,c=te.cosh||ne,d=te.tan||ne,h=te.tanh||ne,p=te.exp||ne,v=te.expm1||ne,m=te.log1p||ne;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,te.log(e+te.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:i(1),asinhPf:function(e){return te.log(e+te.sqrt(e*e+1))}(1),atanh:a(.5),atanhPf:function(e){return te.log((1+e)/(1-e))/2}(.5),atan:o(.5),sin:s(-1e300),sinh:l(1),sinhPf:function(e){return te.exp(e)-1/te.exp(e)/2}(1),cos:u(10.000000000123),cosh:c(1),coshPf:function(e){return(te.exp(e)+1/te.exp(e))/2}(1),tan:d(-1e300),tanh:h(1),tanhPf:function(e){return(te.exp(2*e)-1)/(te.exp(2*e)+1)}(1),exp:p(1),expm1:v(1),expm1Pf:function(e){return te.exp(e)-1}(1),log1p:m(10),log1pPf:function(e){return te.log(1+e)}(10),powPI:function(e){return te.pow(te.PI,e)}(-100)}},videoCard:function(){var e,t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r)return{vendor:(n.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}};function ae(e){var t=function(e){if(M())return.4;if(L())return O()?.5:.3;var t=e.platform.value||"";if(/^Win/.test(t))return.6;if(/^Mac/.test(t))return.5;return.7}(e),n=function(e){return A(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(n))}}function oe(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?function(e){var t;return a({name:e.name,message:e.message,stack:null===(t=e.stack)||void 0===t?void 0:t.split("\n")},e)}(t):t}),2)}function se(e){return E(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var i=r[n],a=e[i],o=a.error?"error":JSON.stringify(a.value);t+="".concat(t?"|":"").concat(i.replace(/([:|\\])/g,"\\$1"),":").concat(o)}return t}(e))}function le(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):c(Math.min(e,t))}(e,2*e)}function ue(e,t){var n=Date.now();return{get:function(r){return o(this,void 0,void 0,(function(){var i,a,o;return s(this,(function(s){switch(s.label){case 0:return i=Date.now(),[4,e()];case 1:return a=s.sent(),o=function(e){var t,n=ae(e);return{get visitorId(){return void 0===t&&(t=se(this.components)),t},set visitorId(e){t=e},confidence:n,components:e,version:u}}(a),(t||(null==r?void 0:r.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(o.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(i-n,"\nvisitorId: ").concat(o.visitorId,"\ncomponents: ").concat(oe(a),"\n```")),[2,o]}}))}))}}}var ce={load:function(e){var t=void 0===e?{}:e,n=t.delayFallback,r=t.debug,i=t.monitoring,a=void 0===i||i;return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return a&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(u,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),[4,le(n)];case 1:return e.sent(),[2,ue(T(ie,{debug:r},[]),r)]}}))}))},hashComponents:se,componentsToDebugString:oe},de=function(e){try{return localStorage.getItem(e)}catch(e){console.error(e)}},he=function(e,t){try{return localStorage.setItem(e,String(t))}catch(e){console.error(e)}},pe="fingerprintId",ve="fingerprint-not-initialized",me=function(){var e=t(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=de(pe))){e.next=4;break}return ve=t,e.abrupt("return");case 4:return e.next=6,ce.load();case 6:return n=e.sent,e.next=9,n.get();case 9:r=e.sent,ve=r.visitorId,he(pe,ve);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){return de(pe)||ve};n(8471);function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){if(e){if("string"==typeof e)return _e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var be=function(e){if(!e)return 0;var t=ye(e.trim().split(":").reverse(),3),n=t[0],r=t[1],i=t[2];return+n+60*+r+(i?3600*+i:0)};function Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var we=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=Ee({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i)i[o]&&(a+="; "+o,!0!==i[o]&&(a+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var a=n[i].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=t.read(o,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Ee({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Ee({},this.attributes,t))},withConverter:function(t){return e(Ee({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const Se={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ce;const ke=new Uint8Array(16);function Ae(){if(!Ce&&(Ce="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ce))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ce(ke)}const Pe=[];for(let e=0;e<256;++e)Pe.push((e+256).toString(16).slice(1));function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Pe[e[t+0]]+Pe[e[t+1]]+Pe[e[t+2]]+Pe[e[t+3]]+"-"+Pe[e[t+4]]+Pe[e[t+5]]+"-"+Pe[e[t+6]]+Pe[e[t+7]]+"-"+Pe[e[t+8]]+Pe[e[t+9]]+"-"+Pe[e[t+10]]+Pe[e[t+11]]+Pe[e[t+12]]+Pe[e[t+13]]+Pe[e[t+14]]+Pe[e[t+15]]}const Te=function(e,t,n){if(Se.randomUUID&&!t&&!e)return Se.randomUUID();const r=(e=e||{}).random||(e.rng||Ae)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Ie(r)};function Re(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rutube.ru",t="undefined"!=typeof location&&location.hostname?location.hostname:e,n=t.split(".");return n.length>2?[""].concat(Re(n.slice(-2))).join("."):".".concat(t)},Le=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}},Oe=function(e){var t=xe();we.set("uuid",e,{expires:400,path:"/",secure:!0,sameSite:"None",domain:t})},Ne=Le(Oe),Me=function(){var e=we.get("uuid");return e?(Ne(e),e):(e=Te(),Oe(e),e)},De=["pub_300x250","pub_300x250m","pub_728x90","text-ad","textAd","text_ad","text_ads","text-ads","text-ad-links","ad-text","adSense","adBlock","adContent","adBanner"],Fe=function(){var e,t=((e=document.createElement("div")).setAttribute("class",De.join(" ")),e.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),e);window.document.body.appendChild(t);var n=function(e){if(null===e.offsetParent||0===e.offsetHeight||0===e.offsetLeft||0===e.offsetTop||0===e.offsetWidth||0===e.clientHeight||0===e.clientWidth)return!0;if(void 0!==window.getComputedStyle){var t=window.getComputedStyle(e,null);if(t&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility")))return!0}return!1}(t);return window.document.body.removeChild(t),n},Be=function(){var e=t(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Fe()){e.next=3;break}return e.abrupt("return",fetch("/static/img/png/adsdkbanner.png").then((function(){return!1})).catch((function(){return!0})));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(7821);function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ue(e){var t=function(e,t){if("object"!=Ve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ve(t)?t:t+""}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ue(r.key),r)}}function We(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ze=n(2412),$e=n.n(ze),Ge=function(){function e(t){He(this,e),this.name=t}return We(e,[{key:"read",value:function(){return we.get(this.name)}},{key:"write",value:function(e,t){var n=xe();we.set(this.name,e,{expires:t,sameSite:"None",secure:!0,domain:n})}}]),e}(),Ke=function(){function e(t){He(this,e),this.name=t}return We(e,[{key:"safeGet",value:function(){try{return localStorage.getItem(this.name)}catch(e){return null}}},{key:"read",value:function(){var t=e.parseValue(this.safeGet());if(null!=t){var n=$e()(t.expires);if(!(!n.isValid()||n.isBefore(new Date)))return t.value}}},{key:"write",value:function(t,n){he(this.name,e.stringifyValue({value:t,expires:n.toISOString()}))}},{key:"getExpires",value:function(){var t;return null===(t=e.parseValue(this.safeGet()))||void 0===t?void 0:t.expires}}],[{key:"parseValue",value:function(e){if(null==e)return null;try{var t=JSON.parse(e);return null!=t&&"string"==typeof t.value&&"string"==typeof t.expires?{value:t.value,expires:t.expires}:null}catch(e){return null}}},{key:"stringifyValue",value:function(e){return JSON.stringify(e)}}]),e}(),qe=function(e,t){var n=function(e){return"".concat(e,"_").concat(Date.now())}(e);return t(n),n},Ye="session_id",Qe=function(e,t){var n=[new Ge(Ye),new Ke(Ye)],r=n.map((function(e){return e.read()})).find((function(e){return e})),i=null!=r?r:qe(e,t),a=function(e){return $e()().add(e,"second").toDate()}(1800);return n.forEach((function(e){e.write(i,a)})),i},Ze="cid",Xe=/^\d{20}$/,Je=function(){var e="undefined"!=typeof document&&document.cookie||"",t=e.split("; ").filter((function(e){return e.trim().startsWith("".concat(Ze,"="))})).map((function(e){return e.split("=")[1]})).filter((function(e){return Xe.test(e)}));if(t.length){var n=xe(),r=n.substring(1);if(we.remove(Ze),we.remove(Ze,{domain:r}),t.length>1){var i=function(e){return e.reduce((function(e,t){var n=Number(e.substring(e.length-10));return Number(t.substring(t.length-10))<n?t:e}))}(t);we.set(Ze,i,{expires:400,sameSite:"None",secure:!0,domain:n})}}},et="cid",tt=function(){function e(t){He(this,e),this.name=t}return We(e,[{key:"read",value:function(){return we.get(this.name)}},{key:"write",value:function(e){var t=xe();we.set(this.name,e,{expires:400,sameSite:"None",secure:!0,domain:t})}}]),e}(),nt=function(){function e(t){He(this,e),this.name=t}return We(e,[{key:"read",value:function(){var e;return null!==(e=de(this.name))&&void 0!==e?e:void 0}},{key:"write",value:function(e){he(this.name,e)}}]),e}(),rt=function(e){var t=[Math.trunc(Math.random()*Math.pow(10,10)),Math.trunc(Date.now()/1e3)].join("");return"function"==typeof e&&e(t),t},it=Le((function(e){var t=xe();we.set(et,e,{expires:400,sameSite:"None",secure:!0,domain:t})})),at=function(){var e=function(e){Je();var t=new tt(et),n=new nt(et),r=t.read(),i=n.read();if(!r&&!i){var a=rt(e);return n.write(a),t.write(a),a}return r&&i&&r!==i?(n.write(r),r):i&&!r?(t.write(i),i):r&&!i?(n.write(r),r):r}();return it(e),e};function ot(e,t,n){return(t=Ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=n(8717);var lt=n(3509);n(4175),n(5343),n(299),n(8578),n(9857),n(9972);const ut=st.createElement("div",null,"Назад на 10 секунд",st.createElement("span",null,"←"),st.createElement("span",null,"J")),ct=st.createElement("div",null,"Воспроизвести",st.createElement("span",null,"Пробел"),st.createElement("span",null,"K")),dt=st.createElement("div",null,"Пауза",st.createElement("span",null,"Пробел"),st.createElement("span",null,"K")),ht=st.createElement("div",null,"Стоп",st.createElement("span",null,"Пробел"),st.createElement("span",null,"K")),pt=st.createElement("div",null,"Смотреть ещё раз",st.createElement("span",null,"Пробел"),st.createElement("span",null,"K")),vt=st.createElement("div",null,"Слушать ещё раз",st.createElement("span",null,"Пробел"),st.createElement("span",null,"K")),mt=st.createElement("div",null,"Вперёд на 10 секунд",st.createElement("span",null,"→"),st.createElement("span",null,"L")),ft=st.createElement("div",null,"Предыдущее видео",st.createElement("span",null,"Shift + P")),_t=st.createElement("div",null,"Следующее видео",st.createElement("span",null,"Shift + N")),gt=st.createElement("div",null,"Включить звук",st.createElement("span",null,"M")),yt=st.createElement("div",null,"Выключить звук",st.createElement("span",null,"M")),bt=st.createElement("div",null,"Настройки"),Et=st.createElement("div",null,"Широкий экран",st.createElement("span",null,"T")),wt=st.createElement("div",null,"Вернуться в обычный режим",st.createElement("span",null,"T")),St=st.createElement("div",null,"Во весь экран",st.createElement("span",null,"F")),Ct=st.createElement("div",null,"Выйти из полноэкранного режима",st.createElement("span",null,"Esc"),st.createElement("span",null,"F")),kt={PrevSeek:ut,Play:ct,Pause:dt,Stop:ht,Repeat:pt,RepeatAudio:vt,NextSeek:mt,PrevVideo:ft,NextVideo:_t,VolumeOn:gt,VolumeOff:yt,Settings:bt,CinemaOn:Et,CinemaOff:wt,CaptionsOn:st.createElement("div",null,"Включить субтитры",st.createElement("span",null,"C")),CaptionsOff:st.createElement("div",null,"Выключить субтитры",st.createElement("span",null,"C")),FullScreenOn:St,FullScreenOff:Ct,WatchOnRUTUBE:st.createElement("div",null,"Смотреть на RUTUBE"),MiniPlayer:st.createElement("div",null,"В мини-плеере ",st.createElement("span",null,"i")),MiniPlayerClose:st.createElement("div",null,"Закрыть мини-плеер ",st.createElement("span",null,"Esc")),MiniPlayerReturn:st.createElement("div",null,"Вернуться в обычный режим ",st.createElement("span",null,"i")),ControlsTooltipZIndex:30};let At=function(e){return e.ENTER_FULLSCREEN="statfullscreen",e.EXIT_FULL_SCREEN="statexitFullscreen",e.SEEK="statrewind",e.PAUSE="statpause",e.RESUME="statresume",e.LOAD="statload",e.EMBED_LOAD="statembedload",e.START="statstart",e.STAT="statevent",e.FIRST_QUARTILE="statfirstQuartile",e.MIDDLE="statmiddle",e.THIRD_QUARTILE="statthirdQuartile",e.END="statend",e.HEARTBEAT="heartbeat",e.WATCHTIME="watchtime",e.AD_START_BUILT_IN="adstartbuiltin",e.AD_END_BUILT_IN="adendbuiltin",e.SHOW_ENDSCREEN="showendscreen",e.CLICK_ENDSCREEN="clickendscreen",e.CLICK_ENDSCREEN_ACTION="clickendscreenAction",e.CANCEL_ENDSCREEN="cancelendscreen",e.FIRST_PLAY_BUTTON="firstplaybutton",e.EMBED_SUBSCRIBE_CLICK="subscrib_click",e.EMBED_AUTHOR_CLICK="author_embd_click",e.LONG_PRESS="statxrewind",e.WATCH_ON_RUTUBE_VIEW="watch_rutube_view",e.WATCH_ON_RUTUBE_CLICK="watch_rutube_click",e.PIP_ENTER_CLICK="MP_button_click",e.PIP_EXIT_CLICK="MP_close",e.PIP_BACK_SHOW="MP_back_button_show",e.PIP_BACK_CLICK="MP_back_button_click",e.AD_OFF_BUTTON_SHOW="ad_off_show",e.AD_OFF_BUTTON_CLICK="ad_off_click",e.CREDS_SKIP_SHOW="skip_credits_show",e.CREDS_SKIP_CLICK="skip_credits_click",e.CREDS_WATCH_SHOW="watch_credits_show",e.CREDS_WATCH_CLICK="watch_credits_click",e.INTRO_SKIP_SHOW="skip_intro_show",e.INTRO_SKIP_CLICK="skip_intro_click",e.INTRO_WATCH_SHOW="watch_intro_show",e.INTRO_WATCH_CLICK="watch_intro_click",e.VIDEO_LOAD="video_load",e.VIDEO_HEARTBEAT="video_heartbeat",e.PLAYBACK_START="playback_start",e.STATSEEK="statseek",e.VIDEO_START="video_start",e.VIDEO_COMPLETE="video_complete",e.PLAYBACK_TO_CAPTIONS="playback_to_captions",e}({}),Pt=function(e){return e.SCREEN_MODE="screen_mode",e.LOAD_AFTER_AD="player_load_after_ad",e.REWIND="rewind_mode",e.REWIND_MODE_RUTS="statrewind",e.PAUSE="play_pause",e.QUALITY="playback_quality",e.SPEED="playback_speed",e.END_SCREEN="end_screen_rec",e.PAUSE_SCREEN="pause_screen",e.EMBED_SUBSCRIBE="subscribe_player",e.NEXT_VIDEO="next_video",e.AD_VIEW="ad_view",e.AD_REQUEST="ad_request",e.FROM_BEGINNINIG="from_beginning",e.AD_CLICK="ad_click",e.CLICK_EVENT="rutube_button",e.HB_INTERVALS="hb_intervals_stat",e.UNLOAD="statstop_close",e.AUTHOR_CLICK="author_click",e.AUTHOR_TITLE_CLICK="author_nm_click",e.SHOW_MORE="show_more",e.PLAYER_30_SEC="statevent",e.SOUND_ON="sound_on",e.SOUND_OFF="sound_off",e.VOLUME_SET="sound_set",e.UNMUTE_VIEW="unmute_view",e.UNMUTE_CLICK="unmute_click",e.ADVERT_STAT_BLOCK_START="ad_block_start",e.ADVERT_STAT_BLOCK_START_PREROLL="ad_preroll_block_start",e.ADVERT_STAT_BLOCK_START_MIDROLL="ad_midroll_block_start",e.ADVERT_STAT_BLOCK_START_POSTROLL="ad_postroll_block_start",e.ADVERT_STAT_BLOCK_END="ad_block_end",e.ADVERT_STAT_BLOCK_END_PREROLL="ad_preroll_block_end",e.ADVERT_STAT_BLOCK_END_MIDROLL="ad_midroll_block_end",e.ADVERT_STAT_BLOCK_END_POSTROLL="ad_postroll_block_end",e.EXTENDED_PLAYER_MENU="extended_player_menu",e.PREV_VIDEO="previous_video",e.SHARE="share_video",e.PLAYBACK_AUTOPLAY="playback_autoplay",e.SUBTITLES="subtitles",e.RECOMMENDATIONS_PAUSE_SCREEN_SHOW="pause_recomendation",e.RECOMMENDATIONS_PAUSE_SCREEN_CLICK="pause_recomendation_click",e.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_SHOW="endscreen_nextvideo",e.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_CLICK="endscreen_nextvideo_click",e.RECOMMENDATIONS_END_SCREEN_RECS_SHOW="endscreen_recomendation",e.RECOMMENDATIONS_END_SCREEN_RECS_CLICK="endscreen_recomendation_click",e.RECOMMENDATIONS_SEASONS_BUTTON_SHOW="episod_choice_view",e.RECOMMENDATIONS_SEASONS_OPEN="episod_choice_open",e.RECOMMENDATIONS_SEASONS_EPISODE_CLICK="episod_choice_click",e.RECOMMENDATIONS_BUTTON_SHOW="button_recomendation_show",e.RECOMMENDATIONS_BUTTON_CLICK="button_recomendation_click",e.INTERACTIVE_BUTTON="new_frag",e.MORE_MENU_COPY_LINK_VIDEO="esch_copylink_video_click",e.MORE_MENU_COPY_LINK_AT_TIME="esch_copylink_click",e.MORE_MENU_COPY_TAG="esch_copytag_click",e.MORE_MENU_REPLAY="esch_replay_click",e.MORE_MENU_REPORT_ERROR="esch_reperr_click",e.MORE_MENU_COPY_INFO="esch_copyinfo_click",e.MORE_MENU_REPORT_VIDEO="esch_reperrvid_click",e.MORE_MENU_HOTKEY_MANUAL="esch_hotkeys_manual",e.MORE_MENU_REPLAY_VIDEO_ON="esch_replay_video_on",e.MORE_MENU_REPLAY_VIDEO_OFF="esch_replay_video_off",e.WATCH_ON_RUTUBE="watch_on_rutube",e.CHAPTER_BUTTON_SHOW="episod_button_show",e.CHAPTER_BUTTON_CLICK="episod_button_click",e.CHAPTER_MENU_CLICK="episod_menu_click",e.CHAPTER_DESC_CLICK="episod_desc_click",e.WATCH_FROM_START_SHOW="from_beginning_show",e.WATCH_FROM_START_CLICK="from_beginning_click",e.CBANNER_SHOW="cbanner_show",e.CBANNER_CLICK="cbanner_click",e.CBANNER_CLOSE="cbanner_close",e.SUBSCRIBE_CLICK="subscribe_click",e.UNSUBSCRIBE_CLICK="unsubscribe_click",e.SUBSCRIBE_SHOW="subscribe_show",e.SUBSCRIBE_NOTIFY_ON="sub_notify_on",e.SUBSCRIBE_NOTIFY_OFF="sub_notify_off",e.PLAYER_ZOOM="player_zoom",e}({}),It=function(e){return e.SITE_LOGO="rutube",e.CHANNEL_LOGO="channel",e.VIDEO_TITLE="video",e}({});const Tt=["*.contra.gr","blog.rutube.ru","contra.gr","matchtv.ru","rufilmtv.org"],Rt=(e,t,n)=>{const r={},i=new URL(e).searchParams.entries();let a=!n;for(const e of i)if(n&&e[0]===n&&(a=!0),a)if(t)try{r[e[0]]=decodeURIComponent(e[1])}catch(e){console.error(e)}else r[e[0]]=e[1];return r},xt=e=>{const t=new URLSearchParams;return Object.keys(e).forEach((n=>{void 0!==e[n]&&t.append(n,e[n].toString())})),t},Lt=()=>{const{pathname:e}=window.location,t=e.split("/").filter(Boolean);if(e.indexOf("embed")>=0)return t[t.length-1]},Ot="stub-embed-module__wrapper___mv5SP",Nt="stub-embed-module__icon___dAqMD",Mt=e=>{let{backgroundImage:t,handleStubPlay:n}=e;return t?st.createElement("div",{className:Ot,style:{backgroundImage:`url(${t})`},onClick:n},st.createElement("div",{className:Nt})):null};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Bt="dark2021",Ht="white2021",Vt="white2022",Ut="auto",jt={[Bt]:{base:"#000000",base20:"rgba(0, 0, 0, 0.2)",base50:"rgba(0, 0, 0, 0.5)",primaryold:"#242D36",primary:"#14191F",secondary1002:"#1C232B",secondary1001:"#000000",secondary1000:"#1C232B",secondary900:"#1C232B",secondary802:"#29333D",secondary801:"#212932",secondary800:"#212932",secondary702:"#3D4A58",secondary701:"#29333D",secondary700:"#29333D",secondary604:"#212932",secondary603:"#5A6877",secondary602:"#29333D",secondary601:"#3D4A58",secondary600:"#3D4A58",secondary501:"#889BAF",secondary500:"#5A6877",secondary400:"#889BAF",secondary302:"#BFC9D4",secondary301:"#A7B4C4",secondary300:"#A7B4C4",secondary201:"#E1E5EA",secondary200:"#BFC9D4",secondary101:"#EAEDF1",secondary100:"#E1E5EA",secondary51:"#EAEDF1",secondary50:"#E1E5EA",secondary49:"#FFFFFF",secondary3:"#FFFFFF",secondary2:"#F6F6F6",secondary1:"#FFFFFF",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.4deg, #222B34 0.11%, #1E262E 100%)",accent:"#00A1E7",accent400:"#E15554",accent700:"#be4847",liveMark:"#F41240",hover:"#203753",accentHover:"#1EABE9",accentPressed:"#0096D8",lightCoral:"#27323F",lightCoralHover:"#203753",lightCoralPressed:"#203753",text:"#FFFFFF",textHover:"#00A1E7",textActive:"#0096D8",error:"#E15554",buttonPrimary:"#00A1E7",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#1EABE9",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#0096D8",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#E1E5EA",buttonSecondaryText:"#1C232B",buttonSecondaryHover:"#BFC9D4",buttonSecondaryHoverText:"#1C232B",buttonSecondaryPressed:"#FFFFFF",buttonSecondaryPressedText:"#1C232B",buttonDisabled:"#29333D",buttonDisabledText:"#5A6877",birdColor1:"#FFFFFF",birdColor2:"#889BAF",birdColor3:"#1C232B",birdColor4:"#1C232B",birdColorNew1:"#FFFFFF",birdColorNew2:"#889BAF",birdColorNew3:"#242D36",birdColorNew4:"#242D36",linkPrimary:"#E1E5EA",linkPrimaryHover:"#FFFFFF",menuText:"#FFFFFF",menuBg:"#1C232B",menuPromoBg:"#29333D",menuSecondaryBg:"#202530",menuBorderLight:"#3D4A58",menuBorderDark:"#29333D",menuIconsBg:"#3D4A58",menuLinkPrimary:"#FF645F",menuVideoLink:"#E1E5EA",menuMobileBgColor:"rgba(28, 35, 43, 0.8)",kidsBannerBg:"#3E3C70",kidsBannerTitle:"#fff",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.7) 100%)",popupOverlayBg:"rgba(0, 0, 0, 0.7)",popupShadow:"rgba(0, 0, 0, 0.25)",popupBg:"#29333D",invert:0,iconbg:"#29333D",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",controlBorderAccent:"#C6E3FF",raiAudioControlPrimary:"#FFF",raiAudioProgressBg:"#1EABE9",raiAudioProgressColor:"#14191F",chipsBg:"rgba(255, 255, 255, 0.05)",shade5:"rgba(255, 255, 255, 0.05)",shade10:"rgba(255, 255, 255, 0.1)",shade15:"rgba(255, 255, 255, 0.15)"},[Ht]:{base:"#FFFFFF",base20:"rgba(255, 255, 255, 0.2)",base50:"rgba(255, 255, 255, 0.5)",primaryold:"#F6F6F6",primary:"#F6F6F6",secondary1002:"#FFFFFF",secondary1001:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#E1E5EA",secondary802:"#E1E5EA",secondary801:"#FFFFFF",secondary800:"#E1E5EA",secondary702:"#BFC9D4",secondary701:"#FFFFFF",secondary700:"#BFC9D4",secondary604:"#EAEDF1",secondary603:"#A7B4C4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#A7B4C4",secondary501:"#889BAF",secondary500:"#889BAF",secondary400:"#5A6877",secondary302:"#3D4A58",secondary301:"#5A6877",secondary300:"#3D4A58",secondary201:"#29333D",secondary200:"#29333D",secondary101:"#212932",secondary100:"#212932",secondary51:"#212932",secondary50:"#1C232B",secondary49:"#1C232B",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#29333D",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#FF645F",accent400:"#E15554",accent700:"#be4847",accentHover:"#FF7773",accentPressed:"#E75550",lightCoral:"#FFEEEE",lightCoralHover:"#FFF5F5",lightCoralPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#FF645F",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#FF7773",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#E75550",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#29333D",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#3D4A58",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#1C232B",buttonSecondaryPressedText:"#FFFFFF",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",birdColorNew1:"#242D36",birdColorNew2:"#A7B4C4",birdColorNew3:"#1C232B",birdColorNew4:"#EAEDF1",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#F6F6F6",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",kidsBannerBg:"#fff",kidsBannerTitle:"#865DC8",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(90, 104, 119, 0.3)",popupShadow:"rgba(0, 0, 0, 0.05)",popupBg:"#FFFFFF",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",controlBorderAccent:"#C6E3FF",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"},[Vt]:{base:"#FFFFFF",base20:"rgba(255, 255, 255, 0.2)",base50:"rgba(255, 255, 255, 0.5)",primaryold:"#F6F6F6",primary:"#F6F6F6",secondary1002:"#FFFFFF",secondary1001:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#FFFFFF",secondary802:"#E1E5EA",secondary801:"#FFFFFF",secondary800:"#EAEDF1",secondary702:"#BFC9D4",secondary701:"#FFFFFF",secondary700:"#E1E5EA",secondary604:"#EAEDF1",secondary603:"#A7B4C4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#bfc9D4",secondary501:"#889BAF",secondary500:"#A7B4C4",secondary400:"#5A6877",secondary302:"#3D4A58",secondary301:"#5A6877",secondary300:"#5A6877",secondary201:"#3D4A58",secondary200:"#3D4A58",secondary101:"#29333D",secondary100:"#29333D",secondary51:"#212932",secondary50:"#212932",secondary49:"#212932",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#1C232B",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#00A1E7",accent400:"#E15554",accent700:"#be4847",liveMark:"#F41240",hover:"#B3E3F8",accentHover:"#1EABE9",accentPressed:"#0096D8",lightCoral:"#FFEEEE",lightCoralHover:"#FFF5F5",lightCoralPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#00A1E7",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#1EABE9",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#0096D8",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#29333D",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#3D4A58",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#1C232B",buttonSecondaryPressedText:"#FFFFFF",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",birdColorNew1:"#242D36",birdColorNew2:"#A7B4C4",birdColorNew3:"#1C232B",birdColorNew4:"#EAEDF1",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#FFFFFF",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",menuMobileBgColor:"rgba(225,229,234, 0.8)",kidsBannerBg:"#fff",kidsBannerTitle:"#865DC8",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(0, 0, 0, 0.7)",popupShadow:"rgba(0, 0, 0, 0.05)",popupBg:"#FFFFFF",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",raiAudioControlPrimary:"#1C232B",raiAudioProgressBg:"#1EABE9",raiAudioProgressColor:"#F6F6F6",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"},[Ut]:void 0},Wt=jt[Ht],zt="penTheme";function $t(e){return e?e.replace(/([A-Z]+)/g,"-$1").toLowerCase():e}const Gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt;const t={},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt;return Object.keys(e)}(e);for(const i of n){var r;t[`--pen-${$t(i)}`]=`${null!==(r=e[i])&&void 0!==r?r:""}`}return t},Kt=(e,t)=>{const n=(e=>`${$t(zt)}-${e}`)(e);if(document.getElementById(n))return;let r=`[data-${$t(zt)}="${e}"]{`;for(const e of Object.keys(t))r+=`${e}:${t[e]};`;r+="}";const i=document.createElement("style");i.innerText=r,i.id=n,document.head.appendChild(i)},qt=Ht,Yt=jt[qt],Qt=st.createContext({theme:Yt,themeId:Ht,isDeviceTheme:!1,isDeviceThemeSupported:!1}),Zt=e=>{let{children:t,forceThemeId:n=qt}=e;const r=jt[n],i=(0,st.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;const t=Gt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt);Kt(e,t),document.documentElement.dataset[zt]=e}),[]),a=(0,st.useCallback)(((e,t)=>{const n=document.createElement("style");n.innerText="body * { transition: none !important }",document.body.appendChild(n),i(e,t),document.body.scrollHeight,document.body.removeChild(n)}),[i]);(0,st.useEffect)((()=>{a(n,r)}),[a,n,r]);const o=(0,st.useMemo)((()=>({theme:null!=r?r:Yt,themeId:n})),[n,r]);return st.createElement(Qt.Provider,{value:o},t)};function Xt(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==e?Ve(e):"null"));return e}function Jt(e,t,n){"symbol"==Ve(t)&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:n?n+" "+t:t})}catch(e){}return e}function en(e,t,n,r,i,a){var o,s,l,u,c,d,h,p=Symbol.metadata||Symbol.for("Symbol.metadata"),v=Object.defineProperty,m=Object.create,f=[m(null),m(null)],_=t.length;function g(t,n,r){return function(i,a){n&&(a=i,i=e);for(var o=0;o<t.length;o++)a=t[o].apply(i,r?[a]:[]);return r?a:i}}function y(e,t,n,r){if("function"!=typeof e&&(r||void 0!==e))throw new TypeError(t+" must "+(n||"be")+" a function"+(r?"":" or undefined"));return e}function b(e,t,n,r,i,a,l,u,c,d,h){function p(e){if(!h(e))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(t[0]),_=t[3],b=!l,E=1===i,w=3===i,S=4===i,C=2===i;function k(t,n,r){return function(i,a){return n&&(a=i,i=e),r&&r(i),A[t].call(i,a)}}if(!b){var A={},P=[],I=w?"get":S||E?"set":"value";if(c?(d||E?A={get:Jt((function(){return _(this)}),r,"get"),set:function(e){t[4](this,e)}}:A[I]=_,d||Jt(A[I],r,C?"":I)):d||(A=Object.getOwnPropertyDescriptor(e,r)),!d&&!c){if((s=f[+u][r])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+A[I].name+") is not supported yet");f[+u][r]=i<3?1:i}}for(var T=e,R=m.length-1;R>=0;R-=n?2:1){var x=y(m[R],"A decorator","be",!0),L=n?m[R-1]:void 0,O={},N={kind:["field","accessor","method","getter","setter","class"][i],name:r,metadata:o,addInitializer:function(e,t){if(e.v)throw new TypeError("attempted to call addInitializer after decoration was finished");y(t,"An initializer","be",!0),a.push(t)}.bind(null,O)};if(b)s=x.call(L,T,N),O.v=1,y(s,"class decorators","return")&&(T=s);else if(N.static=u,N.private=c,s=N.access={has:c?h.bind():function(e){return r in e}},S||(s.get=c?C?function(e){return p(e),A.value}:k("get",0,p):function(e){return e[r]}),C||w||(s.set=c?k("set",0,p):function(e,t){e[r]=t}),T=x.call(L,E?{get:A.get,set:A.set}:A[I],N),O.v=1,E){if("object"==Ve(T)&&T)(s=y(T.get,"accessor.get"))&&(A.get=s),(s=y(T.set,"accessor.set"))&&(A.set=s),(s=y(T.init,"accessor.init"))&&P.unshift(s);else if(void 0!==T)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else y(T,(d?"field":"method")+" decorators","return")&&(d?P.unshift(T):A[I]=T)}return i<2&&l.push(g(P,u,1),g(a,u,0)),d||b||(c?E?l.splice(-1,0,k("get",u),k("set",u)):l.push(C?A[I]:y.call.bind(A[I])):v(e,r,A)),T}function E(e){return v(e,p,{configurable:!0,enumerable:!0,value:o})}return void 0!==a&&(o=a[p]),o=m(null==o?null:o),c=[],d=function(e){e&&c.push(g(e))},h=function(t,r){for(var a=0;a<n.length;a++){var o=n[a],s=o[1],d=7&s;if((8&s)==t&&!d==r){var h=o[2],p=!!o[3],v=16&s;b(t?e:e.prototype,o,v,p?"#"+h:Ue(h),d,d<2?[]:t?u=u||[]:l=l||[],c,!!t,p,r,t&&p?function(t){return Xt(t)===e}:i)}}},h(8,0),h(0,0),h(8,1),h(0,1),d(l),d(u),s=c,_||E(e),{e:s,get c(){var n=[];return _&&[E(e=b(e,[t],r,e.name,5,n)),g(n,1)]}}}n(9928),n(6530),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(3154);function tn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var nn={};function rn(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:nn}var an=Object.assign,on=Object.getOwnPropertyDescriptor,sn=Object.defineProperty,ln=Object.prototype,un=[];Object.freeze(un);var cn={};Object.freeze(cn);var dn="undefined"!=typeof Proxy,hn=Object.toString();function pn(){dn||tn("Proxy not available")}function vn(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var mn=function(){};function fn(e){return"function"==typeof e}function _n(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function gn(e){return null!==e&&"object"==typeof e}function yn(e){if(!gn(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===hn}function bn(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function En(e,t,n){sn(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function wn(e,t,n){sn(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Sn(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return gn(e)&&!0===e[n]}}function Cn(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function kn(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var An=void 0!==Object.getOwnPropertySymbols;var Pn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:An?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function In(e){return null===e?null:"object"==typeof e?""+e:e}function Tn(e,t){return ln.hasOwnProperty.call(e,t)}var Rn=Object.getOwnPropertyDescriptors||function(e){var t={};return Pn(e).forEach((function(n){t[n]=on(e,n)})),t};function xn(e,t){return!!(e&t)}function Ln(e,t,n){return n?e|=t:e&=~t,e}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vn(r.key),r)}}function Mn(e,t,n){return t&&Nn(e.prototype,t),n&&Nn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return On(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(null,arguments)}function Bn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Hn(e,t)}function Hn(e,t){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hn(e,t)}function Vn(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var Un=Symbol("mobx-stored-annotations");function jn(e){return Object.assign((function(t,n){if(zn(n))return e.decorate_20223_(t,n);Wn(t,n,e)}),e)}function Wn(e,t,n){Tn(e,Un)||En(e,Un,Fn({},e[Un])),function(e){return e.annotationType_===Xn}(n)||(e[Un][t]=n)}function zn(e){return"object"==typeof e&&"string"==typeof e.kind}var $n=Symbol("mobx administration"),Gn=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Xr.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return wi(this)},t.reportChanged=function(){bi(),Si(this),Ei()},t.toString=function(){return this.name_},Mn(e,[{key:"isBeingObserved",get:function(){return xn(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return xn(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return xn(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Ln(this.flags_,e.diffValueMask_,1===t)}}])}();Gn.isBeingObservedMask_=1,Gn.isPendingUnobservationMask_=2,Gn.diffValueMask_=4;var Kn=Sn("Atom",Gn);function qn(e,t,n){void 0===t&&(t=mn),void 0===n&&(n=mn);var r,i=new Gn(e);return t!==mn&&Yi(Gi,i,t,r),n!==mn&&qi(i,n),i}var Yn={identity:function(e,t){return e===t},structural:function(e,t){return go(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return go(e,t,1)}};function Qn(e,t,n){return ua(e)?e:Array.isArray(e)?Mr.array(e,{name:n}):yn(e)?Mr.object(e,void 0,{name:n}):Cn(e)?Mr.map(e,{name:n}):kn(e)?Mr.set(e,{name:n}):"function"!=typeof e||Ui(e)||sa(e)?e:bn(e)?aa(e):Hi(n,e)}function Zn(e){return e}var Xn="override",Jn=jn({annotationType_:Xn,make_:function(e,t){0;0;return 0},extend_:function(e,t,n,r){tn("'"+this.annotationType_+"' can only be used with 'makeObservable'")},decorate_20223_:function(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}});function er(e,t){return{annotationType_:e,options_:t,make_:tr,extend_:nr,decorate_20223_:rr}}function tr(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Ui(n.value))return 1;var a=ir(e,this,t,n,!1);return sn(r,t,a),2}function nr(e,t,n,r){var i=ir(e,this,t,n);return e.defineProperty_(t,i,r)}function rr(e,t){var n,r=t.kind,i=t.name,a=t.addInitializer,o=this,s=function(e){var t,n,r,a;return zr(null!=(t=null==(n=o.options_)?void 0:n.name)?t:i.toString(),e,null!=(r=null==(a=o.options_)?void 0:a.autoAction)&&r)};return"field"==r?function(e){var t,n=e;return Ui(n)||(n=s(n)),null!=(t=o.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==r?(Ui(e)||(e=s(e)),null!=(n=this.options_)&&n.bound&&a((function(){var e=this,t=e[i].bind(e);t.isMobxAction=!0,e[i]=t})),e):void tn("Cannot apply '"+o.annotationType_+"' to '"+String(i)+"' (kind: "+r+"):\n'"+o.annotationType_+"' can only be used on properties with a function value.")}function ir(e,t,n,r,i){var a,o,s,l,u,c,d;void 0===i&&(i=fi.safeDescriptors),function(e,t,n,r){t.annotationType_,r.value}(0,t,0,r);var h,p=r.value;null!=(a=t.options_)&&a.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_));return{value:zr(null!=(o=null==(s=t.options_)?void 0:s.name)?o:n.toString(),p,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function ar(e,t){return{annotationType_:e,options_:t,make_:or,extend_:sr,decorate_20223_:lr}}function or(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!Tn(e.target_,t)||!sa(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(sa(n.value))return 1;var a=ur(e,this,t,n,!1,!1);return sn(r,t,a),2}function sr(e,t,n,r){var i,a=ur(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,a,r)}function lr(e,t){var n;var r=t.name,i=t.addInitializer;return sa(e)||(e=aa(e)),null!=(n=this.options_)&&n.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t})),e}function ur(e,t,n,r,i,a){void 0===a&&(a=fi.safeDescriptors),function(e,t,n,r){t.annotationType_,r.value}(0,t,0,r);var o,s=r.value;(sa(s)||(s=aa(s)),i)&&((s=s.bind(null!=(o=e.proxy_)?o:e.target_)).isMobXFlow=!0);return{value:s,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function cr(e,t){return{annotationType_:e,options_:t,make_:dr,extend_:hr,decorate_20223_:pr}}function dr(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function hr(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,Fn({},this.options_,{get:n.get,set:n.set}),r)}function pr(e,t){var n=this,r=t.name;return(0,t.addInitializer)((function(){var t=qa(this)[$n],i=Fn({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new Zr(i))})),function(){return this[$n].getObservablePropValue_(r)}}function vr(e,t){return{annotationType_:e,options_:t,make_:mr,extend_:fr,decorate_20223_:_r}}function mr(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function fr(e,t,n,r){var i,a;return function(e,t){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(a=this.options_)?void 0:a.enhancer)?i:Qn,r)}function _r(e,t){var n=this,r=t.kind,i=t.name,a=new WeakSet;function o(e,t){var r,o,s=qa(e)[$n],l=new Yr(t,null!=(r=null==(o=n.options_)?void 0:o.enhancer)?r:Qn,"ObservableObject."+i.toString(),!1);s.values_.set(i,l),a.add(e)}if("accessor"==r)return{get:function(){return a.has(this)||o(this,e.get.call(this)),this[$n].getObservablePropValue_(i)},set:function(e){return a.has(this)||o(this,e),this[$n].setObservablePropValue_(i,e)},init:function(e){return a.has(this)||o(this,e),e}}}var gr="true",yr=br();function br(e){return{annotationType_:gr,options_:e,make_:Er,extend_:wr,decorate_20223_:Sr}}function Er(e,t,n,r){var i,a,o,s;if(n.get)return Hr.make_(e,t,n,r);if(n.set){var l=zr(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!fi.safeDescriptors||e.isPlainObject_,set:l})?0:2:(sn(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return bn(n.value)?(null!=(s=this.options_)&&s.autoBind?aa.bound:aa).make_(e,t,n,r):(null!=(o=this.options_)&&o.autoBind?Hi.bound:Hi).make_(e,t,n,r);var u,c=!1===(null==(i=this.options_)?void 0:i.deep)?Mr.ref:Mr;"function"==typeof n.value&&null!=(a=this.options_)&&a.autoBind&&(n.value=n.value.bind(null!=(u=e.proxy_)?u:e.target_));return c.make_(e,t,n,r)}function wr(e,t,n,r){var i,a,o;if(n.get)return Hr.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!fi.safeDescriptors||e.isPlainObject_,set:zr(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_));return(!1===(null==(a=this.options_)?void 0:a.deep)?Mr.ref:Mr).extend_(e,t,n,r)}function Sr(e,t){tn("'"+this.annotationType_+"' cannot be used as a decorator")}var Cr={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function kr(e){return e||Cr}Object.freeze(Cr);var Ar=vr("observable"),Pr=vr("observable.ref",{enhancer:Zn}),Ir=vr("observable.shallow",{enhancer:function(e,t,n){return null==e||Xa(e)||Da(e)||Ua(e)||za(e)?e:Array.isArray(e)?Mr.array(e,{name:n,deep:!1}):yn(e)?Mr.object(e,void 0,{name:n,deep:!1}):Cn(e)?Mr.map(e,{name:n,deep:!1}):kn(e)?Mr.set(e,{name:n,deep:!1}):void 0}}),Tr=vr("observable.struct",{enhancer:function(e,t){return go(e,t)?t:e}}),Rr=jn(Ar);function xr(e){return!0===e.deep?Qn:!1===e.deep?Zn:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:Qn;var t,n,r}function Lr(e,t,n){return zn(t)?Ar.decorate_20223_(e,t):_n(t)?void Wn(e,t,Ar):ua(e)?e:yn(e)?Mr.object(e,t,n):Array.isArray(e)?Mr.array(e,t):Cn(e)?Mr.map(e,t):kn(e)?Mr.set(e,t):"object"==typeof e&&null!==e?e:Mr.box(e,t)}an(Lr,Rr);var Or,Nr,Mr=an(Lr,{box:function(e,t){var n=kr(t);return new Yr(e,xr(n),n.name,!0,n.equals)},array:function(e,t){var n=kr(t);return(!1===fi.useProxies||!1===n.proxy?ho:Ta)(e,xr(n),n.name)},map:function(e,t){var n=kr(t);return new Va(e,xr(n),n.name)},set:function(e,t){var n=kr(t);return new Wa(e,xr(n),n.name)},object:function(e,t,n){return fo((function(){return Xi(!1===fi.useProxies||!1===(null==n?void 0:n.proxy)?qa({},n):function(e,t){var n,r;return pn(),e=qa(e,t),null!=(r=(n=e[$n]).proxy_)?r:n.proxy_=new Proxy(e,_a)}({},n),e,t)}))},ref:jn(Pr),shallow:jn(Ir),deep:Rr,struct:jn(Tr)}),Dr="computed",Fr=cr(Dr),Br=cr("computed.struct",{equals:Yn.structural}),Hr=function(e,t){if(zn(t))return Fr.decorate_20223_(e,t);if(_n(t))return Wn(e,t,Fr);if(yn(e))return jn(cr(Dr,e));var n=yn(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Zr(n)};Object.assign(Hr,Fr),Hr.struct=jn(Br);var Vr=0,Ur=1,jr=null!=(Or=null==(Nr=on((function(){}),"name"))?void 0:Nr.configurable)&&Or,Wr={value:"action",configurable:!0,writable:!1,enumerable:!1};function zr(e,t,n,r){function i(){return $r(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},jr&&(Wr.value=e,sn(i,"name",Wr)),i}function $r(e,t,n,r,i){var a=function(e,t){var n=!1,r=0;0;var i=fi.trackingDerivation,a=!t||!i;bi();var o=fi.allowStateChanges;a&&(li(),o=Kr(!0));var s=ci(!0),l={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:o,prevAllowStateReads_:s,notifySpy_:n,startTime_:r,actionId_:Ur++,parentActionId_:Vr};return Vr=l.actionId_,l}(0,t);try{return n.apply(r,i)}catch(e){throw a.error_=e,e}finally{!function(e){Vr!==e.actionId_&&tn(30);Vr=e.parentActionId_,void 0!==e.error_&&(fi.suppressReactionErrors=!0);qr(e.prevAllowStateChanges_),di(e.prevAllowStateReads_),Ei(),e.runAsAction_&&ui(e.prevDerivation_);0;fi.suppressReactionErrors=!1}(a)}}function Gr(e,t){var n=Kr(e);try{return t()}finally{qr(n)}}function Kr(e){var t=fi.allowStateChanges;return fi.allowStateChanges=e,t}function qr(e){fi.allowStateChanges=e}var Yr=function(e){function t(t,n,r,i,a){var o;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=Yn.default),(o=e.call(this,r)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=r,o.equals=a,o.value_=n(t,void 0,r),o}Bn(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==fi.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(ii(this),ga(this)){var t=ba(this,{object:this,type:Aa,newValue:e});if(!t)return fi.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?fi.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Ea(this)&&Sa(this,{type:Aa,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return ya(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Aa,newValue:this.value_,oldValue:void 0}),wa(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return In(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Gn),Qr=Sn("ObservableValue",Yr),Zr=function(){function e(e){this.dependenciesState_=Xr.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Xr.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new ti(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Jr.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||tn(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=zr("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?Yn.structural:Yn.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==Xr.UP_TO_DATE_)return;e.lowestObserverState_=Xr.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Xr.UP_TO_DATE_&&(e.dependenciesState_=Xr.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing&&tn(32,this.name_,this.derivation),0!==fi.inBatch||0!==this.observers_.size||this.keepAlive_){if(wi(this),ri(this)){var e=fi.trackingContext;this.keepAlive_&&!e&&(fi.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===Xr.STALE_)return;e.lowestObserverState_=Xr.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===Xr.POSSIBLY_STALE_?t.dependenciesState_=Xr.STALE_:t.dependenciesState_===Xr.UP_TO_DATE_&&(e.lowestObserverState_=Xr.UP_TO_DATE_)}))}(this),fi.trackingContext=e}}else ri(this)&&(this.warnAboutUntrackedRead_(),bi(),this.value_=this.computeValue_(!1),Ei());var t=this.value_;if(ni(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&tn(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else tn(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===Xr.NOT_TRACKING_,n=this.computeValue_(!0),r=t||ni(e)||ni(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing=!0;var t,n=Kr(!1);if(e)t=ai(this,this.derivation,this.scope_);else if(!0===fi.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new ti(e)}return qr(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(oi(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return ji((function(){var a=n.get();if(!r||t){var o=li();e({observableKind:"computed",debugObjectName:n.name_,type:Aa,object:n,newValue:a,oldValue:i}),ui(o)}r=!1,i=a}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return In(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Mn(e,[{key:"isComputing",get:function(){return xn(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return xn(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return xn(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return xn(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return xn(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Ln(this.flags_,e.diffValueMask_,1===t)}}])}();Zr.isComputingMask_=1,Zr.isRunningSetterMask_=2,Zr.isBeingObservedMask_=4,Zr.isPendingUnobservationMask_=8,Zr.diffValueMask_=16;var Xr,Jr,ei=Sn("ComputedValue",Zr);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(Xr||(Xr={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Jr||(Jr={}));var ti=function(e){this.cause=void 0,this.cause=e};function ni(e){return e instanceof ti}function ri(e){switch(e.dependenciesState_){case Xr.UP_TO_DATE_:return!1;case Xr.NOT_TRACKING_:case Xr.STALE_:return!0;case Xr.POSSIBLY_STALE_:for(var t=ci(!0),n=li(),r=e.observing_,i=r.length,a=0;a<i;a++){var o=r[a];if(ei(o)){if(fi.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return ui(n),di(t),!0}if(e.dependenciesState_===Xr.STALE_)return ui(n),di(t),!0}}return hi(e),ui(n),di(t),!1}}function ii(e){}function ai(e,t,n){var r=ci(!0);hi(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++fi.runId;var i,a=fi.trackingDerivation;if(fi.trackingDerivation=e,fi.inBatch++,!0===fi.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new ti(e)}return fi.inBatch--,fi.trackingDerivation=a,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Xr.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,o=0;o<a;o++){var s=n[o];0===s.diffValue&&(s.diffValue=1,i!==o&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,a=t.length;for(;a--;){var l=t[a];0===l.diffValue&&gi(l,e),l.diffValue=0}for(;i--;){var u=n[i];1===u.diffValue&&(u.diffValue=0,_i(u,e))}r!==Xr.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),di(r),i}function oi(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)gi(t[n],e);e.dependenciesState_=Xr.NOT_TRACKING_}function si(e){var t=li();try{return e()}finally{ui(t)}}function li(){var e=fi.trackingDerivation;return fi.trackingDerivation=null,e}function ui(e){fi.trackingDerivation=e}function ci(e){var t=fi.allowStateReads;return fi.allowStateReads=e,t}function di(e){fi.allowStateReads=e}function hi(e){if(e.dependenciesState_!==Xr.UP_TO_DATE_){e.dependenciesState_=Xr.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Xr.UP_TO_DATE_}}var pi=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},vi=!0,mi=!1,fi=function(){var e=rn();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(vi=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new pi).version&&(vi=!1),vi?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new pi):(setTimeout((function(){mi||tn(35)}),1),new pi)}();function _i(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function gi(e,t){e.observers_.delete(t),0===e.observers_.size&&yi(e)}function yi(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,fi.pendingUnobservations.push(e))}function bi(){fi.inBatch++}function Ei(){if(0==--fi.inBatch){Pi();for(var e=fi.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Zr&&n.suspend_())}fi.pendingUnobservations=[]}}function wi(e){var t=fi.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&fi.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&fi.inBatch>0&&yi(e),!1)}function Si(e){e.lowestObserverState_!==Xr.STALE_&&(e.lowestObserverState_=Xr.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Xr.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Xr.STALE_})))}var Ci=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Xr.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Jr.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,fi.pendingReactions.push(this),Pi())},t.runReaction_=function(){if(!this.isDisposed){bi(),this.isScheduled=!1;var e=fi.trackingContext;if(fi.trackingContext=this,ri(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}fi.trackingContext=e,Ei()}},t.track=function(e){if(!this.isDisposed){bi();0,this.isRunning=!0;var t=fi.trackingContext;fi.trackingContext=this;var n=ai(this,e,void 0);fi.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&oi(this),ni(n)&&this.reportExceptionInDerivation_(n.cause),Ei()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(fi.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";fi.suppressReactionErrors||console.error(n,e),fi.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(bi(),oi(this),Ei()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[$n]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},Mn(e,[{key:"isDisposed",get:function(){return xn(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return xn(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return xn(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return xn(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=Ln(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return xn(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=Ln(this.flags_,e.diffValueMask_,1===t)}}])}();Ci.isDisposedMask_=1,Ci.isScheduledMask_=2,Ci.isTrackPendingMask_=4,Ci.isRunningMask_=8,Ci.diffValueMask_=16;var ki=100,Ai=function(e){return e()};function Pi(){fi.inBatch>0||fi.isRunningReactions||Ai(Ii)}function Ii(){fi.isRunningReactions=!0;for(var e=fi.pendingReactions,t=0;e.length>0;){++t===ki&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}fi.isRunningReactions=!1}var Ti=Sn("Reaction",Ci);var Ri="action",xi="autoAction",Li="<unnamed action>",Oi=er(Ri),Ni=er("action.bound",{bound:!0}),Mi=er(xi,{autoAction:!0}),Di=er("autoAction.bound",{autoAction:!0,bound:!0});function Fi(e){return function(t,n){return fn(t)?zr(t.name||Li,t,e):fn(n)?zr(t,n,e):zn(n)?(e?Mi:Oi).decorate_20223_(t,n):_n(n)?Wn(t,n,e?Mi:Oi):_n(t)?jn(er(e?xi:Ri,{name:t,autoAction:e})):void 0}}var Bi=Fi(!1);Object.assign(Bi,Oi);var Hi=Fi(!0);function Vi(e){return $r(e.name,!1,e,this,void 0)}function Ui(e){return fn(e)&&!0===e.isMobxAction}function ji(e,t){var n,r,i,a;void 0===t&&(t=cn);var o,s=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)o=new Ci(s,(function(){this.track(c)}),t.onError,t.requiresObservable);else{var l=zi(t),u=!1;o=new Ci(s,(function(){u||(u=!0,l((function(){u=!1,o.isDisposed||o.track(c)})))}),t.onError,t.requiresObservable)}function c(){e(o)}return null!=(i=t)&&null!=(i=i.signal)&&i.aborted||o.schedule_(),o.getDisposer_(null==(a=t)?void 0:a.signal)}Object.assign(Hi,Mi),Bi.bound=jn(Ni),Hi.bound=jn(Di);var Wi=function(e){return e()};function zi(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Wi}function $i(e,t,n){var r,i,a;void 0===n&&(n=cn);var o,s,l,u=null!=(r=n.name)?r:"Reaction",c=Bi(u,n.onError?(o=n.onError,s=t,function(){try{return s.apply(this,arguments)}catch(e){o.call(this,e)}}):t),d=!n.scheduler&&!n.delay,h=zi(n),p=!0,v=!1,m=n.compareStructural?Yn.structural:n.equals||Yn.default,f=new Ci(u,(function(){p||d?_():v||(v=!0,h(_))}),n.onError,n.requiresObservable);function _(){if(v=!1,!f.isDisposed){var t=!1,r=l;f.track((function(){var n=Gr(!1,(function(){return e(f)}));t=p||!m(l,n),l=n})),(p&&n.fireImmediately||!p&&t)&&c(l,r,f),p=!1}}return null!=(i=n)&&null!=(i=i.signal)&&i.aborted||f.schedule_(),f.getDisposer_(null==(a=n)?void 0:a.signal)}var Gi="onBO",Ki="onBUO";function qi(e,t,n){return Yi(Ki,e,t,n)}function Yi(e,t,n,r){var i="function"==typeof r?po(t,n):po(t),a=fn(r)?r:n,o=e+"L";return i[o]?i[o].add(a):i[o]=new Set([a]),function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}var Qi="always";function Zi(e){!0===e.isolateGlobalState&&function(){if((fi.pendingReactions.length||fi.inBatch||fi.isRunningReactions)&&tn(36),mi=!0,vi){var e=rn();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),fi=new pi}}();var t,n,r=e.useProxies,i=e.enforceActions;if(void 0!==r&&(fi.useProxies=r===Qi||"never"!==r&&"undefined"!=typeof Proxy),"ifavailable"===r&&(fi.verifyProxies=!0),void 0!==i){var a=i===Qi?Qi:"observed"===i;fi.enforceActions=a,fi.allowStateChanges=!0!==a&&a!==Qi}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(fi[t]=!!e[t])})),fi.allowStateReads=!fi.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=Ai,Ai=function(e){return t((function(){return n(e)}))})}function Xi(e,t,n,r){var i=Rn(t);return fo((function(){var t=qa(e,r)[$n];Pn(i).forEach((function(e){t.extend_(e,i[e],!n||(!(e in n)||n[e]))}))})),e}function Ji(e,t){return ea(po(e,t))}function ea(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(ea)),n}var ta=0;function na(){this.message="FLOW_CANCELLED"}na.prototype=Object.create(Error.prototype);var ra=ar("flow"),ia=ar("flow.bound",{bound:!0}),aa=Object.assign((function(e,t){if(zn(t))return ra.decorate_20223_(e,t);if(_n(t))return Wn(e,t,ra);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++ta,a=Bi(r+" - runid: "+i+" - init",n).apply(this,t),o=void 0,s=new Promise((function(t,n){var s=0;function l(e){var t;o=void 0;try{t=Bi(r+" - runid: "+i+" - yield "+s++,a.next).call(a,e)}catch(e){return n(e)}c(t)}function u(e){var t;o=void 0;try{t=Bi(r+" - runid: "+i+" - yield "+s++,a.throw).call(a,e)}catch(e){return n(e)}c(t)}function c(e){if(!fn(null==e?void 0:e.then))return e.done?t(e.value):(o=Promise.resolve(e.value)).then(l,u);e.then(c,n)}e=n,l(void 0)}));return s.cancel=Bi(r+" - runid: "+i+" - cancel",(function(){try{o&&oa(o);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(mn,mn),oa(n),e(new na)}catch(t){e(t)}})),s};return i.isMobXFlow=!0,i}),ra);function oa(e){fn(e.cancel)&&e.cancel()}function sa(e){return!0===(null==e?void 0:e.isMobXFlow)}function la(e,t){return!!e&&(void 0!==t?!!Xa(e)&&e[$n].values_.has(t):Xa(e)||!!e[$n]||Kn(e)||Ti(e)||ei(e))}function ua(e){return la(e)}function ca(e,t,n){return e.set(t,n),n}function da(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!ua(e))return e;if(Qr(e)||ei(e))return da(e.get(),t);if(t.has(e))return t.get(e);if(Da(e)){var n=ca(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=da(e,t)})),n}if(za(e)){var r=ca(t,e,new Set);return e.forEach((function(e){r.add(da(e,t))})),r}if(Ua(e)){var i=ca(t,e,new Map);return e.forEach((function(e,n){i.set(n,da(e,t))})),i}var a=ca(t,e,{});return function(e){if(Xa(e))return e[$n].ownKeys_();tn(38)}(e).forEach((function(n){ln.propertyIsEnumerable.call(e,n)&&(a[n]=da(e[n],t))})),a}function ha(e,t){return da(e,new Map)}function pa(e,t){void 0===t&&(t=void 0),bi();try{return e.apply(t)}finally{Ei()}}function va(e,t,n){return 1===arguments.length||t&&"object"==typeof t?function(e,t){var n,r,i;0;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var a=new Promise((function(n,a){var o,s=ma(e,n,Fn({},t,{onError:a}));r=function(){s(),a(new Error("WHEN_CANCELLED"))},i=function(){s(),a(new Error("WHEN_ABORTED"))},null==t||null==(o=t.signal)||null==o.addEventListener||o.addEventListener("abort",i)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",i)}));return a.cancel=r,a}(e,t):ma(e,t,n||{})}function ma(e,t,n){var r;if("number"==typeof n.timeout){var i=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!o[$n].isDisposed){if(o(),!n.onError)throw i;n.onError(i)}}),n.timeout)}n.name="When";var a=zr("When-effect",t),o=ji((function(t){Gr(!1,e)&&(t.dispose(),r&&clearTimeout(r),a())}),n);return o}function fa(e){return e[$n]}aa.bound=jn(ia);var _a={has:function(e,t){return fa(e).has_(t)},get:function(e,t){return fa(e).get_(t)},set:function(e,t,n){var r;return!!_n(t)&&(null==(r=fa(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!_n(t)&&(null==(n=fa(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=fa(e).defineProperty_(t,n))||r},ownKeys:function(e){return fa(e).ownKeys_()},preventExtensions:function(e){tn(13)}};function ga(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function ya(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),vn((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function ba(e,t){var n=li();try{for(var r=[].concat(e.interceptors_||[]),i=0,a=r.length;i<a&&((t=r[i](t))&&!t.type&&tn(14),t);i++);return t}finally{ui(n)}}function Ea(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function wa(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),vn((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Sa(e,t){var n=li(),r=e.changeListeners_;if(r){for(var i=0,a=(r=r.slice()).length;i<a;i++)r[i](t);ui(n)}}function Ca(e,t,n){return fo((function(){var r=qa(e,n)[$n];null!=t||(t=function(e){return Tn(e,Un)||En(e,Un,Fn({},e[Un])),e[Un]}(e)),Pn(t).forEach((function(e){return r.make_(e,t[e])}))})),e}var ka="splice",Aa="update",Pa={get:function(e,t){var n=e[$n];return t===$n?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?Tn(Ra,t)?Ra[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[$n];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){tn(15)}},Ia=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Gn(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return ya(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),wa(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&tn("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&tn(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&co(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=un),ga(this)){var a=ba(this,{object:this.proxy_,type:ka,index:e,removedCount:t,added:n});if(!a)return un;t=a.removedCount,n=a.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(i,o)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var s=0;s<a.length;s++)this.values_[e+n.length+s]=a[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=Ea(this),a=i||r?{observableKind:"array",object:this.proxy_,type:Aa,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Sa(this,a)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=Ea(this),a=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:ka,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Sa(this,a)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&tn(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(ga(this)){var i=ba(this,{type:Aa,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var a=new Array(e+1-n.length),o=0;o<a.length-1;o++)a[o]=void 0;a[a.length-1]=t,this.spliceWithArray_(n.length,0,a)}},e}();function Ta(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),pn(),fo((function(){var i=new Ia(n,t,r,!1);wn(i.values_,$n,i);var a=new Proxy(i.values_,Pa);return i.proxy_=a,e&&e.length&&i.spliceWithArray_(0,0,e),a}))}var Ra={clear:function(){return this.splice(0)},replace:function(e){var t=this[$n];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this[$n];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[$n].spliceWithArray_(e,t,n)},push:function(){for(var e=this[$n],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[$n].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[$n],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return fi.trackingDerivation&&tn(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){fi.trackingDerivation&&tn(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[$n],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function xa(e,t){"function"==typeof Array.prototype[e]&&(Ra[e]=t(e))}function La(e){return function(){var t=this[$n];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Oa(e){return function(t,n){var r=this,i=this[$n];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Na(e){return function(){var t=this,n=this[$n];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}xa("at",La),xa("concat",La),xa("flat",La),xa("includes",La),xa("indexOf",La),xa("join",La),xa("lastIndexOf",La),xa("slice",La),xa("toString",La),xa("toLocaleString",La),xa("toSorted",La),xa("toSpliced",La),xa("with",La),xa("every",Oa),xa("filter",Oa),xa("find",Oa),xa("findIndex",Oa),xa("findLast",Oa),xa("findLastIndex",Oa),xa("flatMap",Oa),xa("forEach",Oa),xa("map",Oa),xa("some",Oa),xa("toReversed",Oa),xa("reduce",Na),xa("reduceRight",Na);var Ma=Sn("ObservableArrayAdministration",Ia);function Da(e){return gn(e)&&Ma(e[$n])}var Fa={},Ba="add",Ha="delete",Va=function(){function e(e,t,n){var r=this;void 0===t&&(t=Qn),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$n]=Fa,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,fn(Map)||tn(18),fo((function(){r.keysAtom_=qn("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!fi.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Yr(this.has_(e),Zn,"ObservableMap.key?",!1);this.hasMap_.set(e,r),qi(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(ga(this)){var r=ba(this,{type:n?Aa:Ba,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,ga(this))&&!ba(this,{type:Ha,object:this,name:e}))return!1;if(this.has_(e)){var n=Ea(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Ha,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return pa((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Sa(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==fi.UNCHANGED){var r=Ea(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Aa,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&Sa(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,pa((function(){var r,i=new Yr(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=Ea(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Ba,object:this,name:e,newValue:t}:null;r&&Sa(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Eo({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return Eo({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=Dn(this);!(n=r()).done;){var i=n.value,a=i[0],o=i[1];e.call(t,o,a,this)}},t.merge=function(e){var t=this;return Ua(e)&&(e=new Map(e)),pa((function(){var n,r,i;yn(e)?function(e){var t=Object.keys(e);if(!An)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return ln.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):Cn(e)?(n=e,r=Object.getPrototypeOf(n),i=Object.getPrototypeOf(r),null!==Object.getPrototypeOf(i)&&tn(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&tn(20,e)})),this},t.clear=function(){var e=this;pa((function(){si((function(){for(var t,n=Dn(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return pa((function(){for(var n,r=function(e){if(Cn(e)||Ua(e))return e;if(Array.isArray(e))return new Map(e);if(yn(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return tn(21,e)}(e),i=new Map,a=!1,o=Dn(t.data_.keys());!(n=o()).done;){var s=n.value;if(!r.has(s))if(t.delete(s))a=!0;else{var l=t.data_.get(s);i.set(s,l)}}for(var u,c=Dn(r.entries());!(u=c()).done;){var d=u.value,h=d[0],p=d[1],v=t.data_.has(h);if(t.set(h,p),t.data_.has(h)){var m=t.data_.get(h);i.set(h,m),v||(a=!0)}}if(!a)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var f=t.data_.keys(),_=i.keys(),g=f.next(),y=_.next();!g.done;){if(g.value!==y.value){t.keysAtom_.reportChanged();break}g=f.next(),y=_.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return wa(this,e)},t.intercept_=function(e){return ya(this,e)},Mn(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Ua=Sn("ObservableMap",Va);var ja={},Wa=function(){function e(e,t,n){var r=this;void 0===t&&(t=Qn),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[$n]=ja,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,fn(Set)||tn(22),this.enhancer_=function(e,r){return t(e,r,n)},fo((function(){r.atom_=qn(r.name_),e&&r.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;pa((function(){si((function(){for(var t,n=Dn(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=Dn(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,ga(this))&&!ba(this,{type:Ba,object:this,newValue:e}))return this;if(!this.has(e)){pa((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=Ea(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:Ba,object:this,newValue:e}:null;n,r&&Sa(this,i)}return this},t.delete=function(e){var t=this;if(ga(this)&&!ba(this,{type:Ha,object:this,oldValue:e}))return!1;if(this.has(e)){var n=Ea(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Ha,object:this,oldValue:e}:null;return pa((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Sa(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Eo({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Eo({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.intersection=function(e){return kn(e)&&!za(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return kn(e)&&!za(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return kn(e)&&!za(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return kn(e)&&!za(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return za(e)&&(e=new Set(e)),pa((function(){Array.isArray(e)||kn(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&tn("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return wa(this,e)},t.intercept_=function(e){return ya(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Mn(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),za=Sn("ObservableSet",Wa),$a=Object.create(null),Ga="remove",Ka=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=yr),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Gn("ObservableObject.keys"),this.isPlainObject_=yn(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Zr)return n.set(t),!0;if(ga(this)){var r=ba(this,{type:Aa,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==fi.UNCHANGED){var i=Ea(this),a=i?{type:Aa,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&Sa(this,a)}return!0},t.get_=function(e){return fi.trackingDerivation&&!Tn(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),Tn(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!fi.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Yr(e in this.target_,Zn,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(eo(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[Un])&&n[e])return;tn(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==ln;){var i=on(r,e);if(i){var a=t.make_(this,e,i,r);if(0===a)return;if(1===a)break}r=Object.getPrototypeOf(r)}Ja(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);eo(this,n,e);var i=n.extend_(this,e,t,r);return i&&Ja(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{bi();var r=this.delete_(e);if(!r)return r;if(ga(this)){var i=ba(this,{object:this.proxy_||this.target_,name:e,type:Ba,newValue:t.value});if(!i)return null;var a=i.newValue;t.value!==a&&(t=Fn({},t,{value:a}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else sn(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Ei()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{bi();var i=this.delete_(e);if(!i)return i;if(ga(this)){var a=ba(this,{object:this.proxy_||this.target_,name:e,type:Ba,newValue:t});if(!a)return null;t=a.newValue}var o=Za(e),s={configurable:!fi.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else sn(this.target_,e,s);var l=new Yr(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{Ei()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{bi();var r=this.delete_(e);if(!r)return r;if(ga(this))if(!ba(this,{object:this.proxy_||this.target_,name:e,type:Ba,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Za(e),a={configurable:!fi.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else sn(this.target_,e,a);this.values_.set(e,new Zr(t)),this.notifyPropertyAddition_(e,void 0)}finally{Ei()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!Tn(this.target_,e))return!0;if(ga(this)&&!ba(this,{object:this.proxy_||this.target_,name:e,type:Ga}))return null;try{var n;bi();var r,i=Ea(this),a=this.values_.get(e),o=void 0;if(!a&&i)o=null==(r=on(this.target_,e))?void 0:r.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof Yr&&(o=a.value_),Si(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),i){var s={type:Ga,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:o,name:e};0,i&&Sa(this,s)}}finally{Ei()}return!0},t.observe_=function(e,t){return wa(this,e)},t.intercept_=function(e){return ya(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r=Ea(this);if(r){var i=r?{type:Ba,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,r&&Sa(this,i)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Pn(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function qa(e,t){var n;if(Tn(e,$n))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Ka(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:br(e):void 0}(t));return En(e,$n,i),e}var Qa=Sn("ObservableObjectAdministration",Ka);function Za(e){return $a[e]||($a[e]={get:function(){return this[$n].getObservablePropValue_(e)},set:function(t){return this[$n].setObservablePropValue_(e,t)}})}function Xa(e){return!!gn(e)&&Qa(e[$n])}function Ja(e,t,n){var r;null==(r=e.target_[Un])||delete r[n]}function eo(e,t,n){}var to,no,ro=lo(0),io=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),ao=0,oo=function(){};to=oo,no=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(to.prototype,no):void 0!==to.prototype.__proto__?to.prototype.__proto__=no:to.prototype=no;var so=function(e){function t(t,n,r,i){var a;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),a=e.call(this)||this,fo((function(){var e=new Ia(r,n,i,!0);e.proxy_=a,wn(a,$n,e),t&&t.length&&a.spliceWithArray(0,0,t),io&&Object.defineProperty(a,"0",ro)})),a}Bn(t,e);var n=t.prototype;return n.concat=function(){this[$n].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Da(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return Eo({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Mn(t,[{key:"length",get:function(){return this[$n].getArrayLength_()},set:function(e){this[$n].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(oo);function lo(e){return{enumerable:!1,configurable:!0,get:function(){return this[$n].get_(e)},set:function(t){this[$n].set_(e,t)}}}function uo(e){sn(so.prototype,""+e,lo(e))}function co(e){if(e>ao){for(var t=ao;t<e+100;t++)uo(t);ao=e}}function ho(e,t,n){return new so(e,t,n)}function po(e,t){if("object"==typeof e&&null!==e){if(Da(e))return void 0!==t&&tn(23),e[$n].atom_;if(za(e))return e.atom_;if(Ua(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||tn(25,t,mo(e)),n}if(Xa(e)){if(!t)return tn(26);var r=e[$n].values_.get(t);return r||tn(27,t,mo(e)),r}if(Kn(e)||ei(e)||Ti(e))return e}else if(fn(e)&&Ti(e[$n]))return e[$n];tn(28)}function vo(e,t){return e||tn(29),void 0!==t?vo(po(e,t)):Kn(e)||ei(e)||Ti(e)||Ua(e)||za(e)?e:e[$n]?e[$n]:void tn(24,e)}function mo(e,t){var n;if(void 0!==t)n=po(e,t);else{if(Ui(e))return e.name;n=Xa(e)||Ua(e)||za(e)?vo(e):po(e)}return n.name_}function fo(e){var t=li(),n=Kr(!0);bi();try{return e()}finally{Ei(),qr(n),ui(t)}}Object.entries(Ra).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&En(so.prototype,t,n)})),co(1e3);var _o=ln.toString;function go(e,t,n){return void 0===n&&(n=-1),yo(e,t,n)}function yo(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var o=_o.call(e);if(o!==_o.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=bo(e),t=bo(t);var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(fn(l)&&l instanceof l&&fn(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!yo(e[c],t[c],n-1,r,i))return!1}else{var d,h=Object.keys(e);if(c=h.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!Tn(t,d=h[c])||!yo(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function bo(e){return Da(e)?e.slice():Cn(e)||Ua(e)||kn(e)||za(e)?Array.from(e.entries()):e}function Eo(e){return e[Symbol.iterator]=wo,e}function wo(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===rn()[e]&&tn("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:mo},$mobx:$n});n(2460);let So;var Co,ko,Ao;function Po(e,t){return t}function Io(e){const t=e[Symbol.metadata];if(!t)return!1;const n=t[Symbol.pluginMetadata];return null!==n&&"object"==typeof n&&"ctor"in n&&null!==n.ctor&&"object"==typeof n.ctor&&"__type__"in n.ctor&&"PluginCtor"===n.ctor.__type__}function To(e){return function(t,n){if("class"===n.kind){let r;r="string"==typeof e?{__type__:"PluginCtor",__token__:e,__ctorTokens__:[],__class_name__:t.name}:{__type__:"PluginCtor",__token__:e.implement,__ctorTokens__:e.ctor_args,__class_name__:t.name};const i={__inherit__:[]};if(Io(t)){i.__inherit__.push(...t[Symbol.metadata][Symbol.pluginMetadata].inherit.__inherit__);const e=t[Symbol.metadata][Symbol.pluginMetadata].ctor;i.__inherit__.push(e)}n.metadata[Symbol.pluginMetadata]={ctor:r,inherit:i}}}}function Ro(e,t){"method"===t.kind&&t.addInitializer((function(){this[t.name]=this[t.name].bind(this)}))}null!==(ko=(Co=Symbol).pluginMetadata)&&void 0!==ko||(Co.pluginMetadata=Symbol("plugin:metadata"));const xo=new WeakMap;function Lo(){return function(e,t){"method"===t.kind&&t.addInitializer((function(){var e;const n=null!==(e=xo.get(this))&&void 0!==e?e:[];n.push(t.name),xo.set(this,n)}))}}class Oo{}class No extends Oo{constructor(e){super(),this._val=e}get value(){return this._val}}class Mo{constructor(){this._ctors=(So(this),new Map),this._instances=new Map,this._disposers=[],this._booted=!1,this._dependencyGraphCreated=!1}static _getMetadata(e){const t=e[Symbol.metadata][Symbol.pluginMetadata];return"ConstantCtor"===t.ctor.__type__?{__token__:t.ctor.__token__,__ctorTokens__:[]}:{__token__:t.ctor.__token__,__ctorTokens__:t.ctor.__ctorTokens__}}boot(){let{disablePostConstruct:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._booted)throw new Error(Po(0,"Plugin boot error"));try{this._buildOrder().forEach((e=>{if("ConstantCtor"===e[Symbol.metadata][Symbol.pluginMetadata].ctor.__type__){const t=e,n=Mo._getMetadata(t).__token__;this._instances.set(n,new No(t.value()))}else{const t=e,n=Mo._getMetadata(t),r=n.__token__,i=n.__ctorTokens__.map((e=>{const t="string"==typeof e?e:e.implement;return this._instances.get(t)}));this._instances.set(r,new t(...i))}})),this._dependencyGraphCreated=!0,e||Array.from(this._instances.values()).forEach((e=>{const t=xo.get(e);t&&t.forEach((t=>{const n=e[t].call(e);"function"==typeof n&&this._disposers.push(n.bind(e))}))})),this._booted=!0}catch(e){console.error(e),this._dependencyGraphCreated=!1,this._booted=!1}return Promise.resolve(this._booted)}shutdown(){return this._disposers.forEach((e=>e())),Promise.resolve()}registerConstant(e,t){const n={value:()=>t,name:e,[Symbol.metadata]:{[Symbol.pluginMetadata]:{ctor:{__type__:"ConstantCtor",__token__:e}}}};return this._ctors.set(e,n),this}registerPlugin(e){if(!Io(e))throw new Error(Po(e.name,"Plugin registration error"));const t=Mo._getMetadata(e).__token__;var n;if(this._ctors.has(t))throw new Error(Po(null===(n=this._ctors.get(t))||void 0===n||n.name,"Plugin registration error"));return this._ctors.set(t,e),this}resolve(e){if(!this._dependencyGraphCreated)throw new Error(Po(0,"Plugin resolve error"));const t=this._instances.get(e);if(!t)throw new Error(Po(0,"Plugin resolve error"));return t}resolveOptional(e){return this._instances.get(e)}_buildOrder(){const e=[],t=[],n=Array.from(this._ctors.values());return n.forEach((r=>{this._depsResolve(n,r,e,t)})),e}_depsResolve(e,t,n,r){r.push(t),Mo._getMetadata(t).__ctorTokens__.forEach((i=>{const a="string"==typeof i?i:i.implement,o="string"==typeof i||!i.optional;if(!n.find((e=>Mo._getMetadata(e).__token__===a))){if(!!r.find((e=>Mo._getMetadata(e).__token__===a))){const e=r.map((e=>Mo._getMetadata(e).__token__)),t=e.indexOf(a),n=e[t],i=e.slice(t);throw i.push(n),new Error(`Circular reference detected: ${i.join(" -> ")}`)}const i=e.find((e=>Mo._getMetadata(e).__token__===a));if(!i&&o)throw new Error(`deps token ${a} not found for ${Mo._getMetadata(t).__token__}`);i&&this._depsResolve(e,i,n,r)}})),n.find((e=>Mo._getMetadata(e).__token__===Mo._getMetadata(t).__token__))||n.push(t),r.splice(0,r.length,...r.filter((e=>Mo._getMetadata(e).__token__===Mo._getMetadata(t).__token__)))}}var Do;let Fo;Ao=Mo,[So]=en(Ao,[],[[Ro,2,"boot"],[Ro,2,"shutdown"],[Ro,2,"registerConstant"],[Ro,2,"registerPlugin"],[Ro,2,"resolve"],[Ro,2,"resolveOptional"]]).e;class Bo extends Oo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;super(),this._forcedTime=void Fo(this),this._hrefParams=void 0,this._stopTime=null,this._stopTimeDesposer=null,this.videoId=void 0,this.userId=void 0,this.isLive=!1,this._timeFromHistory=null,this._videoHistory=void 0,this.playback=e,this._config=o,this.videoId=t,this.isLive=i,this.userId=n;const{startTime:s,stopTime:l}=r;if(this._hrefParams=new URL(window.location.href).searchParams,this._videoHistory=a,"number"==typeof s&&(this._forcedTime=s),"number"==typeof l)this._stopTime=l;else{const e=this._hrefParams.get("stopTime")||this._hrefParams.get("endTime")||"",t=parseInt(e,10)||null;t&&(this._stopTime=t)}}resetStopTime(){this._stopTime=null,this._stopTimeDesposer&&this._stopTimeDesposer()}initTimeFromHistoryDisposerHandler(){return $i((()=>({videoId:this.videoId})),(e=>{var t;let{videoId:n}=e;this._timeFromHistory=null===(t=this._videoHistory)||void 0===t?void 0:t.getVideoProgress(n)}),{fireImmediately:!0})}initTimeFromHistoryDisposer(){return this.initTimeFromHistoryDisposerHandler()}initReaction1(){return $i((()=>({isPlayerReady:this.playback.isPlayerReady,readyState:this.playback.readyState})),(e=>{var t,n;let{isPlayerReady:r,readyState:i}=e;if(!r||this.isLive)return;const a=this._hrefParams.get("t")||"",o=parseInt(a,10)||null;this._forcedTime&&i>=2?this.playback.seek(this._forcedTime):o?this.playback.seek(o):this._timeFromHistory&&this._timeFromHistory&&this._timeFromHistory<=this.playback.duration-15&&this._timeFromHistory/this.playback.duration<=.9&&(this.playback.seek(this._timeFromHistory),this._timeFromHistory=null),null===(t=this._videoHistory)||void 0===t||t.updateVideoId(String(null===(n=this._config)||void 0===n?void 0:n.get("videoId")))}))}initReaction2(){return $i((()=>({currentTime:this.playback.currentTime,isPlaying:this.playback.isPlaying,ended:this.playback.ended,playInitiator:this.playback.playInitiator,seeking:this.playback.seeking})),(e=>{const{isPlaying:t,currentTime:n,ended:r,playInitiator:i,seeking:a}=e;this._stopTime&&(t&&n>=this._stopTime&&(this.playback.pause(),this.resetStopTime()),"user"===i&&(a||r)&&this.resetStopTime())}))}clear(){var e;return null!==(e=this._stopTimeDesposer)&&void 0!==e?e:void 0}}var Ho;let Vo,Uo;Do=Bo,[Fo]=en(Do,[],[[Lo(),2,"initTimeFromHistoryDisposer"],[Lo(),2,"initReaction1"],[Lo(),2,"initReaction2"],[Lo(),2,"clear"]],0,void 0,Oo).e;function jo(e){return e}function Wo(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}Ho=class extends Bo{constructor(e,t,n,r){const i=t.get("userId")||void 0,a=t.get("timeProps")||{};super(e,t.get("videoId"),i,a,n.isLive,r)}},[Uo,Vo]=en(Ho,[To({implement:"ITimeControllerPlugin",ctor_args:["IPlayback","IPlayerConfigPlugin","IDataPlugin","IVideoHistoryPlugin"]})],[],0,void 0,Bo).c,Vo();var zo=0;function $o(e){return"__private_"+zo+++"_"+e}var Go,Ko,qo,Yo,Qo,Zo,Xo,Jo,es,ts,ns,rs,is,as,os,ss,ls,us,cs,ds,hs,ps,vs,ms,fs=function(e){return e[e.ERROR=1]="ERROR",e[e.WARN=3]="WARN",e[e.LOG=7]="LOG",e[e.DEBUG=15]="DEBUG",e}({}),_s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs.LOG;He(this,e),this._name=t,this._level=n}return We(e,[{key:"_getLevel",value:function(){return"function"==typeof this._level?this._level():this._level}},{key:"name",get:function(){return"string"==typeof this._name?this._name:this._name()}},{key:"isGrouped",value:function(e){return e.length>1&&"string"==typeof e[0]}},{key:"grouped",value:function(e){console.group(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(n),console.groupEnd()}},{key:"log",value:function(){if((this._getLevel()&fs.LOG)===fs.LOG){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var r=t[0],i=t.slice(1);this.grouped.apply(this,["[1m[32m[".concat(this.name,"]: ").concat(r,"[0m")].concat(Re(i)))}else console.log("[1m[32m[".concat(this.name,"]: [0m").concat(t))}}},{key:"warn",value:function(){if((this._getLevel()&fs.WARN)===fs.WARN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var r=t[0],i=t.slice(1);this.grouped.apply(this,["[1m[33m[".concat(this.name,"]: ").concat(r,"[0m")].concat(Re(i)))}else console.log("[1m[33m[".concat(this.name,"]: [0m").concat(t))}}},{key:"error",value:function(){if((this._getLevel()&fs.ERROR)===fs.ERROR){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var r=t[0],i=t.slice(1);this.grouped.apply(this,["[1m[31m[".concat(this.name,"]: ").concat(r,"[0m")].concat(Re(i)))}else console.log("[1m[31m[".concat(this.name,"]: [0m").concat(t))}}},{key:"level",set:function(e){this._level=e}}]),e}(),gs=$o("DEFAULT_NAMESPACE"),ys=$o("capitalize"),bs=$o("makeGroupName"),Es=$o("logger"),ws=$o("_namespace"),Ss=$o("_registeredEvents"),Cs=$o("_contextProvider"),ks=$o("_onSend"),As=$o("_external"),Ps=$o("context"),Is=$o("CounterHelperBuilder"),Ts=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s((function(){return"CounterHelper".concat(Wo(t,ws)[ws]?" "+Wo(t,ws)[ws]:"")}),fs.ERROR);He(this,e),Object.defineProperty(this,Ps,{get:Rs,set:void 0}),Object.defineProperty(this,Es,{writable:!0,value:void 0}),Object.defineProperty(this,ws,{writable:!0,value:void 0}),Object.defineProperty(this,Ss,{writable:!0,value:{}}),Object.defineProperty(this,Cs,{writable:!0,value:void 0}),Object.defineProperty(this,ks,{writable:!0,value:function(){Wo(t,Es)[Es].warn("send handler has not been added")}}),Object.defineProperty(this,As,{writable:!0,value:void 0}),Wo(this,ws)[ws]=Wo(e,gs)[gs],Wo(this,Es)[Es]=n}return We(e,[{key:"namespace",get:function(){return Wo(this,ws)[ws]}},{key:"get",value:function(e){var t;return null===(t=Wo(this,Ss)[Ss][e])||void 0===t?void 0:t.bind(this)}}],[{key:"builder",value:function(t){return new(Wo(e,Is)[Is])(new e(t))}}]),e}();function Rs(){if(Wo(this,Cs)[Cs])return Wo(this,Cs)[Cs]()}function xs(e){var t=Wo(this,cs)[cs],n=Wo(this,ms)[ms](e);Wo(this,ss)[ss]=function(e,r){var i=Wo(this,Ps)[Ps];t({event:e,context:i,params:r})&&Wo(this,ks)[ks](n({event:e,context:i,params:r}))}}function Ls(e){var t=Wo(this,cs)[cs],n=Wo(this,ms)[ms](e);Wo(this,ss)[ss]=function(e){var r=Wo(this,Ps)[Ps];t({context:r,params:e})&&Wo(this,ks)[ks](n({params:e,context:r}))}}function Os(e){var t=Wo(this,cs)[cs],n=Wo(this,ms)[ms](e);Wo(this,ss)[ss]=function(e){var r=Wo(this,Ps)[Ps];t({event:e,context:r})&&Wo(this,ks)[ks](n({event:e,context:r}))}}function Ns(e){var t=Wo(this,cs)[cs],n=Wo(this,ms)[ms](e);Wo(this,ss)[ss]=function(){var e=Wo(this,Ps)[Ps];t({context:e})&&Wo(this,ks)[ks](n({context:e}))}}function Ms(e){var t,n=null===(t=Wo(this,os)[os])||void 0===t?void 0:t.transform;return n?function(t){return n(e(t),{context:t.context})}:e}function Ds(e,t){e()&&Wo(this,qo)[qo].warn(t())}Go=Ts,Object.defineProperty(Ts,gs,{writable:!0,value:"default"}),Object.defineProperty(Ts,ys,{writable:!0,value:function(e){return e.length>0?e[0].toUpperCase()+e.slice(1):e}}),Object.defineProperty(Ts,bs,{writable:!0,value:function(e,t){return t?"".concat(t).concat(Wo(Go,ys)[ys](e)):e}}),Object.defineProperty(Ts,Is,{writable:!0,value:(qo=$o("builderLogger"),Yo=$o("instance"),Qo=$o("hasController"),Zo=$o("assert"),Xo=$o("CounterHelperGroupBuilder"),Jo=$o("CounterHelperEventBuilder"),Ko=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s("CounterHelperBuilder");He(this,e),Object.defineProperty(this,Zo,{value:Ds}),Object.defineProperty(this,qo,{writable:!0,value:void 0}),Object.defineProperty(this,Yo,{writable:!0,value:void 0}),Object.defineProperty(this,Qo,{writable:!0,value:!1}),Wo(this,Yo)[Yo]=t,Wo(this,qo)[qo]=n}return We(e,[{key:"register",value:function(e,t){var n=this;Wo(this,Zo)[Zo]((function(){return e in Wo(Wo(n,Yo)[Yo],Ss)[Ss]}),(function(){return"try to register existed event with name: ".concat(e)})),Wo(Wo(this,Yo)[Yo],Ss)[Ss][e]=t}},{key:"withNamespace",value:function(e){var t=this;return Wo(this,Zo)[Zo]((function(){return Wo(Wo(t,Yo)[Yo],ws)[ws]!==Wo(Go,gs)[gs]}),(function(){return"try to override defined namespace: ".concat(Wo(t,Yo)[Yo].namespace," with value: ").concat(e)})),Wo(Wo(this,Yo)[Yo],ws)[ws]=e,this}},{key:"withContext",value:function(e){return Wo(Wo(this,Yo)[Yo],Cs)[Cs]="function"==typeof e?e:function(){return e},this}},{key:"debug",value:function(){if(Wo(this,Qo)[Qo])throw new Error("builder has already logger controller");return Wo(Wo(this,Yo)[Yo],Es)[Es].level=fs.DEBUG,this}},{key:"loggerLevelController",value:function(e){return Wo(Wo(this,Yo)[Yo],Es)[Es].level=function(){return e.level},Wo(this,Qo)[Qo]=!0,this}},{key:"event",value:function(e){return new(Wo(Wo(Go,Is)[Is],Jo)[Jo])(this,e,Wo(Wo(this,Yo)[Yo],As)[As])}},{key:"group",value:function(e){return new(Wo(Wo(Go,Is)[Is],Xo)[Xo])(this,e,Wo(Wo(this,Yo)[Yo],As)[As])}},{key:"onSend",value:function(e){return Wo(Wo(this,Yo)[Yo],ks)[ks]=function(t){Wo(this,Es)[Es].log("sending message",t),e(t)},this}},{key:"extends",value:function(e){var t=this;return Object.entries(Wo(e,Ss)[Ss]).forEach((function(e){var n=ye(e,2),r=n[0],i=n[1];Wo(Wo(t,Yo)[Yo],Ss)[Ss][r]=i})),this}},{key:"use",value:function(e){if(Wo(Wo(this,Yo)[Yo],As)[As])throw Wo(Wo(this,Yo)[Yo],Es)[Es].error("external group builder has been already added"),new Error("external group builder has been already added");return Wo(Wo(this,Yo)[Yo],As)[As]=e.copyWith(this),this}},{key:"build",value:function(){return Wo(this,Yo)[Yo]}}]),e}(),Object.defineProperty(Ko,Xo,{writable:!0,value:(es=$o("builder"),ts=$o("prefix"),ns=$o("name"),rs=$o("parentGroup"),function(){function e(t,n){var r,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;He(this,e),Object.defineProperty(this,es,{writable:!0,value:void 0}),Object.defineProperty(this,ts,{writable:!0,value:void 0}),Object.defineProperty(this,ns,{writable:!0,value:void 0}),Object.defineProperty(this,rs,{writable:!0,value:void 0}),this.transform=null,this.copyWith=function(t){var n=new e(t,Wo(i,ts)[ts],Wo(i,rs)[rs]);return n.transform=i.transform,n},Wo(this,ts)[ts]=n,Wo(this,ns)[ns]=Wo(Go,bs)[bs](n,null==a?void 0:a.name),Wo(this,es)[es]=t,Wo(this,rs)[rs]=a,this.transform=null!==(r=null==a?void 0:a.transform)&&void 0!==r?r:null}return We(e,[{key:"name",get:function(){return Wo(this,ns)[ns]}},{key:"endGroup",value:function(){var e;return Wo(this,rs)[rs]===Wo(Wo(Wo(this,es)[es],Yo)[Yo],As)[As]?Wo(this,es)[es]:null!==(e=Wo(this,rs)[rs])&&void 0!==e?e:Wo(this,es)[es]}},{key:"event",value:function(e){return new(Wo(Wo(Go,Is)[Is],Jo)[Jo])(Wo(this,es)[es],e,this)}},{key:"group",value:function(e){return new(Wo(Wo(Go,Is)[Is],Xo)[Xo])(Wo(this,es)[es],e,this)}},{key:"withTransform",value:function(e){var t,n=this;return null!==(t=Wo(this,rs)[rs])&&void 0!==t&&t.transform?this.transform=function(t){for(var r,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return(r=Wo(n,rs)[rs]).transform.apply(r,[e.apply(void 0,[t].concat(a))].concat(a))}:this.transform=e,this}}]),e}())}),Object.defineProperty(Ko,Jo,{writable:!0,value:(is=$o("builder"),as=$o("name"),os=$o("group"),ss=$o("_handler"),ls=$o("_hasEvent"),us=$o("_hasParams"),cs=$o("_predicate"),ds=$o("createCounterWithEventAndParams"),hs=$o("createCounterWithParams"),ps=$o("createCounterWithEvent"),vs=$o("createCounterWithoutArgs"),ms=$o("applyGroupTransform"),function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;He(this,e),Object.defineProperty(this,ms,{value:Ms}),Object.defineProperty(this,vs,{value:Ns}),Object.defineProperty(this,ps,{value:Os}),Object.defineProperty(this,hs,{value:Ls}),Object.defineProperty(this,ds,{value:xs}),Object.defineProperty(this,is,{writable:!0,value:void 0}),Object.defineProperty(this,as,{writable:!0,value:void 0}),Object.defineProperty(this,os,{writable:!0,value:void 0}),Object.defineProperty(this,ss,{writable:!0,value:function(){throw new Error("you forgot add message to event with name: ".concat(Wo(r,as)[as]))}}),Object.defineProperty(this,ls,{writable:!0,value:!1}),Object.defineProperty(this,us,{writable:!0,value:!1}),Object.defineProperty(this,cs,{writable:!0,value:function(){return!0}}),Wo(this,is)[is]=t,Wo(this,as)[as]=Wo(Go,bs)[bs](n,null==i?void 0:i.name),Wo(this,os)[os]=i}return We(e,[{key:"name",get:function(){return Wo(this,as)[as]}},{key:"domEvent",value:function(){return Wo(this,ls)[ls]=!0,this}},{key:"params",value:function(){return Wo(this,us)[us]=!0,this}},{key:"permit",value:function(e){return Wo(this,cs)[cs]=e,this}},{key:"message",value:function(e){return Wo(this,ss)[ss]=e,this}},{key:"commit",value:function(){return Wo(this,ls)[ls]&&Wo(this,us)[us]?Wo(this,ds)[ds](Wo(this,ss)[ss]):Wo(this,us)[us]?Wo(this,hs)[hs](Wo(this,ss)[ss]):Wo(this,ls)[ls]?Wo(this,ps)[ps](Wo(this,ss)[ss]):Wo(this,vs)[vs](Wo(this,ss)[ss]),Wo(this,is)[is].register(Wo(this,as)[as],Wo(this,ss)[ss]),Wo(this,os)[os]===Wo(Wo(Wo(this,is)[is],Yo)[Yo],As)[As]?Wo(this,is)[is]:Wo(this,os)[os]||Wo(this,is)[is]}}]),e}())}),Ko)});var Fs=function(){function e(t){var n;if(He(this,e),this._level=fs.ERROR,this._logger=new _s("logger level controller",fs.LOG),this.id=t,"object"==typeof window)try{var r=window.localStorage.getItem(e.getId(t));r&&(this._level=fs[r])}catch(e){}this._level=null!==(n=this._level)&&void 0!==n?n:fs.ERROR}return We(e,[{key:"level",get:function(){return this._level}},{key:"changeLevel",value:function(t){if("object"==typeof window)try{window.localStorage.setItem(e.getId(this.id),fs[t])}catch(e){}this._level=t,this._logger.log("level has been changed to ".concat(fs[t]," for ").concat(this.id))}},{key:"bindEnableDebugGlobal",value:function(e){"object"==typeof window&&(window[e]=this.changeLevel.bind(this,fs.DEBUG))}},{key:"bindDisableDebugGlobal",value:function(e){"object"==typeof window&&(window[e]=this.changeLevel.bind(this,fs.ERROR))}}]),e}();Fs.getId=function(e){return"__".concat(e,"__")};const Bs=Ts.builder().group("main").withTransform(((e,t)=>{let{context:n}=t;return n("IStatisticState").getMainReport(e)})),Hs=Ts.builder().use(Bs).group("contentPlayback").event("rewindMode").params().message((e=>{let{params:{rewindType:t,rewindDirection:n}}=e;return{methodName:Pt.REWIND,resolvers:[{names:["{{rewind}}"],value:n},{names:["{{type_rewind}}"],value:t}]}})).commit().event("seek").message((()=>({methodName:At.SEEK}))).commit().event("firstPlay").message((()=>({methodName:At.FIRST_PLAY_BUTTON}))).commit().event("resume").message((()=>({methodName:At.RESUME}))).commit().event("pause").message((()=>({methodName:At.PAUSE}))).commit().event("start").message((()=>({methodName:At.START}))).commit().event("playPause").params().message((e=>{let{params:{play:t}}=e;return{methodName:Pt.PAUSE,resolvers:[{names:["{{play_pause}}"],value:t}]}})).commit().event("ended").message((()=>({methodName:At.END}))).commit().event("thirtySeconds").message((()=>({methodName:Pt.PLAYER_30_SEC}))).commit().event("firstQuartile").message((()=>({methodName:At.FIRST_QUARTILE}))).commit().event("secondQuartile").message((()=>({methodName:At.MIDDLE}))).commit().event("thirdQuartile").message((()=>({methodName:At.THIRD_QUARTILE}))).commit().event("frameless").params().message((e=>{let{params:{isEnabled:t,value:n}}=e;return{methodName:Pt.PLAYER_ZOOM,eventAction:t?"no_frame":"frame",resolvers:[{names:["{{action}}"],value:t?"no_frame":"frame"},{names:["{{zoom_action}}"],value:t?"IN":"OUT"},{names:["{{zoom_value}}"],value:String(t?n:1)}]}})).commit().endGroup().build();n(6337);const Vs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.reduce(((e,t)=>function(e,t){let{names:n,value:r}=t,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.reduce(((e,t)=>e.replaceAll(t,i?encodeURIComponent(r):r)),e)}(e,t,n)),e)};var Us,js;let Ws,zs,$s;new(js=class extends Oo{constructor(e,t,n){super(),this.__statisticStore=void 0,this._namespace=void 0,this.__placeholders=void 0,this._counterHelper=void 0,this.__loadedTimeStamp=void 0,this.__viewCount=0,this._namespace=e.value,this._counterHelper=this.buildCounter(),this.__statisticStore=t,this.__placeholders=n,this.__loadedTimeStamp=(new Date).getTime()}getCounter(){return Ts.builder()}buildCounter(){return this.getCounter().build()}getMainReport(e){const{config:t,isCyclic:n,methodName:r,urlTemplate:i,encode:a=!0}=e;let o=this.__statisticStore.rawStatistic.filter((e=>{let{name:t}=e;return t===r}));t&&(o=o.filter((e=>{let{count:n,delay:r,start:i}=e;return t.count===n&&t.delay===r&&t.start===i}))),i&&(o=o.filter((e=>{let{url_template:t,method_str:n}=e;return i===t||i===n})));const s=e.resolvers||[],l=[...this.__placeholders.makePlaceholderResolvers(n),...s],{methods:u,requests:c}=o.reduce(((e,t)=>{if(t.callbackParams){const n=Vs(JSON.stringify(t.callbackParams.params),l,a);try{const r=JSON.parse(n);e.methods.push(Ft(Ft({},t),{},{callbackParams:Ft(Ft({},t.callbackParams),{},{params:r})}))}catch(e){console.error("Parse callback params error: ",e)}}else e.requests.push({url:Vs(t.url_template||"",l,a),body:Vs(t.body||"",l),method:t.method});return e}),{methods:[],requests:[]});return{methods:u,requests:c}}get counterHelper(){return this._counterHelper}get loadedTimeStamp(){return this.__loadedTimeStamp}get viewCount(){return this.__viewCount}incrementViewCount(){this.__viewCount+=1}refreshLoadedTimeStamp(){this.__loadedTimeStamp=(new Date).getTime(),this.__viewCount=0}},[$s,Ws]=en(js,[To({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","IPlaceholdersState"]})],[],0,void 0,Oo).c,zs=js,(Us=class extends jo{constructor(){super($s),this.getStatistic=e=>e("IStatisticState"),Ws()}})[zs]=void 0,Us);const Gs=Ts.builder().use(Bs).group("logger").event("send").params().message((e=>{let{params:{queryParams:t}}=e;return{methodName:"logger",encode:!1,resolvers:[{names:["{{params}}"],value:t}]}})).commit().endGroup().build(),Ks=Ts.builder().use(Bs).group("playerLifecycle").event("unload").message((()=>({methodName:Pt.UNLOAD}))).commit().endGroup().build(),qs=Ts.builder().use(Bs).group("status").event("load").message((()=>({methodName:At.LOAD}))).commit().event("unload").message((()=>({methodName:Pt.UNLOAD}))).commit().event("embedLoad").message((()=>({methodName:At.EMBED_LOAD}))).commit().endGroup().build();n(1631),n(914);const Ys=53182297,Qs=e=>`yaCounter${e}`,Zs=e=>e.reduce(((e,t)=>{const n=(e=>{try{const t=new RegExp("^Yandex.(.+?)\\((.*)\\);?$","gm").exec(e);if(!t)return;const[n,r,i]=t,a=new RegExp("^\\s?(\\d+),\\s?['\"](.+)['\"]\\s?,({.+})","gm").exec(i);if(!a)return;const[o,s,l]=a;let u={};if(a[3])try{u=JSON.parse(a[3])}catch(e){"string"==typeof e&&console.error(`Parse stat api params error: ${e.toString()}`)}return{method:r,counterId:Number.parseInt(s,10),target:l,params:u}}catch(e){if("string"==typeof e)return void console.error(`Parse stat_api method error: ${e.toString()}`)}})(t.method_str);return n&&e.push(Ft(Ft({},t),{},{callbackParams:n})),e}),[]),Xs=e=>window[Qs(e)]||null,Js=e=>{if(e&&!Xs(e))try{window[Qs(e)]=new Ya.Metrika2({id:e,defer:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ecommerce:"dataLayer",webvisor:!1,triggerEvent:!0})}catch(t){console.error(`Init stat_api ym counter ${e} error: ${t}`)}},el=e=>{e.forEach((e=>{const t=e.callbackParams&&"boolean"!=typeof e.callbackParams&&e.callbackParams.counterId;t&&!Xs(t)&&Js(t)}))},tl=()=>{Js(Ys);const e=Xs(Ys);return(null==e?void 0:e.getClientID())||""},nl="undefined"!=typeof window&&-1!==window.location.search.indexOf("debug_r_stat"),rl=async e=>{let{method:t,url:n,body:r}=e;const i=Date.now();if(nl&&console.warn(`Sending stat to: ${n}`),"get"===t){let e;e=n.indexOf("tns-counter")<0?`${n}${n.indexOf("?")>=0?"&":"?"}t=${i}`:n,(new Image).src=e}else{const e=n.indexOf("ruform.trex.media")>=0;try{await fetch(n,{method:t,headers:{"Content-Type":"application/json;charset=utf-8"},credentials:e?"include":"same-origin",body:r})}catch(e){console.error(e)}}},il=e=>{let{methods:t,requests:n}=e;t.forEach((e=>{let{callbackParams:t}=e;return t&&(e=>{try{window[Qs(e.counterId)][e.method](e.target,e.params)}catch(e){console.error(`Send statistics error: ${e}`)}})(t)})),n.forEach((e=>{rl(e)}))};var al;let ol,sl;function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ll.apply(null,arguments)}al=class extends $s{constructor(e,t,n,r){super(e,t,r),this._counterHelper=void 0,this._resolve=void 0,this._resolve=n.value,this._counterHelper=this.buildCounter()}buildCounter(){return this.getCounter().build()}get counterHelper(){return this._counterHelper}getCounter(){return Ts.builder().withNamespace(this._namespace).withContext((()=>this._resolve)).onSend(il).extends(Hs).extends(qs).extends(Ts.builder().use(Bs).group("interval").event("watchtime").params().message((e=>{let{params:{urlTemplate:t}}=e;return{methodName:At.WATCHTIME,urlTemplate:t,isCyclic:!0}})).commit().event("heartbeat").params().message((e=>{let{params:{urlTemplate:t}}=e;return{methodName:At.HEARTBEAT,urlTemplate:t,isCyclic:!0}})).commit().endGroup().build()).extends(Ts.builder().use(Bs).group("interval").event("hbIntervalsStat").params().message((e=>{let{params:{urlTemplate:t,count:n,delay:r,start:i}}=e;return{methodName:Pt.HB_INTERVALS,config:{count:n,delay:r,start:i},urlTemplate:t,isCyclic:!0}})).commit().endGroup().build()).extends(Ts.builder().use(Bs).group("statevent").event("event").params().message((e=>{let{params:{urlTemplate:t}}=e;return{methodName:At.STAT,urlTemplate:t}})).commit().endGroup().build()).extends(Ks).extends(Gs).extends(Ts.builder().use(Bs).group("contextMenu").event("itemClick").params().message((e=>{let{params:{clickedItemTitle:t}}=e;return{methodName:Pt.EXTENDED_PLAYER_MENU,clickedItemTitle:t,resolvers:[{names:["{{clicked_item_title}}"],value:t}]}})).commit().endGroup().build())}},[sl,ol]=en(al,[To({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","Resolve","IPlaceholdersState"]})],[],0,void 0,$s).c,ol();var ul=n(451),cl=n.n(ul),dl=n(8572);function hl(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function pl(e){return e instanceof hl(e).Element||e instanceof Element}function vl(e){return e instanceof hl(e).HTMLElement||e instanceof HTMLElement}function ml(e){return"undefined"!=typeof ShadowRoot&&(e instanceof hl(e).ShadowRoot||e instanceof ShadowRoot)}var fl=Math.max,_l=Math.min,gl=Math.round;function yl(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function bl(){return!/^((?!chrome|android).)*safari/i.test(yl())}function El(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&vl(e)&&(i=e.offsetWidth>0&&gl(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&gl(r.height)/e.offsetHeight||1);var o=(pl(e)?hl(e):window).visualViewport,s=!bl()&&n,l=(r.left+(s&&o?o.offsetLeft:0))/i,u=(r.top+(s&&o?o.offsetTop:0))/a,c=r.width/i,d=r.height/a;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function wl(e){var t=hl(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Sl(e){return e?(e.nodeName||"").toLowerCase():null}function Cl(e){return((pl(e)?e.ownerDocument:e.document)||window.document).documentElement}function kl(e){return El(Cl(e)).left+wl(e).scrollLeft}function Al(e){return hl(e).getComputedStyle(e)}function Pl(e){var t=Al(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Il(e,t,n){void 0===n&&(n=!1);var r,i,a=vl(t),o=vl(t)&&function(e){var t=e.getBoundingClientRect(),n=gl(t.width)/e.offsetWidth||1,r=gl(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=Cl(t),l=El(e,o,n),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&(("body"!==Sl(t)||Pl(s))&&(u=(r=t)!==hl(r)&&vl(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:wl(r)),vl(t)?((c=El(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=kl(s))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function Tl(e){var t=El(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Rl(e){return"html"===Sl(e)?e:e.assignedSlot||e.parentNode||(ml(e)?e.host:null)||Cl(e)}function xl(e){return["html","body","#document"].indexOf(Sl(e))>=0?e.ownerDocument.body:vl(e)&&Pl(e)?e:xl(Rl(e))}function Ll(e,t){var n;void 0===t&&(t=[]);var r=xl(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=hl(r),o=i?[a].concat(a.visualViewport||[],Pl(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(Ll(Rl(o)))}function Ol(e){return["table","td","th"].indexOf(Sl(e))>=0}function Nl(e){return vl(e)&&"fixed"!==Al(e).position?e.offsetParent:null}function Ml(e){for(var t=hl(e),n=Nl(e);n&&Ol(n)&&"static"===Al(n).position;)n=Nl(n);return n&&("html"===Sl(n)||"body"===Sl(n)&&"static"===Al(n).position)?t:n||function(e){var t=/firefox/i.test(yl());if(/Trident/i.test(yl())&&vl(e)&&"fixed"===Al(e).position)return null;var n=Rl(e);for(ml(n)&&(n=n.host);vl(n)&&["html","body"].indexOf(Sl(n))<0;){var r=Al(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Dl="top",Fl="bottom",Bl="right",Hl="left",Vl="auto",Ul=[Dl,Fl,Bl,Hl],jl="start",Wl="end",zl="viewport",$l="popper",Gl=Ul.reduce((function(e,t){return e.concat([t+"-"+jl,t+"-"+Wl])}),[]),Kl=[].concat(Ul,[Vl]).reduce((function(e,t){return e.concat([t,t+"-"+jl,t+"-"+Wl])}),[]),ql=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Yl(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var Ql={placement:"bottom",modifiers:[],strategy:"absolute"};function Zl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Xl(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Ql:i;return function(e,t,n){void 0===n&&(n=a);var i,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ql,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,c={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},a,s.options,i),s.scrollParents={reference:pl(e)?Ll(e):e.contextElement?Ll(e.contextElement):[],popper:Ll(t)};var o,u,h=function(e){var t=Yl(e);return ql.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((o=[].concat(r,s.options.modifiers),u=o.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return s.orderedModifiers=h.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var a=i({state:s,name:t,instance:c,options:r}),o=function(){};l.push(a||o)}})),c.update()},forceUpdate:function(){if(!u){var e=s.elements,t=e.reference,n=e.popper;if(Zl(t,n)){s.rects={reference:Il(t,Ml(n),"fixed"===s.options.strategy),popper:Tl(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],a=i.fn,o=i.options,l=void 0===o?{}:o,d=i.name;"function"==typeof a&&(s=a({state:s,options:l,name:d,instance:c})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){c.forceUpdate(),e(s)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(i())}))}))),o}),destroy:function(){d(),u=!0}};if(!Zl(e,t))return c;function d(){l.forEach((function(e){return e()})),l=[]}return c.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var Jl={passive:!0};const eu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,l=hl(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,Jl)})),s&&l.addEventListener("resize",n.update,Jl),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Jl)})),s&&l.removeEventListener("resize",n.update,Jl)}},data:{}};function tu(e){return e.split("-")[0]}function nu(e){return e.split("-")[1]}function ru(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function iu(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?tu(i):null,o=i?nu(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case Dl:t={x:s,y:n.y-r.height};break;case Fl:t={x:s,y:n.y+n.height};break;case Bl:t={x:n.x+n.width,y:l};break;case Hl:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=a?ru(a):null;if(null!=u){var c="y"===u?"height":"width";switch(o){case jl:t[u]=t[u]-(n[c]/2-r[c]/2);break;case Wl:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}const au={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=iu({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var ou={top:"auto",right:"auto",bottom:"auto",left:"auto"};function su(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=o.x,p=void 0===h?0:h,v=o.y,m=void 0===v?0:v,f="function"==typeof c?c({x:p,y:m}):{x:p,y:m};p=f.x,m=f.y;var _=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),y=Hl,b=Dl,E=window;if(u){var w=Ml(n),S="clientHeight",C="clientWidth";if(w===hl(n)&&"static"!==Al(w=Cl(n)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth"),i===Dl||(i===Hl||i===Bl)&&a===Wl)b=Fl,m-=(d&&w===E&&E.visualViewport?E.visualViewport.height:w[S])-r.height,m*=l?1:-1;if(i===Hl||(i===Dl||i===Fl)&&a===Wl)y=Bl,p-=(d&&w===E&&E.visualViewport?E.visualViewport.width:w[C])-r.width,p*=l?1:-1}var k,A=Object.assign({position:s},u&&ou),P=!0===c?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:gl(n*i)/i||0,y:gl(r*i)/i||0}}({x:p,y:m},hl(n)):{x:p,y:m};return p=P.x,m=P.y,l?Object.assign({},A,((k={})[b]=g?"0":"",k[y]=_?"0":"",k.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",k)):Object.assign({},A,((t={})[b]=g?m+"px":"",t[y]=_?p+"px":"",t.transform="",t))}const lu={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];vl(i)&&Sl(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});vl(r)&&Sl(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const uu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Kl.reduce((function(e,n){return e[n]=function(e,t,n){var r=tu(e),i=[Hl,Dl].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Hl,Bl].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}};var cu={left:"right",right:"left",bottom:"top",top:"bottom"};function du(e){return e.replace(/left|right|bottom|top/g,(function(e){return cu[e]}))}var hu={start:"end",end:"start"};function pu(e){return e.replace(/start|end/g,(function(e){return hu[e]}))}function vu(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ml(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function mu(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function fu(e,t,n){return t===zl?mu(function(e,t){var n=hl(e),r=Cl(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=bl();(u||!u&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+kl(e),y:l}}(e,n)):pl(t)?function(e,t){var n=El(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):mu(function(e){var t,n=Cl(e),r=wl(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=fl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=fl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+kl(e),l=-r.scrollTop;return"rtl"===Al(i||n).direction&&(s+=fl(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}(Cl(e)))}function _u(e,t,n,r){var i="clippingParents"===t?function(e){var t=Ll(Rl(e)),n=["absolute","fixed"].indexOf(Al(e).position)>=0&&vl(e)?Ml(e):e;return pl(n)?t.filter((function(e){return pl(e)&&vu(e,n)&&"body"!==Sl(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=fu(e,n,r);return t.top=fl(i.top,t.top),t.right=_l(i.right,t.right),t.bottom=_l(i.bottom,t.bottom),t.left=fl(i.left,t.left),t}),fu(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function gu(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function yu(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function bu(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,l=void 0===s?"clippingParents":s,u=n.rootBoundary,c=void 0===u?zl:u,d=n.elementContext,h=void 0===d?$l:d,p=n.altBoundary,v=void 0!==p&&p,m=n.padding,f=void 0===m?0:m,_=gu("number"!=typeof f?f:yu(f,Ul)),g=h===$l?"reference":$l,y=e.rects.popper,b=e.elements[v?g:h],E=_u(pl(b)?b:b.contextElement||Cl(e.elements.popper),l,c,o),w=El(e.elements.reference),S=iu({reference:w,element:y,strategy:"absolute",placement:i}),C=mu(Object.assign({},y,S)),k=h===$l?C:w,A={top:E.top-k.top+_.top,bottom:k.bottom-E.bottom+_.bottom,left:E.left-k.left+_.left,right:k.right-E.right+_.right},P=e.modifiersData.offset;if(h===$l&&P){var I=P[i];Object.keys(A).forEach((function(e){var t=[Bl,Fl].indexOf(e)>=0?1:-1,n=[Dl,Fl].indexOf(e)>=0?"y":"x";A[e]+=I[n]*t}))}return A}const Eu={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,v=void 0===p||p,m=n.allowedAutoPlacements,f=t.options.placement,_=tu(f),g=l||(_===f||!v?[du(f)]:function(e){if(tu(e)===Vl)return[];var t=du(e);return[pu(e),t,pu(t)]}(f)),y=[f].concat(g).reduce((function(e,n){return e.concat(tu(n)===Vl?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?Kl:l,c=nu(r),d=c?s?Gl:Gl.filter((function(e){return nu(e)===c})):Ul,h=d.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=bu(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[tu(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:v,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,E=t.rects.popper,w=new Map,S=!0,C=y[0],k=0;k<y.length;k++){var A=y[k],P=tu(A),I=nu(A)===jl,T=[Dl,Fl].indexOf(P)>=0,R=T?"width":"height",x=bu(t,{placement:A,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),L=T?I?Bl:Hl:I?Fl:Dl;b[R]>E[R]&&(L=du(L));var O=du(L),N=[];if(a&&N.push(x[P]<=0),s&&N.push(x[L]<=0,x[O]<=0),N.every((function(e){return e}))){C=A,S=!1;break}w.set(A,N)}if(S)for(var M=function(e){var t=y.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},D=v?3:1;D>0;D--){if("break"===M(D))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wu(e,t,n){return fl(e,_l(t,n))}const Su={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,v=n.tetherOffset,m=void 0===v?0:v,f=bu(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),_=tu(t.placement),g=nu(t.placement),y=!g,b=ru(_),E="x"===b?"y":"x",w=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,k="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(w){if(a){var T,R="y"===b?Dl:Hl,x="y"===b?Fl:Bl,L="y"===b?"height":"width",O=w[b],N=O+f[R],M=O-f[x],D=p?-C[L]/2:0,F=g===jl?S[L]:C[L],B=g===jl?-C[L]:-S[L],H=t.elements.arrow,V=p&&H?Tl(H):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=U[R],W=U[x],z=wu(0,S[L],V[L]),$=y?S[L]/2-D-z-j-A.mainAxis:F-z-j-A.mainAxis,G=y?-S[L]/2+D+z+W+A.mainAxis:B+z+W+A.mainAxis,K=t.elements.arrow&&Ml(t.elements.arrow),q=K?"y"===b?K.clientTop||0:K.clientLeft||0:0,Y=null!=(T=null==P?void 0:P[b])?T:0,Q=O+G-Y,Z=wu(p?_l(N,O+$-Y-q):N,O,p?fl(M,Q):M);w[b]=Z,I[b]=Z-O}if(s){var X,J="x"===b?Dl:Hl,ee="x"===b?Fl:Bl,te=w[E],ne="y"===E?"height":"width",re=te+f[J],ie=te-f[ee],ae=-1!==[Dl,Hl].indexOf(_),oe=null!=(X=null==P?void 0:P[E])?X:0,se=ae?re:te-S[ne]-C[ne]-oe+A.altAxis,le=ae?te+S[ne]+C[ne]-oe-A.altAxis:ie,ue=p&&ae?function(e,t,n){var r=wu(e,t,n);return r>n?n:r}(se,te,le):wu(p?se:re,te,p?le:ie);w[E]=ue,I[E]=ue-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};const Cu={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=tu(n.placement),l=ru(s),u=[Hl,Bl].indexOf(s)>=0?"height":"width";if(a&&o){var c=function(e,t){return gu("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:yu(e,Ul))}(i.padding,n),d=Tl(a),h="y"===l?Dl:Hl,p="y"===l?Fl:Bl,v=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],m=o[l]-n.rects.reference[l],f=Ml(a),_=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,g=v/2-m/2,y=c[h],b=_-d[u]-c[p],E=_/2-d[u]/2+g,w=wu(y,E,b),S=l;n.modifiersData[r]=((t={})[S]=w,t.centerOffset=w-E,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&vu(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ku(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Au(e){return[Dl,Bl,Fl,Hl].some((function(t){return e[t]>=0}))}const Pu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=bu(t,{elementContext:"reference"}),s=bu(t,{altBoundary:!0}),l=ku(o,r),u=ku(s,i,a),c=Au(l),d=Au(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}};var Iu=Xl({defaultModifiers:[eu,au,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,u={placement:tu(t.placement),variation:nu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,su(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,su(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},lu,uu,Eu,Su,Cu,Pu]}),Tu=n(9712),Ru=n.n(Tu),xu=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},Lu="undefined"!=typeof window&&window.document&&window.document.createElement?st.useLayoutEffect:st.useEffect,Ou=[],Nu="freyja_char-popper-portal__popperWrapper_LgNXT";const Mu="tooltip",Du={dropdown:200,tooltip:300},Fu={charPopperZIndexMap:Du,visibleTooltip:{},showTooltip:e=>{},hideTooltip:e=>{}},Bu=st.createContext(Fu),Hu=e=>{let{children:t,container:n}=e;const r=(0,st.useMemo)((()=>document.createElement("div")),[]);return(0,st.useEffect)((()=>{const e=n||document.body;return e.appendChild(r),()=>{e.removeChild(r)}}),[r,n]),(0,dl.createPortal)(t,r)},Vu=e=>{let{renderPopperElements:t,popperElements:n,isPopperShown:r,children:i,popperOptions:a,hidePopperOnHidingElement:o=!0,popperKey:s,customPopperZIndex:l,anchorRef:u,anchorElement:c,portal:d=!0,portalContainer:h,instanceRef:p}=e;const[v,m]=(0,st.useState)(null),f=function(e,t,n){void 0===n&&(n={});var r=st.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Ou},a=st.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=a[0],s=a[1],l=st.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);dl.flushSync((function(){s({styles:xu(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:xu(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),u=st.useMemo((function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[l,{name:"applyStyles",enabled:!1}])};return Ru()(r.current,e)?r.current||e:(r.current=e,e)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,l]),c=st.useRef();return Lu((function(){c.current&&c.current.setOptions(u)}),[u]),Lu((function(){if(null!=e&&null!=t){var r=(n.createPopper||Iu)(e,t,u);return c.current=r,function(){r.destroy(),c.current=null}}}),[e,t,n.createPopper]),{state:c.current?c.current.state:null,styles:o.styles,attributes:o.attributes,update:c.current?c.current.update:null,forceUpdate:c.current?c.current.forceUpdate:null}}(c||(null==u?void 0:u.current),v,a),{styles:_,attributes:g}=f,{charPopperZIndexMap:y}=(0,st.useContext)(Bu);(0,st.useImperativeHandle)(p,(()=>f),[f]);const b=()=>{var e;return st.createElement("div",ll({className:cl()({[Nu]:o}),ref:m,style:Ft(Ft({},_.popper),{},{zIndex:null!=l?l:null==y?void 0:y[s]})},g.popper),!!n&&n,!!t&&t({placement:null===(e=f.state)||void 0===e?void 0:e.placement,styles:_,attributes:g}))};return st.createElement(st.Fragment,null,i,r&&(d?st.createElement(Hu,{container:h},b()):b()))},Uu=e=>{const t=e=>"object"==typeof window&&window.matchMedia(e).matches,[n,r]=(0,st.useState)(t(e));return(0,st.useEffect)((()=>{const n=()=>{r(t(e))};if(n(),"object"==typeof window)return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[e]),n},ju=()=>(0,st.useMemo)((()=>"ontouchstart"in window||navigator.maxTouchPoints>0),[]),Wu=()=>Uu("(max-width: 1023px)");function zu(e,t,n){st.useEffect((()=>{const r=r=>{!e.current||e.current.contains(r.target)||null!=n&&n(r)||t(r)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[e,t,n])}const $u="object"==typeof window?navigator.userAgent:"",Gu=(/iPhone|iPad|iPod/i.test($u)||/Macintosh/i.test($u)&&navigator.maxTouchPoints,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const n=(0,st.useRef)(),[r,i]=(0,st.useState)(e);(0,st.useEffect)((()=>()=>(null==n?void 0:n.current)&&clearTimeout(n.current)),[]);return[r,r=>(null!=n&&n.current&&clearTimeout(n.current),n.current=setTimeout((()=>i(e)),t),i(r))]});if(!st.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Ca)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Ku(e){e()}function qu(e){return Ji(e)}var Yu=!1;function Qu(){return Yu}var Zu,Xu,Ju=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,i){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(i))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),ec=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:Ju)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),tc=n(2583);function nc(e){e.reaction=new Ci("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function rc(e,t){if(void 0===t&&(t="observed"),Qu())return e();var n=st.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return ec.unregister(r),r.onStoreChange=e,r.reaction||(nc(r),r.stateVersion=Symbol()),function(){var e;r.onStoreChange=null,null===(e=r.reaction)||void 0===e||e.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i,a,o=n.current;if(o.reaction||(nc(o),ec.register(n,o,o)),st.useDebugValue(o.reaction,qu),(0,tc.useSyncExternalStore)(o.subscribe,o.getSnapshot,o.getSnapshot),o.reaction.track((function(){try{i=e()}catch(e){a=e}})),a)throw a;return i}var ic="function"==typeof Symbol&&Symbol.for,ac=null!==(Xu=null===(Zu=Object.getOwnPropertyDescriptor((function(){}),"name"))||void 0===Zu?void 0:Zu.configurable)&&void 0!==Xu&&Xu,oc=ic?Symbol.for("react.forward_ref"):"function"==typeof st.forwardRef&&(0,st.forwardRef)((function(e){return null})).$$typeof,sc=ic?Symbol.for("react.memo"):"function"==typeof st.memo&&(0,st.memo)((function(e){return null})).$$typeof;function lc(e,t){var n;if(sc&&e.$$typeof===sc)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Qu())return e;var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,a=e.displayName||e.name;if(oc&&e.$$typeof===oc&&(r=!0,"function"!=typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o,s,l=function(e,t){return rc((function(){return i(e,t)}),a)};return l.displayName=e.displayName,ac&&Object.defineProperty(l,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(l.contextTypes=e.contextTypes),r&&(l=(0,st.forwardRef)(l)),o=e,s=l=(0,st.memo)(l),Object.keys(o).forEach((function(e){cc[e]||Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(o,e))})),l}var uc,cc={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(function(e){e||(e=Ku),Zi({reactionScheduler:e})})(dl.unstable_batchedUpdates);uc=ec.finalizeAllImmediately;var dc="freyja_char-switch__wrapper_Ma1Wu",hc="freyja_char-switch__placement_RPDpt",pc="freyja_char-switch__placement_active_rjVKS",vc="freyja_char-switch__regular_WtF9R",mc="freyja_char-switch__small_tyxc1",fc="freyja_char-switch__switcher_ks1iH",_c="freyja_char-switch__switcher_regular_R4ZLN",gc="freyja_char-switch__switcher_small_qTBxI",yc="freyja_char-switch__switcher_active_0rVpL",bc="freyja_char-switch__switcher_active_small_7pKX-",Ec="freyja_char-switch__switcher_active_regular_yu2Ow",wc="freyja_char-switch__disabled_krTYT",Sc=function(e){return e.SMALL="small",e.REGULAR="regular",e}(Sc||{});const Cc=e=>{const{isActive:t,onChange:n=()=>{},disabled:r,size:i=Sc.REGULAR,classNames:a={}}=e;return st.createElement("div",{className:cl()(dc,a.wrapper),onClick:e=>{e.stopPropagation(),r||n(!t)}},st.createElement("div",{className:cl()(hc,{[mc]:i===Sc.SMALL,[vc]:i===Sc.REGULAR},{[pc]:t,[wc]:r},a.placement)},st.createElement("div",{className:cl()(fc,{[_c]:i===Sc.REGULAR,[gc]:i===Sc.SMALL},{[yc]:t},{[Ec]:t&&i===Sc.REGULAR,[bc]:t&&i===Sc.SMALL},a.switcher)})))},kc="menu-item-module__menuItem___ligi6",Ac=e=>{let{name:t,Icon:n,onClick:r,className:i,reportMessage:a,isActive:o,onChange:s}=e;return st.createElement("div",{className:cl()(kc,i),onClick:r,tabIndex:0,"aria-label":t,"data-reportMessage":a},st.createElement(n,{color:"var(--pen-secondary50)"}),t,s&&st.createElement(Cc,{isActive:Boolean(o),onChange:s,size:Sc.SMALL}))},Pc={resolve:()=>{throw new Error("do not use empty context")},resolveOptional:()=>{throw new Error("do not use empty context")}},Ic=(0,st.createContext)(Pc),Tc=()=>(0,st.useContext)(Ic),Rc=e=>Tc().resolve(e),xc=e=>Tc().resolveOptional(e),Lc=()=>Tc().resolve("IContextMenuPlugin");let Oc=function(e){return e.claim="claim",e.copyTechInfo="copyTechInfo",e.copyLink="copyLink",e.copyLinkAtTime="copyLinkAtTime",e.copyCode="copyCode",e.toggleTechInfo="toggleTechInfo",e.replay="replay",e.reportError="reportError",e.repeatVideo="repeatVideo",e}({}),Nc=function(e){return e.CopyLink="Скопировать ссылку на видео",e.LoopVideo="Зациклить видео",e.CopyLinkAtTime="Скопировать с привязкой ко времени",e.CopyTag="Скопировать код для вставки плеера",e.Replay="Начать с начала",e.ReportError="Сообщить о проблеме",e.Claim="Пожаловаться на видео",e.More="Ещё",e.Info="Техническая информация",e.HotkeysManual="Жесты и горячие клавиши",e}({});const Mc=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M17.6569 17.6569L6.34315 6.34315M17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315L17.6569 17.6569ZM17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20C9.87827 20 7.84344 19.1571 6.34315 17.6569C4.84285 16.1566 4 14.1217 4 12C4 9.87827 4.84285 7.84344 6.34315 6.34315L17.6569 17.6569Z",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},Dc=lc((e=>{let{onClick:t,className:n,reportMessage:r}=e;const{extraActions:i}=Lc();return st.createElement(Ac,{name:Nc.Claim,Icon:Mc,reportMessage:r,onClick:e=>{i.claim(),t(e)},className:n})})),Fc=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5421 4.55056C14.3301 3.78954 15.3854 3.36845 16.4808 3.37797C17.5762 3.38748 18.624 3.82686 19.3986 4.60145C20.1732 5.37604 20.6126 6.42388 20.6221 7.51928C20.6316 8.61468 20.2105 9.67 19.4495 10.4579L19.442 10.4657L15.8864 14.0212C15.1029 14.8044 14.0404 15.2445 12.9326 15.2445C11.8248 15.2445 10.7624 14.8045 9.97892 14.0213C9.73589 13.7783 9.73583 13.3843 9.97879 13.1413C10.2217 12.8983 10.6157 12.8982 10.8587 13.1412C11.4088 13.6911 12.1548 14 12.9326 14C13.7104 14 14.4563 13.6911 15.0064 13.1412C15.0064 13.1412 15.0064 13.1413 15.0064 13.1412L18.558 9.58968C19.09 9.03685 19.3844 8.29748 19.3777 7.5301C19.371 6.76099 19.0625 6.02527 18.5187 5.48141C17.9748 4.93754 17.2391 4.62905 16.47 4.62236C15.7026 4.61569 14.9632 4.91003 14.4104 5.4421L13.4366 6.41587C13.1936 6.65886 12.7996 6.65886 12.5566 6.41587C12.3136 6.17288 12.3136 5.77891 12.5566 5.53592L13.5421 4.55056ZM8.20114 9.89141C8.98459 9.10819 10.047 8.66821 11.1548 8.66821C12.2626 8.66821 13.3251 9.10819 14.1085 9.89141C14.3516 10.1344 14.3516 10.5283 14.1087 10.7714C13.8657 11.0144 13.4717 11.0145 13.2287 10.7715C12.6786 10.2216 11.9326 9.91265 11.1548 9.91265C10.377 9.91265 9.63111 10.2216 9.08103 10.7714C9.08101 10.7714 9.08105 10.7714 9.08103 10.7714L5.51783 14.3346C5.23767 14.6052 5.01413 14.9288 4.8604 15.2867C4.70667 15.6446 4.62575 16.0295 4.62236 16.419C4.61898 16.8085 4.6932 17.1947 4.84069 17.5552C4.98818 17.9157 5.20599 18.2432 5.48141 18.5187C5.75682 18.7941 6.08434 19.0119 6.44483 19.1594C6.80533 19.3069 7.19159 19.3811 7.58107 19.3777C7.97056 19.3743 8.35547 19.2934 8.71335 19.1397C9.07123 18.9859 9.39491 18.7625 9.6655 18.4823L9.67321 18.4743L10.6528 17.4957C10.8959 17.2528 11.2899 17.253 11.5328 17.4961C11.7757 17.7392 11.7755 18.1332 11.5324 18.3761L10.5566 19.351C10.172 19.748 9.71247 20.0649 9.20452 20.2831C8.69482 20.502 8.14661 20.6173 7.59189 20.6221C7.03717 20.6269 6.48704 20.5212 5.9736 20.3111C5.46017 20.1011 4.99371 19.7909 4.60145 19.3986C4.20919 19.0063 3.89897 18.5399 3.68891 18.0265C3.47885 17.513 3.37315 16.9629 3.37797 16.4082C3.38279 15.8534 3.49803 15.3052 3.71699 14.7955C3.9352 14.2876 4.25205 13.828 4.64917 13.4434L8.20114 9.89141Z",fill:t}))},Bc=lc((e=>{let{onClick:t,reportMessage:n}=e;const{extraActions:r}=Lc();return st.createElement(Ac,{name:Nc.CopyLink,Icon:Fc,reportMessage:n,onClick:e=>{r.copyLink(),t(e)}})})),Hc=lc((e=>{let{onClick:t,className:n,reportMessage:r}=e;const{extraActions:i}=Lc();return st.createElement(Ac,{name:Nc.CopyLinkAtTime,Icon:Fc,reportMessage:r,onClick:e=>{t(e),i.copyLinkAtTime()},className:n})})),Vc=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M8 7L3 12L8 17",stroke:t,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M16 7L21 12L16 17",stroke:t,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}))},Uc=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.29808 2.39908C7.63 2.31006 7.97123 2.50697 8.06025 2.83888L8.76017 5.44865C8.84919 5.78056 8.65228 6.12179 8.32036 6.21081C7.98845 6.29983 7.64722 6.10292 7.5582 5.77101L6.85828 3.16124C6.76926 2.82933 6.96617 2.4881 7.29808 2.39908ZM13.9904 4.19151C14.2334 4.4345 14.2334 4.82847 13.9905 5.07147L12.079 6.98307C11.836 7.22607 11.442 7.22608 11.199 6.9831C10.956 6.74011 10.956 6.34614 11.199 6.10314L13.1105 4.19154C13.3535 3.94854 13.7474 3.94853 13.9904 4.19151ZM2.39931 7.29723C2.48831 6.96531 2.82953 6.76838 3.16145 6.85738L5.77197 7.55734C6.10389 7.64634 6.30081 7.98756 6.21182 8.31948C6.12282 8.65139 5.7816 8.84832 5.44968 8.75932L2.83916 8.05936C2.50724 7.97037 2.31032 7.62914 2.39931 7.29723ZM8.65154 8.65072C8.82249 8.47979 9.07697 8.42333 9.30416 8.50595L19.213 12.1094C19.4555 12.1975 19.6184 12.4262 19.6224 12.6842C19.6265 12.9422 19.471 13.176 19.2314 13.2718L15.6035 14.7231L19.4403 18.5601C19.6833 18.8031 19.6833 19.1971 19.4403 19.4401C19.1973 19.683 18.8033 19.683 18.5603 19.44L14.7236 15.6031L13.2724 19.2311C13.1766 19.4707 12.9428 19.6263 12.6848 19.6222C12.4268 19.6181 12.1981 19.4552 12.1099 19.2127L8.50675 9.30334C8.42414 9.07614 8.4806 8.82166 8.65154 8.65072ZM14.278 13.913C14.1972 13.9432 14.1213 13.9908 14.0563 14.0558C13.9913 14.1208 13.9437 14.1967 13.9135 14.2775L12.7224 17.2554L10.1319 10.1311L17.2558 12.7218L14.278 13.913ZM6.98291 11.1981C7.22602 11.441 7.22622 11.835 6.98335 12.0781L5.07365 13.9897C4.83078 14.2328 4.43681 14.233 4.1937 13.9901C3.95058 13.7472 3.95039 13.3533 4.19326 13.1102L6.10295 11.1986C6.34582 10.9554 6.73979 10.9552 6.98291 11.1981Z",fill:t}))};const jc=new class{constructor(e){this.externalUserAgent=e}get userAgent(){return this.externalUserAgent?this.externalUserAgent:"object"==typeof window?navigator.userAgent:""}get isAndroid(){return/Android/i.test(this.userAgent)}get isBlackBerry(){return/BlackBerry/i.test(this.userAgent)}get isiOSMobile(){const e="object"==typeof window&&navigator.maxTouchPoints>2;return/iPhone|iPad|iPod/i.test(this.userAgent)||/Macintosh/i.test(this.userAgent)&&e}get isOperaMini(){return/Opera Mini/i.test(this.userAgent)}get isHarmony(){return/HarmonyOS|Harmony|Huawei|HUAWEI|HuaweiBrowser|haowangzhi/i.test(this.userAgent)}get isFirefox(){return/Firefox/i.test(this.userAgent)}get isMobile(){return this.isAndroid||this.isBlackBerry||this.isiOSMobile||this.isHarmony||this.isOperaMini}},Wc=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.62225C7.9254 4.62225 4.62225 7.9254 4.62225 12C4.62225 16.0747 7.9254 19.3778 12 19.3778C16.0747 19.3778 19.3778 16.0747 19.3778 12C19.3778 7.9254 16.0747 4.62225 12 4.62225ZM3.37781 12C3.37781 7.23811 7.23811 3.37781 12 3.37781C16.762 3.37781 20.6223 7.23811 20.6223 12C20.6223 16.762 16.762 20.6223 12 20.6223C7.23811 20.6223 3.37781 16.762 3.37781 12ZM12 11.3778C12.3437 11.3778 12.6223 11.6564 12.6223 12V16C12.6223 16.3437 12.3437 16.6223 12 16.6223C11.6564 16.6223 11.3778 16.3437 11.3778 16V12C11.3778 11.6564 11.6564 11.3778 12 11.3778ZM12 7.37781C11.6564 7.37781 11.3778 7.65639 11.3778 8.00003C11.3778 8.34367 11.6564 8.62225 12 8.62225H12.01C12.3537 8.62225 12.6323 8.34367 12.6323 8.00003C12.6323 7.65639 12.3537 7.37781 12.01 7.37781H12Z",fill:t}))},zc=lc((e=>{let{onClick:t,className:n,reportMessage:r}=e;const{extraActions:i}=Lc();return st.createElement(Ac,{name:Nc.Info,reportMessage:r,Icon:Wc,onClick:e=>{t(e),jc.isMobile?i.copyTechInfo():i.toggleTechInfo()},className:n})})),$c=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.1158 3.44951C11.1659 3.20525 9.18635 3.58989 7.48147 4.54608C6.2129 5.25757 5.14773 6.25681 4.37237 7.45145V5.00015C4.37237 4.65651 4.0938 4.37793 3.75015 4.37793C3.40651 4.37793 3.12793 4.65651 3.12793 5.00015V9.00015C3.12793 9.34379 3.40651 9.62237 3.75015 9.62237H7.75015C8.0938 9.62237 8.37237 9.34379 8.37237 9.00015C8.37237 8.65651 8.0938 8.37793 7.75015 8.37793H5.26152C5.93552 7.24418 6.90832 6.29435 8.09022 5.63147C9.56143 4.80633 11.2732 4.47286 12.9611 4.6843C14.649 4.89574 16.2156 5.63978 17.4206 6.79827C18.6253 7.95647 19.4017 9.46431 19.6342 11.0883C19.6829 11.4285 19.9981 11.6648 20.3383 11.6161C20.6785 11.5674 20.9148 11.2522 20.8661 10.912C20.5937 9.0089 19.6847 7.24864 18.2831 5.90117C16.8818 4.55398 15.0658 3.69378 13.1158 3.44951ZM4.16739 12.3835C4.50798 12.3377 4.82114 12.5768 4.86685 12.9174C5.08605 14.5508 5.8174 16.0608 6.94404 17.2162C8.07034 18.3712 9.52884 19.1076 11.0935 19.3167C12.658 19.5257 14.2468 19.1967 15.616 18.3776C16.7214 17.7163 17.6352 16.7644 18.2683 15.6224H15.7502C15.4065 15.6224 15.1279 15.3438 15.1279 15.0002C15.1279 14.6565 15.4065 14.3779 15.7502 14.3779H19.7502C20.0938 14.3779 20.3724 14.6565 20.3724 15.0002V19.0002C20.3724 19.3438 20.0938 19.6224 19.7502 19.6224C19.4065 19.6224 19.1279 19.3438 19.1279 19.0002V16.6145C18.4059 17.7727 17.424 18.7461 16.2549 19.4455C14.6465 20.4077 12.7747 20.7968 10.9287 20.5501C9.0829 20.3035 7.3702 19.4357 6.05309 18.085C4.73632 16.7347 3.8876 14.9766 3.63346 13.0829C3.58775 12.7423 3.8268 12.4292 4.16739 12.3835Z",fill:t}))},Gc=lc((e=>{let{onClick:t,className:n,reportMessage:r}=e;const{extraActions:i}=Lc();return st.createElement(Ac,{name:Nc.LoopVideo,Icon:$c,reportMessage:r,onClick:e=>{t(e),i.loopVideo()},className:n,isActive:i.isLooping,onChange:()=>i.loopVideo()})})),Kc=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24","data-testid":"replay-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.803 11.062a8 8 0 1 1 3.429 7.541c-.334-.228-.376-.693-.118-1.005.258-.312.719-.352 1.057-.13a6.534 6.534 0 1 0-2.926-6.104l.591-.454a.75.75 0 0 1 .913 1.19l-1.946 1.495a.75.75 0 0 1-1.052-.138l-1.596-2.079a.75.75 0 0 1 1.19-.914l.458.598Z",fill:t}))},qc=lc((e=>{let{onClick:t,className:n,reportMessage:r}=e;const{extraActions:i}=Lc();return st.createElement(Ac,{name:Nc.Replay,reportMessage:r,Icon:Kc,onClick:e=>{t(e),i.replay()},className:n})})),Yc=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M18.7694 5.17722C18.7124 5.1312 17.3501 4.05054 15.1974 4.05054C14.0795 4.05054 12.958 4.57908 11.8734 5.09022C10.8681 5.56399 9.91858 6.01149 9.07851 6.01149C7.78142 6.01149 6.70641 5.52985 6.24173 5.28367V4.05584H5V19.9494H6.2417V14.7142C6.92048 15.0084 7.91904 15.3242 9.07848 15.3242C10.1981 15.3242 11.3203 14.7884 12.4056 14.2702C13.4102 13.7905 14.3591 13.3375 15.1974 13.3375C16.8672 13.3375 17.9474 14.1562 17.9903 14.1894L19 15.023V5.3636L18.7694 5.17722ZM17.7583 12.637C17.1421 12.3628 16.2675 12.0958 15.1974 12.0958C14.0779 12.0958 12.9557 12.6316 11.8705 13.1497C10.8658 13.6294 9.91684 14.0825 9.07845 14.0825C7.80745 14.0825 6.74955 13.6063 6.27271 13.3503V6.6708C6.94982 6.95382 7.9361 7.25319 9.07845 7.25319C10.1965 7.25319 11.318 6.72464 12.4027 6.21344C13.4079 5.7397 14.3574 5.29223 15.1974 5.29223C16.4371 5.29223 17.3518 5.74352 17.7583 5.98957V12.637H17.7583Z",fill:t}))},Qc=[{Component:qc,forSeekableOnly:!0,forEmbedOnly:!1,reportMessage:"replay"},{Component:Gc,forSeekableOnly:!0,forWebOnly:!0,forEmbedOnly:!1,forNotLive:!0,reportMessage:"replayVideo"},{Component:Bc,forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"copy-link"},{Component:Hc,forSeekableOnly:!0,forEmbedOnly:!1,forNotInteractive:!0,reportMessage:"copy-link-at-time"},{Component:e=>{let{onClick:t,className:n,reportMessage:r}=e;const{extraActions:i}=Lc();return st.createElement(Ac,{name:Nc.CopyTag,Icon:Vc,reportMessage:r,onClick:e=>{t(e),i.copyTag()},className:n})},forSeekableOnly:!1,forEmbedOnly:!1,forNotInteractive:!0,reportMessage:"copy-tag"},{Component:Dc,forSeekableOnly:!1,forEmbedOnly:!0,reportMessage:"claim"},{Component:e=>{let{onClick:t,reportMessage:n}=e;const{extraActions:r}=Lc();return st.createElement(Ac,{name:Nc.HotkeysManual,Icon:Uc,reportMessage:n,onClick:e=>{t(e),r.hotkeysManual()}})},forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"hotkeys-manual"},{Component:zc,forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"copy-info"},{Component:e=>{let{onClick:t,className:n,reportMessage:r}=e;const{extraActions:i}=Lc();return st.createElement(Ac,{name:Nc.ReportError,Icon:Yc,reportMessage:r,onClick:e=>{t(e),i.reportError()},className:n})},forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"report-error"}],Zc="context-menu-module__menu___Umjcn",Xc=st.createContext(null),Jc=()=>(0,st.useContext)(Xc),ed=e=>{let{children:t,boundary:n}=e;const[r,i]=(0,st.useState)(null);return(0,st.useEffect)((()=>{i(n)}),[n]),st.createElement(Xc.Provider,{value:r},t)},td=e=>{let{targetRef:t,handler:n}=e;return zu(t,n),null},nd=lc((e=>{const t=(0,st.useRef)(null),n=Jc(),{hiddenItems:r}=e,[i,a]=(0,st.useState)(),{isSeekable:o,playerMode:s,playerWrapperElement:l,onClick:u,isEmbed:c,isLive:d,isOpen:h}=Lc(),p=Lc(),v=(0,st.useCallback)((e=>{let{forSeekableOnly:t,forEmbedOnly:n,forWebOnly:i,forNotLive:a,reportMessage:s}=e;return(o||!t)&&(c||!n)&&(!c||!i)&&(!d||!a)&&(!r||0===r.length||-1===r.indexOf(s))}),[o,c,d,r]),m=Qc.filter(v),f=(0,st.useCallback)((e=>{e.preventDefault(),p.isOpen=!1}),[p]);return(0,st.useEffect)((()=>{if(!l)return;const e=e=>{if(e.preventDefault(),"pointerType"in e&&"touch"===(null==e?void 0:e.pointerType))return;const{clientX:t,clientY:n}=e,r=e.target.getBoundingClientRect(),i=r.y,o=r.x;p.isOpen=!0;a({getBoundingClientRect:()=>{const r=e.target.getBoundingClientRect();return new DOMRect(t+r.x-o,n+r.y-i)}})};return l.addEventListener("contextmenu",e),()=>{l.removeEventListener("contextmenu",e)}}),[p,l]),(0,st.useEffect)((()=>{h&&(p.isOpen=!1)}),[s]),st.createElement(Vu,{anchorElement:i,hidePopperOnHidingElement:!1,isPopperShown:h,popperOptions:{placement:"auto-start",modifiers:[{name:"preventOverflow",options:{boundary:n,altAxis:!0}}]},portal:!1,popperKey:Mu,customPopperZIndex:999,renderPopperElements:()=>st.createElement("div",{ref:t,className:Zc},m.map((e=>{let{Component:t,reportMessage:n}=e;return st.createElement(t,{key:n,reportMessage:n,onClick:u,isEmbed:c})})))},h&&st.createElement(td,{targetRef:t,handler:f}))})),rd=st.memo((e=>{let{hiddenItems:t}=e;return st.createElement(nd,{hiddenItems:t})}));var id,ad;let od,sd,ld;var ud;let cd,dd,hd;new(ad=class extends Oo{constructor(e,t,n,r,i,a){var o;super(),this.__isOpen=Mr.box(!1),this.__counterHelper=void 0,this.__dataPlugin=void 0,this.__videoLayout=void 0,this.__playback=void 0,this.__isEmbed=void 0,this.extraActions=r,this.__dataPlugin=e,this.__videoLayout=t,this.__playback=i,this.__counterHelper=n instanceof sl?n.counterHelper:void 0,this.__isEmbed=null!==(o=null==a?void 0:a.value)&&void 0!==o&&o,this.sendStat=this.sendStat.bind(this),this.onClick=this.onClick.bind(this),Ca(this,{isOpen:Hr})}get isSeekable(){return!this.__dataPlugin.isLive||this.__dataPlugin.isDVR&&!this.__dataPlugin.isTVStream}get playerMode(){return this.__videoLayout.playerMode}get isOpen(){return this.__isOpen.get()}set isOpen(e){this.__isOpen.set(e)}sendStat(e){var t;null===(t=this.__counterHelper)||void 0===t||t.get("mainContextMenuItemClick")({clickedItemTitle:e})}onClick(e){const t=e.currentTarget&&e.currentTarget.getAttribute("data-reportmessage")||"";this.isOpen=!1,"replayVideo"!==t?this.sendStat(t):this.sendStat(this.isLooping?"replay_video_off":"replay_video_on")}get playerWrapperElement(){return this.__videoLayout.wrapperRef}get isLive(){return this.__dataPlugin.isLive}get isLooping(){return this.__playback.isLooping}get isEmbed(){return this.__isEmbed}},[ld,od]=en(ad,[To({implement:"IContextMenuPlugin",ctor_args:["IDataPlugin","IVideoLayoutPlugin","IStatisticState","IExtraActionsPlugin","IPlayback",{implement:"IsEmbed",optional:!0}]})],[],0,void 0,Oo).c,sd=ad,(id=class extends jo{constructor(){super(ld),this.ContextMenu=rd,od()}})[sd]=void 0,id);ud=class extends Oo{constructor(e){super(),this._node=(cd(this),Mr.box(null)),this._isConnected=Mr.box(!1),this._observer=null,this._config=e,Ca(this,{node:Hr,isConnected:Hr})}get node(){return this._node.get()}set node(e){this._node.set(e)}get isConnected(){return this._isConnected.get()}set isConnected(e){this._isConnected.set(e)}checkConnectedToDOM(){if(!this.node)return void(this.isConnected=!1);(this.node.isConnected||document.body.contains(this.node))&&(this.isConnected=!0,this.disconnectObserver())}initObserver(){this._observer=new MutationObserver((()=>this.checkConnectedToDOM())),document.body&&this._observer.observe(document.body,{childList:!0,subtree:!0})}disconnectObserver(){this._observer&&(this._observer.disconnect(),this._observer=null)}init(){const e=$i((()=>this.node),(e=>{if(this.disconnectObserver(),e){if(e.isConnected||document.body.contains(e))return void(this.isConnected=!0);this.initObserver()}}));return()=>{this.disconnectObserver(),e()}}resetObserver(){return $i((()=>this._config.get("videoId")),(()=>{this.disconnectObserver(),this.isConnected=!1,this.node&&this.initObserver()}))}},({e:[cd],c:[hd,dd]}=en(ud,[To({implement:"IDomNodeTrackerPlugin",ctor_args:["IPlayerConfigPlugin"]})],[[Lo(),2,"init"],[Lo(),2,"resetObserver"]],0,void 0,Oo)),dd();n(4992);const pd=e=>{const{videoId:t,type:n,channelId:r}=e,i="video"===n?`video/${t}`:`channel/${r}`,a=((e,t)=>{const n=new URLSearchParams(Ft({utm_source:"embed",utm_medium:"referral",utm_campaign:e.utm_campaign,utm_content:e.utm_content},Object.fromEntries(Object.entries({utm_term:e.utm_term,t:"channel"!==e.type?e.t:void 0,p:e.p}).filter((e=>{let[,t]=e;return void 0!==t})))));if(jc.isMobile){const r=Ft(Ft(Ft(Ft(Ft(Ft(Ft({},e.hostname&&{hostname:e.hostname}),e.userId&&{user_id:e.userId}),e.dist&&{dist:e.dist}),e.appmetrica_tracking_id&&{appmetrica_tracking_id:e.appmetrica_tracking_id}),t.includes("channel")&&e.channelId&&{channel_id:e.channelId}),tl()&&{client_id:tl()}),at()&&{cid:at()});Object.entries(r).forEach((e=>{let[t,r]=e;r&&n.set(t,r)}))}return n})(e,i);return`${jc.isMobile?`https://1164705.redirect.appmetrica.yandex.com/${i}`:`https://rutube.ru/${i}`}/?${a.toString()}`};function vd(e){return{r:"emw"+(e?"m":"d")}}function md(){try{var e;if(null!==(e=window)&&void 0!==e&&null!==(e=e.location)&&void 0!==e&&e.ancestorOrigins)return[...window.location.ancestorOrigins]}catch(e){console.warn("ancestorOrigins is not available")}return[]}const fd=e=>(null==e?void 0:e.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0])||"";function _d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectLastOrigin:!1};const{selectLastOrigin:t}=e;if("object"!=typeof window)return"";const{location:n}=window;{const e=md(),n=e.length?function(e,t){return t?e[e.length-1]:e[0]}(e,t):document.referrer;return n&&"null"!==n?n:""}}function gd(){return encodeURIComponent(_d())}function yd(e){const t=e.match(/\.([^./?#]+)($|\?|#)/);return null!=t&&t.length?t[1]:null}const bd=e=>new URL(e,window.location.href).origin;var Ed;let wd,Sd;Ed=class extends Oo{constructor(e,t){super(),this._data=void 0,this.data=e,this.playback=t,this._data=e,this.generateTrackingLink=this.generateTrackingLink.bind(this)}generateTrackingLink(e){var t;let{campaign:n,type:r="video",id:i}=e;const a=String(this._data.video_id);return`${pd(Ft(Ft({},this._data.viewer&&{userId:String(this._data.viewer)}),{},{p:Rt(window.location.href).p,channelId:String(null===(t=this._data.author)||void 0===t?void 0:t.id),videoId:i||a,hostname:fd(_d()),type:r,dist:this.getUtmTerm(!0),appmetrica_tracking_id:this.getAppmetricaTrackingId(n),utm_campaign:n,utm_content:a,utm_term:this.getUtmTerm(),t:String(Math.round(this.playback.currentTime))}))}${jc.isMobile?`&id=${i||a}`:""}`}getUtmTerm(e){const{dist:t}=Rt(window.location.href,!0,"dist");return e?t||"":`${fd(_d())}${t?`_${t}`:""}`}getAppmetricaTrackingId(e){return{logo:"1037600761300671389",main_logo:"1037600761300671389",title:"1109935222251589310",pausescreen:"245396394041434729",endscreen:"1109935224885674290",subscribe:"29071315776328984",channel:"605532070562855472",channel_left:"1110017734780921159",serial:"245244101715316941",time_tags:"173267859139527576"}[e]}},[Sd,wd]=en(Ed,[To({implement:"ITrackingLinksPlugin",ctor_args:["IDataPlugin","IPlayback"]})],[],0,void 0,Oo).c,wd();const Cd=function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"em":"";return{r:jc.isMobile?`pl${e}wm`:`pl${e}wd`}};class kd{constructor(){this.events=void 0,this.events={}}emit(e,t){const n=this.events[e]&&this.events[e].slice();if(n&&n.length)for(let e=0;e<n.length;e+=1)n[e](t)}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}once(e,t){let n=!1;const r=i=>{n||(n=!0,this.off(e,r),t(i))};return this.on(e,r)}off(e,t){const n=this.events[e];if(n){const r=n.indexOf(t);r>-1&&n.splice(r,1),n.length<1&&delete this.events[e]}}}function Ad(e){try{return window.navigator.clipboard.writeText(e)}catch(t){return new Promise((t=>t(((e,t)=>{const n=document.createElement("textarea");if(n.value=e,n.style.position="absolute",n.style.left="-9999px",n.setAttribute("readonly",""),document.body.appendChild(n),t){const t=document.createRange();t.selectNodeContents(n);const r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(t),n.setSelectionRange(0,e.length))}else n.select();try{return document.execCommand("copy")}catch(e){return!1}finally{document.body.removeChild(n)}})(e,!0))))}}var Pd;let Id,Td;Pd=class extends Oo{constructor(e,t,n){var r;super(),this.__eventEmitter=void 0,this.__dataPlugin=void 0,this.__isEmbed=void 0,this.__playback=void 0,this.__dataPlugin=e,this.__playback=t,this.__isEmbed=null!==(r=null==n?void 0:n.value)&&void 0!==r&&r,this.__eventEmitter=new kd,this.seekToStart=this.seekToStart.bind(this),this.emit=this.emit.bind(this),this.claim=this.claim.bind(this),this.copyTechInfo=this.copyTechInfo.bind(this),this.copyLink=this.copyLink.bind(this),this.copyLinkAtTime=this.copyLinkAtTime.bind(this),this.copyTag=this.copyTag.bind(this),this.hotkeysManual=this.hotkeysManual.bind(this),this.toggleTechInfo=this.toggleTechInfo.bind(this),this.replay=this.replay.bind(this),this.reportError=this.reportError.bind(this),this.loopVideo=this.loopVideo.bind(this)}seekToStart(){this.__playback.isPlaying||this.__playback.play(),this.__playback.progress<100&&this.__playback.seek(0)}emit(e,t){return this.__eventEmitter.emit(e,t)}on(e,t){return this.__eventEmitter.on(e,t),()=>this.off(e,t)}off(e,t){this.__eventEmitter.off(e,t)}get videoUrl(){var e;return(null===(e=this.__dataPlugin.data)||void 0===e?void 0:e.video_url)||""}get duration(){return this.__playback.duration}get progress(){return this.__playback.progress}get videoId(){var e;return(null===(e=this.__dataPlugin.data)||void 0===e?void 0:e.video_id)||""}get isLooping(){return this.__playback.isLooping}claim(){const e=encodeURIComponent(this.videoUrl||""),t=`https://rutube.ru/forms/invalid-content/?id=${this.videoUrl}&content_type=video&video_link=${e}`;this.emit(Oc.claim,null);const n=window.open(t,"_blank");n&&n.focus()}loopVideo(){this.emit(Oc.repeatVideo,null),this.__playback.isLooping=!this.__playback.isLooping}copyTechInfo(){this.emit(Oc.copyTechInfo,null)}copyLink(){if(this.emit(Oc.copyLink,null),this.videoUrl){const e=Cd(this.__isEmbed),t=xt(e);Ad(`${this.videoUrl}?${t.toString()}`).catch((e=>console.error(e)))}}copyLinkAtTime(){const e=Cd(this.__isEmbed);if(this.emit(Oc.copyLinkAtTime,null),this.videoUrl){const t=this.progress&&this.duration?Math.round(this.duration*this.progress/100):0,n=new URL(this.videoUrl);Object.entries(Ft({t:t},e)).forEach((e=>{let[t,r]=e;return void 0!==r&&n.searchParams.append(t,r)})),Ad(n.toString()).catch((e=>console.error(e)))}}copyTag(){this.emit(Oc.copyCode,null);Ad(((e,t)=>{var n;const r=new URL(t||"",window.location.origin),i=r.origin,a=null===(n=r.searchParams)||void 0===n?void 0:n.get("p");return`\n      <iframe\n        width="720"\n        height="405"\n        src="${i}/play/embed/${e}${a?`/?p=${encodeURIComponent(a)}`:""}"\n        frameBorder="0"\n        allow="clipboard-write; autoplay"\n        allowFullScreen\n      ></iframe>\n    `})(this.videoId,this.videoUrl)).catch((e=>console.error(e)))}hotkeysManual(){const e=window.open("https://rutube.ru/info/hotkeys","_blank");e&&e.focus()}toggleTechInfo(){this.emit(Oc.toggleTechInfo,null)}replay(){this.emit(Oc.replay,null),this.seekToStart()}reportError(){this.emit(Oc.reportError,null);const e=window.open("https://rutube.ru/forms/problem/","_blank");e&&e.focus()}},[Td,Id]=en(Pd,[To({implement:"IExtraActionsPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"IsEmbed",optional:!0}]})],[],0,void 0,Oo).c,Id();let Rd=function(e){return e.seek="seek",e.mute="mute",e.defaultForwardSeek="defaultForwardSeek",e.defaultBackwardSeek="defaultBackwardSeek",e.volumeChange="volumeChange",e.playbackRate="playbackRate",e.error="error",e.toggleFramelessMode="toggleFramelessMode",e}({}),xd=function(e){return e.seekForward="seekForward",e.seekBackward="seekBackward",e.mute="mute",e.unmute="unmute",e.volumeUp="volumeUp",e.volumeDown="volumeDown",e.subtitles="subtitles",e.nextTimeMark="nextTimeMark",e.previousTimeMark="previousTimeMark",e.percentRewind="percentRewind",e.playbackRate="playbackRate",e}({});const Ld=()=>Tc().resolve("IInfoLayerPlugin"),Od="info-layer-icon-module__notButton___xT03g",Nd="info-layer-icon-module__withBg___E1P0L",Md="info-layer-icon-module__withBgBig___yEf3i",Dd=(0,st.forwardRef)(((e,t)=>{let{icon:n,color:r,big:i,wrapperClassName:a,className:o,style:s,children:l}=e;return st.createElement("div",{ref:t,className:cl()(Nd,a,{[Md]:i})},st.createElement("div",{className:cl()(Od,o),style:Ft({background:"transparent"},s||{})},n?st.createElement(n,{color:r}):l))})),Fd=e=>{let{color:t="white"}=e;return st.createElement("svg",{"data-testid":"play-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M8 5v14l10-7L8 5Z",fill:t,stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},Bd=e=>{let{color:t="white"}=e;return st.createElement("svg",{"data-testid":"pause-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("rect",{x:"15",y:"5",width:"2",height:"14",rx:".5",fill:t}),st.createElement("rect",{x:"7",y:"5",width:"2",height:"14",rx:".5",fill:t}))},Hd=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fill:t,d:"M6 6h12v12H6z"}))},Vd=e=>{let{color:t="white"}=e;return st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},st.createElement("path",{fill:t,fillRule:"evenodd",d:"m13.93 5.93-1.76 1.76a.1.1 0 0 1-.17-.07V4.1c0-.09.1-.13.17-.07l1.76 1.76a.1.1 0 0 1 0 .14Zm1.7.63c.2-.35.66-.47.99-.24A8 8 0 1 1 12 4.86v1.46a6.54 6.54 0 1 0 3.88 1.28.8.8 0 0 1-.25-1.04Zm-6.11 9.3h1.2v-5.71h-.99L7.9 11.6l.59.73.65-.53a7.71 7.71 0 0 0 .42-.4 43.12 43.12 0 0 0-.03 1.14v3.3Zm6.65-1.62a6.29 6.29 0 0 0-.1-2.82 2.03 2.03 0 0 0-.66-1.01c-.3-.24-.67-.35-1.13-.35-.49 0-.88.11-1.17.35-.29.23-.5.57-.63 1.01-.13.44-.2.97-.2 1.58 0 .61.08 1.14.22 1.58.14.44.36.77.65 1 .3.24.67.36 1.13.36a2 2 0 0 0 .93-.2c.26-.14.46-.33.62-.58.16-.25.27-.56.34-.92Zm-2.61-.15c-.05-.29-.07-.65-.07-1.09 0-.43.02-.8.07-1.09.05-.29.13-.5.24-.65a.57.57 0 0 1 .48-.23c.2 0 .36.08.47.23.12.14.2.36.25.65.05.3.08.66.08 1.1 0 .43-.03.8-.08 1.09-.05.29-.13.5-.25.65a.57.57 0 0 1-.47.21.57.57 0 0 1-.48-.22c-.11-.14-.2-.36-.24-.65Z",clipRule:"evenodd"}))},Ud=e=>{let{color:t="white"}=e;return st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},st.createElement("path",{fill:t,fillRule:"evenodd",d:"m10.07 5.93 1.76 1.76a.1.1 0 0 0 .17-.07v-1.3A6.54 6.54 0 1 1 8.12 7.6a.8.8 0 0 0 .25-1.04.68.68 0 0 0-.99-.24A8 8 0 1 0 12 4.86V4.1a.1.1 0 0 0-.17-.07l-1.76 1.76a.1.1 0 0 0 0 .14Zm-.55 9.93h1.2v-5.71h-.99L7.9 11.6l.59.73.65-.53a7.71 7.71 0 0 0 .42-.4 42.75 42.75 0 0 0-.03 1.14v3.3Zm6.65-1.62a6.29 6.29 0 0 0-.1-2.82 2.03 2.03 0 0 0-.66-1.01c-.3-.24-.67-.35-1.13-.35-.49 0-.88.11-1.17.35-.29.23-.5.57-.63 1.01-.13.44-.2.97-.2 1.58 0 .61.08 1.14.22 1.58.14.44.36.77.65 1 .3.24.67.36 1.13.36a2 2 0 0 0 .93-.2c.26-.14.46-.33.62-.58.16-.25.27-.56.34-.92Zm-2.61-.15c-.05-.29-.07-.65-.07-1.09 0-.43.02-.8.07-1.09.05-.29.13-.5.24-.65a.57.57 0 0 1 .48-.23c.2 0 .36.08.47.23.12.14.2.36.25.65.05.3.08.66.08 1.1 0 .43-.03.8-.08 1.09-.05.29-.13.5-.25.65a.57.57 0 0 1-.47.21.57.57 0 0 1-.48-.22c-.11-.14-.2-.36-.24-.65Z",clipRule:"evenodd"}))},jd=e=>{let{color:t="white",low:n=!1}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M15 9.42773C15.5382 10.1441 15.8571 11.0346 15.8571 11.9996C15.8571 12.9646 15.5382 13.8551 15 14.5714",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),!n&&st.createElement("path",{d:"M18.4292 6.85742C19.5052 8.28998 20.1429 10.0707 20.1429 12.0003C20.1429 13.9299 19.5052 15.7106 18.4292 17.1431",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},Wd=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M20.5713 9L14.5713 15",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M14.5713 9L20.5713 15",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))};let zd=function(e){return e.PLAY="play",e.STOP="stop",e.PAUSE="pause",e.NEXT_SEEK="next_seek",e.PREV_SEEK="prev_seek",e.VOLUME_UP="volume_up",e.VOLUME_DOWN="volume_down",e.MUTE="mute",e.UNMUTE="unmute",e.LINK="link",e.TAG="tag",e.REPLAY_SQUARE="replaySquare",e.INFO="info",e.FLAG="flag",e.SEEK_TO_NEXT_TIME_MARK="seek_to_next_time_mark",e.SEEK_TO_PREV_TIME_MARK="seek_to_prev_time_mark",e.FORWARD_FAST="forward_fast",e}({});const $d={[zd.PLAY]:Fd,[zd.PAUSE]:Bd,[zd.STOP]:Hd,[zd.NEXT_SEEK]:Vd,[zd.PREV_SEEK]:Ud,[zd.VOLUME_UP]:jd,[zd.VOLUME_DOWN]:()=>st.createElement(jd,{low:!0}),[zd.MUTE]:Wd,[zd.UNMUTE]:jd,[zd.LINK]:Fc,[zd.TAG]:Vc,[zd.REPLAY_SQUARE]:Kc,[zd.INFO]:Wc,[zd.FLAG]:Yc,[zd.SEEK_TO_NEXT_TIME_MARK]:()=>st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6666 5.7513C18.6666 5.22203 19.0956 4.79297 19.6249 4.79297C20.0322 4.79297 20.3802 5.04708 20.5189 5.40541C20.5888 5.50283 20.6299 5.62226 20.6299 5.7513V17.2513C20.6299 17.3803 20.5888 17.4998 20.5189 17.5972C20.3802 17.9555 20.0322 18.2096 19.6249 18.2096C19.0956 18.2096 18.6666 17.7806 18.6666 17.2513V11.8847L11 17.2513V12.3722L4 17.251V5.75098L11 10.6298V5.7513L18.6666 11.1179V5.7513Z",fill:"white"})),[zd.SEEK_TO_PREV_TIME_MARK]:()=>st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.96332 5.7513C5.96332 5.22203 5.53426 4.79297 5.00498 4.79297C4.59767 4.79297 4.24971 5.04708 4.11097 5.40541C4.0411 5.50283 3.99997 5.62226 3.99997 5.7513V17.2513C3.99997 17.3803 4.0411 17.4998 4.11097 17.5972C4.24971 17.9555 4.59767 18.2096 5.00498 18.2096C5.53426 18.2096 5.96332 17.7806 5.96332 17.2513V11.8847L13.6299 17.2513V12.3722L20.6299 17.251V5.75098L13.6299 10.6298V5.7513L5.96332 11.1179V5.7513Z",fill:"white"})),[zd.FORWARD_FAST]:e=>{let{color:t="white "}=e;return st.createElement("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M8.7562 0.544534C8.5882 0.634444 8.48333 0.809522 8.48333 1.00007V5.59181C8.47361 5.58428 8.46358 5.57706 8.45326 5.57017L0.953256 0.570173C0.794714 0.464478 0.590866 0.454624 0.422867 0.544534C0.254869 0.634444 0.149994 0.809522 0.149994 1.00007V11.0001C0.149994 11.1906 0.254869 11.3657 0.422867 11.4556C0.590866 11.5455 0.794714 11.5357 0.953256 11.43L8.45326 6.42996C8.46358 6.42308 8.47361 6.41586 8.48333 6.40832V11.0001C8.48333 11.1906 8.5882 11.3657 8.7562 11.4556C8.9242 11.5455 9.12805 11.5357 9.28659 11.43L16.7866 6.42996C16.9303 6.33414 17.0167 6.17282 17.0167 6.00007C17.0167 5.82732 16.9303 5.666 16.7866 5.57017L9.28659 0.570173C9.12805 0.464478 8.9242 0.454624 8.7562 0.544534Z",fill:t}))}},Gd={wrapper:"info-layer-module__wrapper___HuYcm",labelBox:"info-layer-module__labelBox___SR51I",labelBoxAnimated:"info-layer-module__labelBoxAnimated___LYOhD",infoLayerLabelFadeout:"info-layer-module__infoLayerLabelFadeout___QuYne",label:"info-layer-module__label___O3giF",iconBox:"info-layer-module__iconBox___xf2b6",sm:"info-layer-module__sm___yLpF6",btn:"info-layer-module__btn___HF35Z",md:"info-layer-module__md___Xwv9c",lg:"info-layer-module__lg___MSHN9",xlg:"info-layer-module__xlg___AiyoD",btnAnimated:"info-layer-module__btnAnimated___JnYUa",infoLayerIconFadeout:"info-layer-module__infoLayerIconFadeout___IQGWZ"},Kd=lc((()=>{const e=(0,st.useRef)(null),t=Ld(),{activeInfo:n,labelToShow:r,hidden:i,labelIcon:a,withoutAnimation:o}=t,s=t.getCustomStyles(),l=a?$d[a]:void 0;if(!n||i)return null;const{updatedAt:u,icon:c}=n,d=t.getSizeClassName(Gd),h=()=>{t.setActiveInfo(null)};return st.createElement("div",{className:cl()(Gd.wrapper,d),ref:e,key:u},r&&st.createElement("div",{className:cl()(s||Gd.labelBox,{[Gd.labelBoxAnimated]:!o}),onAnimationEnd:h},st.createElement("span",{className:Gd.label,role:"alert","aria-live":"polite"},r,l&&st.createElement(l,null))),c&&st.createElement("div",{className:Gd.iconBox},st.createElement("div",{className:cl()({[Gd.btnAnimated]:!o}),onAnimationEnd:r?void 0:h},st.createElement(Dd,{big:!0,wrapperClassName:Gd.btn,icon:c?$d[c]:void 0}))))})),qd=st.memo((function(){return st.createElement(Kd,null)}));let Yd=function(e){return e.PLAY="play",e.STOP="stop",e.PAUSE="pause",e.NEXT_SEEK="next_seek",e.PREV_SEEK="prev_seek",e.VOLUME_UP="volume_up",e.VOLUME_DOWN="volume_down",e.MUTE="mute",e.UNMUTE="unmute",e.LINK="link",e.TAG="tag",e.REPLAY_SQUARE="replaySquare",e.INFO="info",e.FLAG="flag",e.SEEK_TO_NEXT_TIME_MARK="seek_to_next_time_mark",e.SEEK_TO_PREV_TIME_MARK="seek_to_prev_time_mark",e.FORWARD_FAST="forward_fast",e}({});const Qd=[Yd.LINK,Yd.TAG,Yd.REPLAY_SQUARE];var Zd,Xd;let Jd,eh,th,nh;var rh;let ih,ah,oh;new(Xd=class extends Oo{constructor(e,t,n,r,i){super(),this.__playerSize=void Jd(this),this.__playback=void 0,this.__shortcuts=void 0,this.__extraActions=void 0,this.__data=void 0,this.__forceToShow=!1,this.__activeInfo=Mr.box(null),this.__isFirstReaction=!0,this.__isInfoPrevented=!1,Ca(this,{playerWidth:Hr,labelToShow:Hr,hidden:Hr,getSizeClassName:Bi,setActiveInfo:Bi}),this.__playerSize=e,this.__playback=t,this.__shortcuts=n,this.__extraActions=r,this.__data=i}init(){const e=this.setPlayPause(),t=this.setMuteInfo(),n=this.setSeekForwardInfo(),r=this.setSeekBackwardInfo(),i=this.setSeekForwardIPlaybacknfo(),a=this.setSeekBackwardIPlaybacknfo(),o=this.setVolumeUp(),s=this.setVolumeDown(),l=this.setSubtitles(),u=this.setCopyTech(),c=this.setCopyLinkAtTime(),d=this.setCopyLink(),h=this.setCopyEmbedPlayerCode(),p=this.setShowTechInfo(),v=this.setReplay(),m=this.setPlaybackRate(),f=this.setPlaybackRateFromShortcuts(),_=this.toggleFramelessMode(),g=()=>{this.isInfoPrevented=!0};return document.addEventListener("visibilitychange",g),()=>{[e,t,n,r,i,a,o,s,l,u,c,d,h,p,v,m,f,_].forEach((e=>e())),document.removeEventListener("visibilitychange",g)}}setPlayPause(){return $i((()=>this.__playback.paused),(e=>{jc.isMobile||(this.__isFirstReaction?this.__isFirstReaction=!1:e?this.__data.isTVStream?this.setActiveInfo({icon:Yd.STOP}):this.setActiveInfo({icon:Yd.PAUSE}):this.setActiveInfo({icon:Yd.PLAY}))}))}setSeekForwardInfo(){return this.subscribeShortcutsEvent(xd.seekForward,(()=>{this.setActiveInfo({icon:Yd.NEXT_SEEK})}))}setSeekForwardIPlaybacknfo(){return this.subscribePlaybackActions(Rd.defaultForwardSeek,(()=>{this.setActiveInfo({icon:Yd.NEXT_SEEK})}))}setSeekBackwardIPlaybacknfo(){return this.subscribePlaybackActions(Rd.defaultBackwardSeek,(()=>{this.setActiveInfo({icon:Yd.PREV_SEEK})}))}setSeekBackwardInfo(){return this.subscribeShortcutsEvent(xd.seekBackward,(()=>{this.setActiveInfo({icon:Yd.PREV_SEEK})}))}setMuteInfo(){return this.subscribePlaybackActions(Rd.mute,(()=>{"Enabled"!==this.__playback.autoPlayWithMute&&this.setActiveInfo({label:`Звук в${this.__playback.muted?"":"ы"}ключен`,icon:this.__playback.muted?Yd.UNMUTE:Yd.MUTE})}))}setPlaybackRateFromShortcuts(){return this.subscribeShortcutsEvent(xd.playbackRate,(e=>{let{newRate:t}=e;this.setActiveInfo({label:`Скорость воспроизведения: ${100*t}%`,shortLabel:`Скорость: ${t}`})}))}setPlaybackRate(){return this.subscribePlaybackActions(Rd.playbackRate,(e=>{this.setActiveInfo({label:`Скорость воспроизведения: ${100*e}%`,shortLabel:`Скорость: ${e}`})}))}setVolumeUp(){return this.subscribeShortcutsEvent(xd.volumeUp,(e=>{let{newVolume:t}=e;this.setActiveInfo({icon:Yd.VOLUME_UP,label:`Громкость ${t}%`})}))}setVolumeDown(){return this.subscribeShortcutsEvent(xd.volumeDown,(e=>{let{newVolume:t}=e;t>0?this.setActiveInfo({icon:Yd.VOLUME_DOWN,label:`Громкость ${t}%`}):this.setActiveInfo({icon:Yd.MUTE,label:"Звук выключен"})}))}setSubtitles(){return this.subscribeShortcutsEvent(xd.subtitles,(e=>{this.setActiveInfo({label:`Субтитры в${e?"":"ы"}ключены`})}))}setCopyTech(){return this.subscribeExtraActions(Oc.copyTechInfo,(()=>{this.setActiveInfo({label:"Скопировано"})}))}setCopyLinkAtTime(){return this.subscribeExtraActions(Oc.copyLinkAtTime,(()=>{this.setActiveInfo({icon:Yd.LINK})}))}setCopyLink(){return this.subscribeExtraActions(Oc.copyLink,(()=>{this.setActiveInfo({icon:Yd.LINK})}))}setCopyEmbedPlayerCode(){return this.subscribeExtraActions(Oc.copyCode,(()=>{this.setActiveInfo({icon:Yd.TAG})}))}setShowTechInfo(){return this.subscribeExtraActions(Oc.toggleTechInfo,(()=>{}))}setReplay(){return this.subscribeExtraActions(Oc.replay,(()=>{this.setActiveInfo({icon:Yd.REPLAY_SQUARE})}))}subscribeShortcutsEvent(e,t){return this.__shortcuts.on(e,t),()=>{this.__shortcuts.off(e,t)}}subscribeExtraActions(e,t){var n;return null===(n=this.__extraActions)||void 0===n||n.on(e,t),()=>{var n;null===(n=this.__extraActions)||void 0===n||n.off(e,t)}}subscribePlaybackActions(e,t){var n;return null===(n=this.__playback)||void 0===n||n.on(e,t),()=>{var n;null===(n=this.__playback)||void 0===n||n.off(e,t)}}toggleFramelessMode(){return this.subscribePlaybackActions(Rd.toggleFramelessMode,(e=>{const t=e?"Без полей":"C полями";this.forceToShow=!0,this.setActiveInfo({label:t,shortLabel:t})}))}get activeInfo(){return this.__activeInfo.get()}get playerWidth(){var e;return(null===(e=this.__playerSize.size)||void 0===e?void 0:e.width)||0}get labelToShow(){if(!this.activeInfo)return"";const{label:e,shortLabel:t}=this.activeInfo;return this.playerWidth&&this.playerWidth<550&&t?t:e||""}get forceToShow(){return this.__forceToShow}set forceToShow(e){this.__forceToShow=e}get hidden(){var e,t,n;return!(null===(e=this.__data.appearance)||void 0===e||!e.forbid_html_controls)||jc.isMobile&&!((n=null===(t=this.activeInfo)||void 0===t?void 0:t.icon)&&Qd.includes(n))&&!this.__forceToShow}get labelIcon(){var e;return null===(e=this.activeInfo)||void 0===e?void 0:e.labelIcon}get withoutAnimation(){var e;return(null===(e=this.activeInfo)||void 0===e?void 0:e.withoutAnimation)||!1}get isInfoPrevented(){return this.__isInfoPrevented}set isInfoPrevented(e){this.__isInfoPrevented=e}setActiveInfo(e){var t,n;if(null!==e&&null!==(t=this.activeInfo)&&void 0!==t&&t.persistent||this.isInfoPrevented||this.__playback.isInfoPrevented)return this.isInfoPrevented=!1,void(this.__playback.isInfoPrevented=!1);const r=Ft(Ft({},e),{},{updatedAt:null!==(n=null==e?void 0:e.updatedAt)&&void 0!==n?n:(new Date).getTime()});this.__activeInfo.set(r)}getSizeClassName(e){return this.__playerSize.getSizeClassName(e)}customStylesForLabel(){}getCustomStyles(){return this.customStylesForLabel()}},({e:[Jd],c:[nh,eh]}=en(Xd,[To({implement:"IInfoLayerPlugin",ctor_args:["IPlayerSizePlugin","IPlayback","IShortcutsPlugin",{implement:"IExtraActionsPlugin",optional:!0},"IDataPlugin"]})],[[Lo(),2,"init"]],0,void 0,Oo)),th=Xd,(Zd=class extends jo{constructor(){super(nh),this.InfoLayerPluginView=qd,eh()}})[th]=void 0,Zd);var sh,lh;let uh,ch;rh=class extends Oo{constructor(e,t,n,r,i){super(),this._isMediaSession=(ih(this),"object"==typeof navigator&&"mediaSession"in navigator),this._config=e,this._data=t,this._playback=n,this._nextPlugin=r,this._playlist=i}setMediaSessionHandlers(){if(!this._isMediaSession)return;const e=()=>{this._playback.seekForward(10)},t=()=>{this._playback.seekBack(10)};return navigator.mediaSession.setActionHandler("play",(()=>{this._playback.isPlaying||(this._playback.play().catch(console.error),this._isMediaSession&&(navigator.mediaSession.playbackState="playing"))})),navigator.mediaSession.setActionHandler("pause",(()=>{this._playback.isPlaying&&(this._playback.pause(),this._isMediaSession&&(navigator.mediaSession.playbackState="paused"))})),this.isSeekable&&(navigator.mediaSession.setActionHandler("seekforward",e),navigator.mediaSession.setActionHandler("seekbackward",t)),()=>{this._isMediaSession&&(navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.metadata=null,navigator.mediaSession.playbackState="none")}}setupMediaSessionNavigation(){if(!this._isMediaSession)return;const e=()=>{var e;null===(e=this._playlist)||void 0===e||e.onClickPrev()},t=()=>{var e;null===(e=this._nextPlugin)||void 0===e||e.onClick()},n=()=>{var e;null===(e=this._playlist)||void 0===e||e.onClickNext()};return $i((()=>{var e,t,n,r;return{nextPlaylistVideo:null===(e=this._playlist)||void 0===e?void 0:e.nextVideo,prevPlaylistVideo:null===(t=this._playlist)||void 0===t?void 0:t.prevVideo,nextRecommendedVideo:null===(n=this._nextPlugin)||void 0===n?void 0:n.nextVideo,isVideoFromPlaylist:null===(r=this._playlist)||void 0===r?void 0:r.playlistId}}),(r=>{let{nextPlaylistVideo:i,prevPlaylistVideo:a,nextRecommendedVideo:o,isVideoFromPlaylist:s}=r;if(s)return navigator.mediaSession.setActionHandler("previoustrack",a?e:null),void navigator.mediaSession.setActionHandler("nexttrack",i?n:null);o&&navigator.mediaSession.setActionHandler("nexttrack",t)}))}setMediaMetaData(){var e;const t=this._data.title,n=this._data.poster,r=null===(e=this._data.author)||void 0===e?void 0:e.name;return this._isMediaSession&&t&&n&&r&&!navigator.mediaSession.metadata&&(navigator.mediaSession.metadata=new MediaMetadata({title:t,artist:r,artwork:[{src:n||"",type:"image/jpg",sizes:"709x398"}]})),()=>{this._isMediaSession&&(navigator.mediaSession.metadata=null)}}backgroundViewDisabledPlayback(){return $i((()=>this._config.get("isPlaybackDisabled")),(e=>{e&&(this._playback.pause(),this._isMediaSession&&(navigator.mediaSession.playbackState="paused"))}))}get isSeekable(){return!this._data.isLive||this._data.isDVR&&!this._data.isTVStream}},({e:[ih],c:[oh,ah]}=en(rh,[To({implement:"MediaSessionPlugin",ctor_args:["IPlayerConfigPlugin","IDataPlugin","IPlayback",{implement:"INextVideoPlugin",optional:!0},{implement:"IPlaylistPlugin",optional:!0}]})],[[Lo(),2,"setMediaSessionHandlers"],[Lo(),2,"setupMediaSessionNavigation"],[Lo(),2,"setMediaMetaData"],[Lo(),2,"backgroundViewDisabledPlayback"]],0,void 0,Oo)),ah();class dh extends(sh=Oo){static assertInstance(e){if(!(e instanceof ch))throw new Error("not a PlayerConfigPlugin")}static getObservableKey(e){return`__${e.toString()}`}constructor(e){super(),this._warehouse={};for(const t in e.value)this.createProperty(t,e.value[t])}createProperty(e,t){const n=ch.getObservableKey(e);Object.defineProperty(this._warehouse,n,{value:Mr.box(t),writable:!1})}get(e){const t=ch.getObservableKey(e);return t in this._warehouse||this.createProperty(e,void 0),this._warehouse[t].get()}set(e,t){const n=ch.getObservableKey(e);n in this._warehouse||this.createProperty(e,t),Vi((()=>{this._warehouse[n].set(t)}))}setBulk(e){Vi((()=>e.forEach((e=>{let{key:t,value:n}=e;const r=ch.getObservableKey(t);r in this._warehouse||this.createProperty(t,n),this._warehouse[r].set(n)}))))}}lh=dh,[ch,uh]=en(lh,[To({implement:"IPlayerConfigPlugin",ctor_args:["InitialProps"]})],[],0,void 0,sh).c,uh();const hh="rus",ph="eng",vh=[{id:"adfoxScript",js:"https://yandex.ru/ads/system/adsdk.js"}],mh="https://static.rutube.ru/static/img/_thumb_default_04.png",fh={[hh]:{title:"18+",description:"Это видео лучше не смотреть несовершеннолетним зрителям",btn:"Мне уже есть 18"},[ph]:{title:"Video 18+",description:"This video is not recommended for underage users",btn:"I am 18 years old"}},_h={[hh]:"Служба поддержки",[ph]:"Support"},gh={[hh]:{title:st.createElement("noindex",null,st.createElement("div",{"data-testid":"stub-info","data-nosnippet":"true"},"Данное видео временно недоступно. Приносим Вам свои извинения."))},[ph]:{title:st.createElement("noindex",null,st.createElement("div",{"data-nosnippet":"true"},"Sorry, this video is temporarily unavailable."))}},yh={[hh]:{title:st.createElement("noindex",null,st.createElement("div",{"data-nosnippet":"true"},"Просмотр видео временно недоступен. ",st.createElement("br",null),"Приносим свои извинения."))},[ph]:{title:st.createElement("noindex",null,st.createElement("div",{"data-nosnippet":"true"},"Sorry, this video is temporarily unavailable."))}},bh={[hh]:{title:"Нет интернета. Проверьте, работает ли Wi-Fi или мобильный интернет"},[ph]:{title:"No Internet connection. Make sure your Wi-Fi or mobile network in ON."}},Eh="paid_access",wh=["preroll","postroll","midroll","overlay","midpostroll"],Sh=["preroll","mobilepreroll","livemidroll","mobilelivemidroll"],Ch=[4,5],kh="caption",Ah="raichu-autoplay-next",Ph="raichu-user-history",Ih="raichu-user-quality",Th="raichu-playback-rate",Rh="raichu-pause-recs-hidden",xh="psaa",Lh=8e3,Oh=16/9;let Nh=function(e){return e.INIT="player:init",e.PLAY_START="player:playStart",e.EVENT_STATE_CHANGE="player:stateChangeEvent",e.TOGGLE_VERTICAL_FULLSCREEN="player:toggleVerticalFullscreen",e.CHANGE_PLAYER_MODE="player:changePlayerMode",e.CLOSE_PLAYER="player:closePlayer",e.PREV_VIDEO="player:prevVideo",e.NEXT_VIDEO="player:nextVideo",e.SET_TIME="player:setTime",e.TOGGLE_CINEMA_MODE_PLAYER="player:toggleCinemaModePlayer",e.SET_END_SCREEN_VIDEO="player:setEndScreenVideo",e.CHANGE_VIDEO="player:changeEndScreenVideo",e.CURRENT_TIME="player:currentTime",e.FAKE_FULLSCREEN_ON="player:fakeFullscreenOn",e.FAKE_FULLSCREEN_OFF="player:fakeFullscreenOff",e.CHANGE_FULLSCREEN="player:changeFullscreen",e.PLAY_COMPLETE="player:playComplete",e.EVENT_ROLL_STATE_CHANGE="player:rollStateChange",e.ROLL_STATE="player:rollState",e.CHANGE_STATE="player:changeState",e.RECOMMENDED_VIDEO="player:recommendedVideo",e.READY="player:ready",e.VOLUME_CHANGE="player:volumeChange",e.BUFFERING="player:buffering",e.DURATION_CHANGE="player:durationChange",e.NO_AD="player:noad",e.ERROR="player:error",e.QUALITY_LIST="player:qualityList",e.CURRENT_QUALITY="player:currentQuality",e.PLAYOPTIONS_LOADED="player:playOptionsLoaded",e.AD_REQUEST="player:adRequest",e.AD_START="player:adStart",e.AD_END="player:adEnd",e.GET_STREAM_INFO="player:get_stream_info",e.IS_IN_PIP="player:isInPiP",e.PIP_BACK="player:pipBack",e.IS_FULLSCREEN="player:isFullscreen",e.IS_CINEMA="player:isCinema",e.SET_PLAYBACK_SPEED="player:setPlaybackSpeed",e.PLAYBACK_SPEED_CHANGED="player:playbackSpeedChanged",e.SET_CAPTION="player:setCaption",e.CHANGE_CAPTION="player:changeCaption",e.MUTE_CHANGE="player:muteChange",e.BITRATES_LEVELS="player:bitrateLevels",e.BITRATE_SWITCH="player:bitrateSwitched",e.GO_BACK="player:goBack",e.CAPTIONS_WITHOUT_URL="player:captionsWithoutUrl",e.EPISODE_CLICK="player:episodeClick",e.REQUEST_JWT="player:requestJwt",e.REQUEST_UUID="player:requestUuid",e.ERROR_INFO="player:errorInfo",e.ESCAPE_PRESS="player:escapePress",e.SUBSCRIBE_CLICK="player:subscribeClick",e.CHANGE_NOTIFICATION_TYPE="player:changeNotificationType",e.SUBSCRIPTION_REQUEST="player:subscriptionRequest",e.SUBSCRIPTION_BUTTON_SHOW="player:subscribeButtonShow",e.CHAPTERS_SHOW="player:chaptersShow",e.CHAPTER_CHANGE="player:chapterChange",e.STATISTICS_RESPONSE="player:statisticsResponse",e}({}),Mh=function(e){return e.RUTUBE="RUTUBE",e.PRY="PREMIER_RUTUBE_YAPPY",e}({});const Dh="https://rutube.ru",Fh=1/30,Bh={common:{1288:"xlg",968:"lg",864:"md",608:"sm",425:"xs",0:"xxs"},stats:{800:"xlarge",600:"large",400:"medium",320:"small",0:"xsmall"}},Hh=(e,t)=>{if("number"!=typeof e||!t)return null;const n=Bh[t],r=Object.keys(n).reverse(),i=r.find(((t,n)=>e>Number(r[n])));return i?n[Number(i)]:null};function Vh(e,t){var n=this;let r;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(r),r=setTimeout((()=>e.apply(n,a)),t)}}var Uh;let jh,Wh,zh;var $h;let Gh,Kh;Uh=class extends Oo{constructor(){super(),this._wrapperRef=(jh(this),Mr.box(null)),this._size=Mr.box(null),this._sizeObserver=null,this._coordinates=Mr.box(null),this._windowWidth=Mr.box(0),Ca(this,{wrapperRef:Hr,size:Hr,sizeId:Hr,getSizeClassName:Bi,coordinates:Hr,updateWindowWidth:Bi})}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.set(e)}get size(){return this._size.get()}set size(e){this._size.set(e)}get sizeId(){var e;return Hh(null===(e=this.size)||void 0===e?void 0:e.width,"common")}get sizeIdForStats(){var e;return Hh(null===(e=this.size)||void 0===e?void 0:e.width,"stats")}get coordinates(){return this._coordinates.get()}set coordinates(e){this._coordinates.set(e)}get windowWidth(){return this._windowWidth.get()}updateWindowWidth(){globalThis.window&&this._windowWidth.set(window.innerWidth)}init(){const e=[];if(e.push($i((()=>this.wrapperRef),(e=>{this._sizeObserver&&this._sizeObserver.disconnect(),e&&(this.size={width:e.offsetWidth,height:e.offsetHeight},this.initResizeObserver(e))}))),globalThis.window){const t=Vh((()=>{Vi((()=>{this.updateWindowWidth()}))}),100);this.updateWindowWidth(),window.addEventListener("resize",t),e.push((()=>window.removeEventListener("resize",t)))}return()=>e.forEach((e=>e()))}initResizeObserver(e){const t=Vh((()=>{this.size={width:e.offsetWidth,height:e.offsetHeight};const{x:t,y:n}=e.getBoundingClientRect();Vi((()=>this.coordinates={x:t,y:n}))}),100);this._sizeObserver=new ResizeObserver(t),this._sizeObserver.observe(e)}getSizeClassName(e){const t=this.sizeId||"";return t in e?e[t]:void 0}},({e:[jh],c:[zh,Wh]}=en(Uh,[To("IPlayerSizePlugin")],[[Lo(),2,"init"]],0,void 0,Oo)),Wh();let qh;var Yh,Qh;let Zh,Xh,Jh,ep;$h=class extends Oo{constructor(e){super(),this.__playerStore=void Gh(this),this.__lastProcessedTimestamp=null,this.__watchTime=0,this.__incrementTimer=null,this.__isPauseScreenAvailable=Mr.box(!1),this.__tenSecPassed=Mr.box(!1),this.__thirtySecPassed=Mr.box(!1),this.__playerStore=e,Ca(this,{isPauseScreenAvailable:Hr,tenSecPassed:Hr,thirtySecPassed:Hr})}init(){const e=[];return e.push($i((()=>this.__playerStore.isPlaying),(e=>{e?(this.start(),this.increment()):this.stop()}))),()=>e.forEach((e=>e))}clearTimer(){return()=>{this.__incrementTimer&&clearTimeout(this.__incrementTimer)}}resetWatchTime(){this.__watchTime=0}start(){this.__lastProcessedTimestamp=Date.now()}increment(){this.__playerStore.isPlaying?setTimeout((()=>{const e=Date.now(),t=this.__lastProcessedTimestamp?e-this.__lastProcessedTimestamp:0;this.__watchTime>=1e4&&!this.tenSecPassed&&(this.tenSecPassed=!0),this.__watchTime>=3e4&&!this.thirtySecPassed&&(this.thirtySecPassed=!0),this.__watchTime>=6e3&&!this.isPauseScreenAvailable&&(this.isPauseScreenAvailable=!0),t>0&&t<250?this.__watchTime+=t:t>=250&&(this.__watchTime+=200),this.__lastProcessedTimestamp=e,this.increment()}),200):this.__incrementTimer&&clearTimeout(this.__incrementTimer)}stop(){this.__lastProcessedTimestamp&&(this.__watchTime+=Date.now()-this.__lastProcessedTimestamp),this.__lastProcessedTimestamp=null}get watchTime(){return this.__watchTime}get tenSecPassed(){return this.__tenSecPassed.get()}set tenSecPassed(e){this.__tenSecPassed.set(e)}get thirtySecPassed(){return this.__thirtySecPassed.get()}set thirtySecPassed(e){this.__thirtySecPassed.set(e)}get isPauseScreenAvailable(){return this.__isPauseScreenAvailable.get()}set isPauseScreenAvailable(e){this.__isPauseScreenAvailable.set(e)}},({e:[Gh],c:[qh,Kh]}=en($h,[To({implement:"IStatisticWatchTimePlugin",ctor_args:["IPlayback"]})],[[Lo(),2,"init"],[Lo(),2,"clearTimer"]],0,void 0,Oo)),Kh(),new(Qh=class extends Oo{constructor(e,t,n){super(),this._isMediaSession=(Zh(this),"object"==typeof navigator&&"mediaSession"in navigator),this._resolve=void 0,this._UUID=Mr.box(""),this._followedLink=Mr.box(""),this._followedResourceId=Mr.box(),this._rlineId=Mr.box(""),this._guid=Mr.box(),this._playlistId=void 0,this._playerConfig=void 0,this._isBackground=Mr.box(),this._playback=t,this._resolve=e.value,this.uuid=Me(),this.guid=Te(),this._playlistId=null==n?void 0:n.get("playlistId"),this._playerConfig=n,Ca(this,{uuid:Hr,followedLink:Hr,followedResourceId:Hr,rlineId:Hr,guid:Hr})}allowBackground(){const e=!jc.isMobile,t=Boolean(this.userId);return e||t}setBackgroundViewHandlers(){const e=()=>{this.isBackground=this.shouldBeBackground};return e(),document&&(document.addEventListener("visibilitychange",e),window.addEventListener("pagehide",e)),()=>{var t,n;this.isBackground=!1,null===(t=document)||void 0===t||t.removeEventListener("visibilitychange",e),null===(n=window)||void 0===n||n.removeEventListener("pagehide",e)}}get shouldBeBackground(){return document.hidden&&this.isPlaying&&this.allowBackground()&&this._isMediaSession}get isBackground(){return this._isBackground.get()}set isBackground(e){this._isBackground.set(e)}get uuid(){return this._UUID.get()}set uuid(e){this._UUID.set(e)}get isPlaying(){return this._playback.isPlaying}get followedResourceId(){return this._followedResourceId.get()}set followedResourceId(e){this._followedResourceId.set(e)}get followedLink(){return this._followedLink.get()}set followedLink(e){this._followedLink.set(e)}get rlineId(){return this._rlineId.get()}set rlineId(e){this._rlineId.set(e)}get guid(){return this._guid.get()}set guid(e){this._guid.set(e)}get playlistId(){return this._playlistId}get userId(){var e;return null===(e=this._playerConfig)||void 0===e?void 0:e.get("userId")}},({e:[Zh],c:[ep,Xh]}=en(Qh,[To({implement:"IStatisticValues",ctor_args:["Resolve","IPlayback",{implement:"IPlayerConfigPlugin",optional:!0}]})],[[Lo(),2,"setBackgroundViewHandlers"]],0,void 0,Oo)),Jh=Qh,(Yh=class extends jo{constructor(){super(ep),this.useStatisticStore=()=>Rc("IStatisticValues"),this.getStatisticStore=e=>e("IStatisticValues"),Xh()}})[Jh]=void 0,Yh);const tp=()=>Tc().resolve("IStubPlugin"),np="https://static.rutube.ru/static/img/png/player-stubs/countdown-default-bg.png";class rp extends st.Component{constructor(e){super(e),this.state={hasUnknownError:!1}}static getDerivedStateFromError(){return{hasUnknownError:!0}}componentDidCatch(){this.setState({hasUnknownError:!0})}componentDidMount(){this.state.hasUnknownError&&this.props.stubPlugin.setStub("info",{title:gh[this.props.stubPlugin.activeLanguage].title,backgroundImage:np})}componentDidUpdate(){this.state.hasUnknownError&&this.props.stubPlugin.setStub("info",{title:gh[this.props.stubPlugin.activeLanguage].title,backgroundImage:np})}render(){return this.props.children}}const ip="stub-iframe-module__iframeWrapper___Wzny2",ap="spinner-module__spinner___wvZBi",op=e=>{let{showDelay:t=100,show:n=!0,className:r}=e;const i=(0,st.useRef)(),[a,o]=st.useState((()=>n));return(0,st.useEffect)((()=>()=>(null==i?void 0:i.current)&&clearTimeout(i.current)),[]),(0,st.useEffect)((()=>{null!=i&&i.current&&clearTimeout(i.current),n?t?i.current=setTimeout((()=>o(n)),t):o(n):o(!1)}),[t,n]),a?st.createElement("div",{"data-testid":"spinner",className:cl()(ap,r)}):null},sp=e=>{let{url:t,title:n,isExternalLoading:r,isIframeLoaded:i}=e;const a=r?{opacity:i?1:0}:void 0;return st.createElement(st.Fragment,null,st.createElement("div",{className:ip,style:a},st.createElement("iframe",{src:t,title:n,allowFullScreen:!0})),r&&!i&&st.createElement(op,null))},lp="stub-info-module__stub___eVOUW",up="stub-info-module__blurry___XdUjD",cp="stub-info-module__body___aZXEV",dp="stub-info-module__title___iL8Nr",hp="stub-info-module__description___hP_s1",pp="stub-info-module__header___ziZR1",vp="stub-info-module__lang___rILT2",mp="stub-info-module__active___Q7vXY",fp="stub-info-module__mail___OHSLK",_p="stub-info-module__preview___HpI6t",gp=e=>{let{title:t,hasLanguagePicker:n,backgroundImage:r,description:i,activeLanguage:a,setLanguage:o,children:s,isPreview:l,isBlurred:u=!1,email:c}=e;return st.createElement("div",{"data-testid":"stub",className:cl()(lp,{[up]:u,[_p]:l}),style:{backgroundImage:r?`url(${r})`:"url(https://static.rutube.ru/static/img/png/player-stubs/countdown-stub-bg.png)"}},st.createElement("div",{className:pp},st.createElement("div",null,st.createElement("a",{href:`mailto:${c}`,className:fp,target:"_blank",rel:"noreferrer","data-testid":"stub-support-mail"},_h[a])),n&&st.createElement("div",null,st.createElement("span",{onClick:()=>o(hh),className:cl()(vp,{[mp]:a===hh})},"Rus"),st.createElement("span",{onClick:()=>o(ph),className:cl()(vp,{[mp]:a===ph})},"Eng"))),st.createElement("div",{className:cp},t&&st.createElement("div",{className:dp,"data-testid":"stub-title"},t),i&&st.createElement("div",{className:hp,"data-testid":"stub-description"},i),s))};function yp(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function bp(e,t){if(null==e)return{};var n,r,i=yp(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Ep="stub-info-with-action-module__buttons___lECec",wp="stub-info-with-action-module__button___ljPFC",Sp="stub-info-with-action-module__preview___qMvIe",Cp=["btnText","onBtnClick","backgroundColor","isPreview"],kp=e=>{let{btnText:t,onBtnClick:n,backgroundColor:r,isPreview:i}=e,a=bp(e,Cp);return st.createElement(gp,ll({},a,{isPreview:i}),st.createElement("div",{className:cl()(Ep,{[Sp]:i})},st.createElement("button",{className:wp,type:"button",onClick:e=>n(e.nativeEvent),style:{backgroundColor:r}},t)))},Ap=lc((()=>{var e;const t=tp(),n=e=>{t.activeLanguage=e};if(!t.isStubAvailable)return null;if(t.hasCustomComponent&&t.customStubComponent){const e=t.customStubComponent;return st.createElement(e,null)}switch(null===(e=t.stub)||void 0===e?void 0:e.type){case"info":return st.createElement(gp,ll({},t.stub.params,{activeLanguage:t.activeLanguage,setLanguage:n,email:t.email,isPreview:null==t?void 0:t.isPreview}));case"infoWithAction":return st.createElement(kp,ll({},t.stub.params,{activeLanguage:t.activeLanguage,setLanguage:n,isPreview:null==t?void 0:t.isPreview}));case"iframe":return st.createElement(sp,t.stub.params);default:return null}})),Pp=lc((e=>{let{children:t}=e;const n=tp();return null!==n.stub?st.createElement(Ap,null):st.createElement(rp,{stubPlugin:n},t)})),Ip=st.memo((function(e){let{children:t}=e;return st.createElement(Pp,null,t)}));var Tp,Rp;let xp,Lp,Op,Np;new(Rp=class extends Oo{constructor(e,t){super(),this._email=(xp(this),Mr.box("")),this.__stub=Mr.box(null),this.__activeLanguage=Mr.box(hh),this.__customStubComponent=null,this.__hasCustomComponent=Mr.box(!1),this._isPreview=void 0,e&&(this.email=e.value),this._isPreview=t.value}setStub(e,t){this.__stub.set({type:e,params:t})}stubAvailable(){var e;const t=Rt(window.location.href),n=(null===(e=this.stub)||void 0===e||null===(e=e.params)||void 0===e?void 0:e.type)===Eh;return!t.paywallenabled||(n&&"false"!==t.paywallenabled||!n)}get isStubAvailable(){return this.stubAvailable()}setCustomStubComponent(e){this.__customStubComponent=e,this.hasCustomComponent=null!==e}get stub(){return this.__stub.get()}set stub(e){this.__stub.set(e)}get activeLanguage(){return this.__activeLanguage.get()}get email(){return this._email.get()}set email(e){this._email.set(e)}set activeLanguage(e){this.__activeLanguage.set(e)}get customStubComponent(){return this.__customStubComponent}get hasCustomComponent(){return this.__hasCustomComponent.get()}set hasCustomComponent(e){this.__hasCustomComponent.set(e)}get isPreview(){return this._isPreview}},({e:[xp],c:[Np,Lp]}=en(Rp,[To({implement:"IStubPlugin",ctor_args:[{implement:"StubEmail",optional:!0},{implement:"IsPreview",optional:!0}]})],[[Bi,2,"setStub"]],0,void 0,Oo)),Op=Rp,(Tp=class extends jo{constructor(){super(Np),this.StubPluginView=Ip,Lp()}})[Op]=void 0,Tp);const Mp="object"==typeof window;class Dp{constructor(){return this._subscribers={},Dp._instance||(Dp._instance=this),Mp&&window.addEventListener("message",(e=>{Object.keys(this._subscribers).forEach((t=>{if(e.data)try{const n=JSON.parse(e.data);if(n.type===t&&this._subscribers[t]){const e=this._subscribers[t];e&&e.length>0&&e.forEach((e=>{e(n)}))}}catch(e){return}}))})),Dp._instance}emit(e,t){if("undefined"!=typeof window)try{window.parent.postMessage(JSON.stringify({type:e,data:Ft(Ft({},t),{},{playerId:"video_frame"})}),"*")}catch(e){console.warn(e)}}subscribe(e,t){var n;this._subscribers[e]||(this._subscribers[e]=[]),null===(n=this._subscribers[e])||void 0===n||n.push(t)}unsubscribe(e,t){var n,r;null!==(n=this._subscribers[e])&&void 0!==n&&n.length&&(null===(r=this._subscribers[e])||void 0===r||r.forEach(((n,r,i)=>{n.name===t.name&&(delete i[r],this._subscribers[e]=null==i?void 0:i.filter((e=>e)))})))}}Dp._instance=null;const Fp=new Dp,Bp=(e,t)=>e.reduce(((e,n)=>(e[n[t]]?e[n[t]].push(n):e[n[t]]=[n],e)),{});let Hp=function(e){return e.load="load",e.start="start",e.end="end",e.error="error",e}({});class Vp{constructor(){this.__disposers=[]}destroy(){this.__disposers.forEach((e=>e()))}}const Up=/mobile?/,jp="ADFOX_SDK",Wp=["preroll","midroll","postroll","livemidroll","midpostroll"],zp=e=>Wp.includes(e),$p=e=>e.reduce(((e,t)=>(e[t.name]=t.limit,e)),{});class Gp extends Vp{constructor(e,t){super(),this._timer=null,this._managePrerolls=e=>{const t=this._manager.items.preroll,n=$p(this._manager.limits).preroll;e&&null!=t&&t.length&&(this._manager.currentItems=n?t.slice(0,n):t,this._manager.currentState="show")},this._runDurationTimer=()=>{var e;this._timer&&(clearTimeout(this._timer),this._timer=null);const t=null===(e=this._playback)||void 0===e||null===(e=e.adapter)||void 0===e?void 0:e.liveMidrollDuration;t&&(this._timer=setTimeout((()=>{this._manager.destroyCurrent()}),1e3*parseInt(t)))},this._manager=e,this._playback=t}init(){this.__disposers.push($i((()=>this._playback.wasStarted),this._managePrerolls)),this.__disposers.push($i((()=>{var e;return null===(e=this._playback.adapter)||void 0===e?void 0:e.liveMidrollActive}),(e=>{const t=this._manager.items.livemidroll;e&&null!=t&&t.length&&!this._manager.currentItems.length&&(this._manager.currentItems=t,this._manager.currentState="prefetch")}))),this.__disposers.push($i((()=>{var e;return null===(e=this._playback)||void 0===e||null===(e=e.adapter)||void 0===e?void 0:e.liveMidrollStartPlay}),(e=>{e&&this._manager.currentItems.length&&(this._manager.currentState="show",this._runDurationTimer())}))),this.__disposers.push($i((()=>({state:this._manager.currentState,hasItems:this._manager.currentItems.length,loading:this._manager.isLoading})),(e=>{let{state:t,hasItems:n,loading:r}=e;n?"show"===t&&r&&this._playback.pause():this._playback.playWithHandlePermissions()}))),this.__disposers.push($i((()=>0===this._manager.currentItems.length),(e=>{e&&this._timer&&(clearTimeout(this._timer),this._timer=null)})))}}class Kp extends Vp{constructor(e,t){super(),this._limits=Mr.box({}),this._midrolls=Mr.box({}),this._viewedItems=Mr.box([]),this._filterByLimits=e=>{const t=e.filter((e=>!this.viewedItems.includes(e.name)));if(!t.length)return t;const n=t[0].type,r=this.limits[n];return void 0===r?t:r?t.slice(0,r):[]},this._managePrerolls=e=>{const t=this._manager.items.preroll;if(e&&null!=t&&t.length){const e=this._filterByLimits(t);e.length&&(this._manager.currentItems=e,this._manager.currentState="show")}},this._managePostrolls=e=>{const t=this._manager.items.postroll;if(e&&null!=t&&t.length){const e=this._filterByLimits(t);this._manager.currentItems.length||(this._manager.currentItems=e),e.length&&(this._manager.currentState="show")}},this._manageTimeUpdate=e=>{const{duration:t,isPlaying:n}=this._playback;if(!n)return;const r=this._manager.items.preroll,i=this._manager.items.postroll,a=Math.ceil(t)-e;if(!this._manager.currentItems.length)if(0===e&&null!=r&&r.length)this._managePrerolls(!0);else if(null!=i&&i.length&&a<=5){const e=this._filterByLimits(i);e.length&&(this._manager.currentItems=e,this._manager.currentState="prefetch",this._manager.startTimer=a)}else this._manageMidrolls(e)},this._onChangeActivePage=()=>{var e;null===(e=this._manager.currentProvider)||void 0===e||e[document.hidden?"pause":"resume"]()},this._manager=e,this._playback=t;const n=(e.items.midroll||[]).concat(e.items.midpostroll||[]);this.limits=$p(e.limits),this.midrolls=this.calcMidrolls(n||[]),this._updateCuePoints(),Ca(this,{limits:Hr,viewedItems:Hr})}init(){this.__disposers.push($i((()=>({loaded:this._manager.isLoaded,provider:this._manager.currentProvider})),(e=>{let{loaded:t,provider:n}=e;t&&n&&n.registerEvents({onEnd:this.onEnd.bind(this)})}))),this.__disposers.push($i((()=>this._playback.wasStarted),this._managePrerolls)),this.__disposers.push($i((()=>this._playback.ended),this._managePostrolls)),this.__disposers.push($i((()=>Math.floor(this._playback.currentTime)),this._manageTimeUpdate)),this.__disposers.push($i((()=>({state:this._manager.currentState,hasItems:!!this._manager.currentItems.length,loading:this._manager.isLoading,ended:this._playback.ended})),(e=>{let{state:t,hasItems:n,loading:r,ended:i}=e;n||i?"show"===t&&r&&this._playback.pause():this._playback.playWithHandlePermissions()})))}calcMidrolls(e){return Bp(e,"start")}_updateCuePoints(){this._manager.cuePoints=Object.keys(this.midrolls).map((e=>Number(e)))}_manageMidrolls(e){const t=Object.keys(this.midrolls);if(t.length){const n=t.find((t=>{const n=parseInt(t,10),r=n-e;return n===e||r>0&&r<=5}));if(n&&this.midrolls[n]){const e=this._filterByLimits(this.midrolls[n]);e.length&&(this._manager.currentItems=e,this._manager.currentState="prefetch",this._manager.startTimer=5)}}}onEnd(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(document.removeEventListener("visibilitychange",this._onChangeActivePage),this._manager.currentAdvert){const{name:t,type:n}=this._manager.currentAdvert;this.viewedItems=[...this.viewedItems,t],void 0!==this.limits[n]&&e&&(this.limits=Ft(Ft({},this.limits),{},{[n]:(this.limits[n]||1)-1}))}this._updateCuePoints()}get limits(){return this._limits.get()}set limits(e){this._limits.set(e)}get midrolls(){return this._midrolls.get()}set midrolls(e){this._midrolls.set(e)}get viewedItems(){return this._viewedItems.get()}set viewedItems(e){this._viewedItems.set(e)}}function qp(){return Tc().resolve("IAdvertPlugin")}const Yp=e=>e("IAdvertPlugin"),Qp="yandex-advert-module__SDKWrapper___RUvIF",Zp="yandex-advert-module__SDKVideo___jxyQd",Xp="yandex-advert-module__SDKVideoHidden___ECHmh";var Jp=n(5374);const ev=e=>{const t=e.xmlString;return(new DOMParser).parseFromString(t,"text/xml")},tv=e=>{var t,n;if(!e||!window.DOMParser)return;const r=null!==(t=null===(n=ev(e).querySelector("Creative Duration"))||void 0===n||null===(n=n.childNodes[0])||void 0===n?void 0:n.nodeValue)&&void 0!==t?t:"";if(!r)return e.children.length?tv(e.children[0]):void 0;const i=r.split(":"),a=parseInt(i[2],10)+60*parseInt(i[1],10);return"number"==typeof a?a:void 0},nv=e=>{var t;if(e&&window.DOMParser)return(null===(t=ev(e).querySelector("Ad"))||void 0===t?void 0:t.getAttribute("id"))||""},rv=e=>{var t,n;if(!e||!window.DOMParser)return 0;const r=(null!==(t=null===(n=ev(e))||void 0===n||null===(n=n.querySelector("Creative Linear"))||void 0===n?void 0:n.getAttribute("skipoffset"))&&void 0!==t?t:"").split(":"),i=parseInt(r[2],10);return Number.isNaN(i)?0:i},iv=e=>{var t;if(!e||!window.DOMParser)return;const n=ev(e).querySelector("Extension[type=campaignId]");return(null==n||null===(t=n.textContent)||void 0===t?void 0:t.trim())||""},av=["AdClickThru","AdContentSizeChange","AdPlayingStateChange","AdPodClose","AdPodComplete","AdPodError","AdPodImpression","AdPodSkipped","AdPodStarted","AdPodStopped","AdPodVideoFirstQuartile","AdPodVideoMidpoint","AdPodVideoThirdQuartile","AdRemainingTimeChange","AdSkippableStateChange","AdStarted","AdStopped","AdVolumeAvailabilityStateChange","AdVolumeChange","AllAdPodVideoComplete"],ov=e=>{if(!e)return;const t=(new TextEncoder).encode(e),n=Array.from(t,(e=>String.fromCodePoint(e))).join("");return window.btoa(n)};class sv{constructor(e,t){this._instance=null,this._urlParams=void 0,this._adfoxParams=void 0,this._timeout=void 0,this._duration=null,this._viewedPercent=0,this._info=null,this._preparedUrl=void 0,this._advertId="",this._preventAdvertLogic=void 0,this.config=void 0,this.load=async()=>{const e=window.ya,t=this._getSdkParams();if(!e)throw new Error("YandexSDK: No SDK found");try{const n=await e.videoAd.loadModule("AdLoader"),r=await n.AdLoader.create(t),i=await r.loadAd();this._instance={adViewer:i},this._setAdvertId(i),this._setInfo(i.getNonYandexVastXmlTree()),this._instance.adPlaybackController=this._initPlayback(),this.volume=0,this._debug(i.getNonYandexVastXmlTree())}catch(e){throw console.error(e),e}},this.preload=()=>{var e,t,n,r;const{quality:i}=this.config,a={desiredBitrate:null!==(e=null==i?void 0:i.bitrate)&&void 0!==e?e:319600,preferableAdSize:{height:null!==(t=null==i?void 0:i.height)&&void 0!==t?t:720,width:null!==(n=null==i?void 0:i.width)&&void 0!==n?n:1280}};null===(r=this._instance)||void 0===r||null===(r=r.adViewer)||void 0===r||r.preload(Ft({videoSlot:this.config.video},a))},this.play=()=>{var e;this._preventAdvertLogic?this.destroy():null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.playAd()},this.resume=()=>{var e;null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.resumeAd()},this.pause=()=>{var e;null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.pauseAd()},this.destroy=()=>{var e;null!==(e=this._instance)&&void 0!==e&&null!==(e=e.adViewer)&&void 0!==e&&e.destroy&&(this._instance.adViewer.destroy(),this._instance=null)},this.config=e,this.config.data=Ft(Ft({},e.data),{},{url_template:e.data.url_template}),this._preparedUrl=t(this.config.data.url_template),this._urlParams=Rt(this._preparedUrl),this._adfoxParams=Rt(this._preparedUrl.toLowerCase(),!0,"ownerid"),this._preventAdvertLogic=this.config.preventStartAdvert,this._timeout=1e3*(this.config.data.adtimeout||3)}_getSdkParams(){if(this._preparedUrl.indexOf("adfoxsdk")>=0)return{wrapperMaxCount:5,adFoxParameters:{ownerId:this._adfoxParams.ownerid,params:this._adfoxParams,containerId:this.config.containerId}};if(this._preparedUrl.indexOf("ads/adfox")>=0)return{wrapperMaxCount:5,category:+this._urlParams.category||0,vastUrl:this._preparedUrl,adBreakType:this.config.data.type};{const e=window.location.href,t={wrapperMaxCount:5,partnerId:+this._urlParams.partnerid,impId:+this._urlParams.impid,category:+this._urlParams.category||0,vmapLoadTimeout:this._timeout,targetRef:e,additionalParams:{"partner-stat-id":e}},n={wrapperMaxCount:5,vmapLoadTimeout:this._timeout,targetRef:e,adBreakType:"preroll",vastUrl:this._preparedUrl};return this._preparedUrl.includes("ssp.rutube")?n:t}}registerEvents(e){const t=e.onSuccess?(0,Jp.once)(e.onSuccess):void 0;let n=!1;const r={AdPodStarted:()=>{var t;n||(null===(t=e.onStart)||void 0===t||t.call(e),n=!0)},AdPodError:t=>{var n;return null===(n=e.onError)||void 0===n?void 0:n.call(e,t)},AdPodSkipped:()=>{var n;null===(n=e.onSkip)||void 0===n||n.call(e),null==t||t()},AdPodClose:()=>{var n;null===(n=e.onClose)||void 0===n||n.call(e),null==t||t()},AdClickThru:()=>{var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e)},AdPodImpression:()=>{var t;return null===(t=e.onImpression)||void 0===t?void 0:t.call(e)},AdPodStopped:()=>null==t?void 0:t(),AdStopped:()=>{var n;null==t||t(),null===(n=e.onEnd)||void 0===n||n.call(e,!0)},AdPlayingStateChange:t=>{if("string"!=typeof t){var r,i;if(!n&&"play"===(null==t?void 0:t.playingState))null===(r=e.onStart)||void 0===r||r.call(e),n=!0;if(null!=t&&t.playingState&&["pause","play"].includes(t.playingState))null===(i=e.onPlayingState)||void 0===i||i.call(e,"play"===(null==t?void 0:t.playingState))}},AdRemainingTimeChange:()=>{var t,n;const r=null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t?void 0:t.getAdRemainingTime();this._duration||(this._duration=r||null);const i=((e,t)=>{if(!e||null===t)return 0;let n=e-t;return n&&!isNaN(n)?(n=Math.max(n,0),Math.min(n/e*100,100)):0})(this._duration,r||null);this._viewedPercent=this._viewedPercent>i?this._viewedPercent:i,null===(n=e.onProgress)||void 0===n||n.call(e,this._viewedPercent)}};Object.keys(r).forEach((e=>{var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.subscribe(e,r[e])}))}_initPlayback(){var e;const{video:t,wrapper:n}=this.config,r=Boolean(t.offsetWidth&&t.offsetWidth>450);return null===(e=this._instance)||void 0===e?void 0:e.adViewer.createPlaybackController(t,n,{vpaidTimeout:this._timeout,bufferEmptyLimit:3,bufferFullTimeout:5e3,controlsSettings:{controlsVisibility:{play:r,mute:r,adLabel:!1,timeline:!1,loader:!0},visibility:!this.config.hideControls}})}_setInfo(e){e&&(this._info={campaignId:iv(e),duration:tv(e),skipDuration:rv(e),advertId:nv(e),vastBase64:ov(e.xmlString)})}_debug(e){const t="undefined"!=typeof window&&-1!==window.location.search.indexOf("debug_yandex_sdk"),n=null==e?void 0:e.xmlString;if(t){var r,i,a,o;const e=e=>(new DOMParser).parseFromString(e,"text/xml");console.info("xmlString:",e(n)),console.info("Creative Duration",e(n).querySelector("Creative Duration")),console.info("Creative Linear",null===(r=e(n))||void 0===r?void 0:r.querySelector("Creative Linear")),console.info("Duration:",null===(i=this.info)||void 0===i?void 0:i.duration),console.info("SkipDuration:",null===(a=this.info)||void 0===a?void 0:a.skipDuration),console.info("isSkippable:",null===(o=this._instance)||void 0===o||null===(o=o.adPlaybackController)||void 0===o?void 0:o.getAdSkippableState()),av.forEach((e=>{var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.subscribe(e,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.info(e,n)}))}))}}_setAdvertId(e){try{var t;if(!e)throw new Error("AdViewer is not defined");const n=nv(e.getNonYandexVastXmlTree())||(null==e||null===(t=e.getAdMetadata)||void 0===t||null===(t=t.call(e)[0])||void 0===t?void 0:t.adId);if(!n)throw new Error("AdvertId not found in VAST XML tree or ad metadata");this._advertId=n}catch(e){console.log("Failed to set advertId")}}toggleControls(e){var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.setControlsVisibility({play:e,mute:e,adLabel:!1,timeline:!1,loader:!0})}get info(){return this._info}get advertId(){return this._advertId}get volume(){var e;return null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e?void 0:e.getAdVolume()}set volume(e){var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.setAdVolume(e||0)}get advert(){return this.config.data}get adVolumeAvailability(){var e;return null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e?void 0:e.getAdVolumeAvailabilityState()}get ownerId(){return this._urlParams.ownerId}}const lv=()=>{try{const e=window.navigator.userAgent.toLowerCase();return/iPhone|iPad|iPod/i.test(e)||/Macintosh/i.test(e)&&navigator.maxTouchPoints>2}catch(e){return!1}},uv=()=>{try{const e=window.navigator.userAgent.toLowerCase();return/^((?!chrome|android).)*safari/i.test(e)}catch(e){return!1}},cv=()=>{try{return/Android|BlackBerry|HarmonyOS|Harmony|Huawei|HUAWEI|HuaweiBrowser|haowangzhi|iPhone|iPad|iPod/i.test(window.navigator.userAgent)||/Macintosh/i.test(window.navigator.userAgent)&&window.navigator.maxTouchPoints>2}catch(e){return!1}},dv=("object"==typeof window&&"ontouchstart"in window&&/Linux|Macintosh|Windows/i.test(window.navigator.userAgent),Ts.builder().use(Bs).group("activities").event("showCreditsSkipButton").message((()=>({methodName:At.CREDS_SKIP_SHOW}))).commit().event("clickCreditsSkipButton").message((()=>({methodName:At.CREDS_SKIP_CLICK}))).commit().event("showCreditsWatchButton").message((()=>({methodName:At.CREDS_WATCH_SHOW}))).commit().event("clickCreditsWatchButton").message((()=>({methodName:At.CREDS_WATCH_CLICK}))).commit().event("showIntroSkipButton").message((()=>({methodName:At.INTRO_SKIP_SHOW}))).commit().event("clickIntroSkipButton").message((()=>({methodName:At.INTRO_SKIP_CLICK}))).commit().event("showIntroWatchButton").message((()=>({methodName:At.INTRO_WATCH_SHOW}))).commit().event("clickIntroWatchButton").message((()=>({methodName:At.INTRO_WATCH_CLICK}))).commit().endGroup().build()),hv={ADVERT_STAT_RECEIVE:"adreceive",ADVERT_STAT_RECEIVE_PREROLL:"adreceivepreroll",ADVERT_STAT_RECEIVE_MIDROLL:"adreceivemidroll",ADVERT_STAT_RECEIVE_POSTROLL:"adreceivepostroll",ADVERT_STAT_RECEIVE_OVERLAY:"adreceiveoverlay",ADVERT_STAT_START:"adstart",ADVERT_STAT_START_PREROLL:"adstartpreroll",ADVERT_STAT_START_MIDROLL:"adstartmidroll",ADVERT_STAT_START_POSTROLL:"adstartpostroll",ADVERT_STAT_START_OVERLAY:"adstartoverlay",ADVERT_STAT_BLOCK_START:"ad_block_start",ADVERT_STAT_BLOCK_START_PREROLL:"ad_preroll_block_start",ADVERT_STAT_BLOCK_START_MIDROLL:"ad_midroll_block_start",ADVERT_STAT_BLOCK_START_NEWMIDROLL:"ad_newmidroll_block_start",ADVERT_STAT_BLOCK_START_LIVEMIDROLL:"ad_livemidroll_block_start",ADVERT_STAT_BLOCK_START_POSTROLL:"ad_postroll_block_start",ADVERT_STAT_BLOCK_END:"ad_block_end",ADVERT_STAT_BLOCK_END_PREROLL:"ad_preroll_block_end",ADVERT_STAT_BLOCK_END_MIDROLL:"ad_midroll_block_end",ADVERT_STAT_BLOCK_END_NEWMIDROLL:"ad_newmidroll_block_end",ADVERT_STAT_BLOCK_END_LIVEMIDROLL:"ad_livemidroll_block_end",ADVERT_STAT_BLOCK_END_POSTROLL:"ad_postroll_block_end",ADVERT_STAT_END:"ad_end",ADVERT_STAT_END_CLOSE:"ad_end_close",ADVERT_STAT_CLICK:"ad_click",ADVERT_STAT_CLOSE:"adclose",ADVERT_STAT_ERROR:"aderror",ADVERT_STAT_SEND:"adsend",ADVERT_STAT_SKIP:"ad_skip",ADVERT_STAT_SEND_PREROLL:"adsendpreroll",ADVERT_STAT_SEND_MIDROLL:"adsendmidroll",ADVERT_STAT_SEND_POSTROLL:"adsendpostroll",ADVERT_STAT_SEND_OVERLAY:"adsendoverlay"},pv=Ts.builder().use(Bs).group("advert").event("request").params().message((e=>{let{params:{type_ad:t}}=e;return{methodName:Pt.AD_REQUEST,resolvers:[{names:["{{type_ad}}"],value:t}]}})).commit().event("send").params().message((e=>{let{params:{advertName:t}}=e;return{methodName:hv.ADVERT_STAT_SEND,resolvers:[{names:["{{adformat}}"],value:t}]}})).commit().event("sendByType").params().message((e=>{let{params:{advertName:t,type:n}}=e;return{methodName:hv[`ADVERT_STAT_SEND_${n.toUpperCase()}`],resolvers:[{names:["{{adformat}}"],value:t}]}})).commit().event("receive").params().message((e=>{let{params:{advertName:t,campaignId:n}}=e;return{methodName:hv.ADVERT_STAT_RECEIVE,resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:n}]}})).commit().event("receiveByType").params().message((e=>{let{params:{advertName:t,type:n,campaignId:r}}=e;return{methodName:hv[`ADVERT_STAT_RECEIVE_${n.toUpperCase()}`],resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:r}]}})).commit().event("start").params().message((e=>{let{params:{advertName:t,campaignId:n}}=e;return{methodName:hv.ADVERT_STAT_START,resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:n}]}})).commit().event("startByType").params().message((e=>{let{params:{advertName:t,type:n,campaignId:r}}=e;return{methodName:hv[`ADVERT_STAT_START_${n.toUpperCase()}`],resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:r}]}})).commit().event("close").params().message((e=>{let{params:{advertName:t,campaignId:n}}=e;return{methodName:hv.ADVERT_STAT_CLOSE,resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:n}]}})).commit().event("skip").params().message((e=>{let{params:{advertName:t,campaignId:n}}=e;return{methodName:hv.ADVERT_STAT_SKIP,resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:n}]}})).commit().event("error").params().message((e=>{let{params:{advertName:t,campaignId:n}}=e;return{methodName:hv.ADVERT_STAT_ERROR,resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:n}]}})).commit().event("click").params().message((e=>{let{params:{advertName:t,campaignId:n}}=e;return{methodName:hv.ADVERT_STAT_CLICK,resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:n}]}})).commit().event("adClick").params().message((e=>{let{params:{advertName:t}}=e;return{methodName:hv.ADVERT_STAT_CLICK,resolvers:[{names:["{{adformat}}"],value:t}]}})).commit().event("end").params().message((e=>{let{params:{advertName:t,campaignId:n}}=e;return{methodName:hv.ADVERT_STAT_END,resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:n}]}})).commit().event("loadAfterAd").params().message((()=>({methodName:Pt.LOAD_AFTER_AD}))).commit().event("unload").params().message((e=>{let{params:{advertName:t,campaignId:n}}=e;return{methodName:hv.ADVERT_STAT_END_CLOSE,resolvers:[{names:["{{adformat}}"],value:t},{names:["{{campaign_id}}"],value:n}]}})).commit().event("blockStart").params().message((e=>{let{params:{advertName:t}}=e;return{methodName:hv.ADVERT_STAT_BLOCK_START,resolvers:[{names:["{{adformat}}"],value:t}]}})).commit().event("blockStartByType").params().message((e=>{let{params:{advertName:t,type:n}}=e;return{methodName:hv[`ADVERT_STAT_BLOCK_START_${n.toUpperCase()}`],resolvers:[{names:["{{adformat}}"],value:t}]}})).commit().event("blockStartYm").params().message((e=>{let{params:{type_ad:t}}=e;return{methodName:Pt.ADVERT_STAT_BLOCK_START,resolvers:[{names:["{{type_ad}}"],value:t}]}})).commit().event("blockStartYmCustom").params().message((e=>{let{params:{type_ad:t,event:n}}=e;return{methodName:Pt[n],resolvers:[{names:["{{type_ad}}"],value:t}]}})).commit().event("blockEnd").params().message((e=>{let{params:{advertName:t}}=e;return{methodName:hv.ADVERT_STAT_BLOCK_END,resolvers:[{names:["{{adformat}}"],value:t}]}})).commit().event("blockEndByType").params().message((e=>{let{params:{advertName:t,type:n}}=e;return{methodName:hv[`ADVERT_STAT_BLOCK_END_${n.toUpperCase()}`],resolvers:[{names:["{{adformat}}"],value:t}]}})).commit().event("blockEndYm").params().message((e=>{let{params:{type_ad:t}}=e;return{methodName:Pt.ADVERT_STAT_BLOCK_END,resolvers:[{names:["{{type_ad}}"],value:t}]}})).commit().event("blockEndYmCustom").params().message((e=>{let{params:{type_ad:t,event:n}}=e;return{methodName:Pt[n],resolvers:[{names:["{{type_ad}}"],value:t}]}})).commit().event("view").params().message((e=>{let{params:{type_ad:t}}=e;return{methodName:Pt.AD_VIEW,resolvers:[{names:["{{type_ad}}"],value:t}]}})).commit().endGroup().build(),vv=Ts.builder().use(Bs).group("captions").event("show").params().message((e=>{let{params:t}=e;return{methodName:Pt.SUBTITLES,resolvers:[{names:["{{action}}"],value:t.action},{names:["{language}"],value:t.language},{names:["{result}"],value:t.result}]}})).commit().event("click").params().message((e=>{let{params:t}=e;return{methodName:Pt.SUBTITLES,resolvers:[{names:["{{action}}"],value:t.action},{names:["{language}"],value:t.language},{names:["{result}"],value:t.result}]}})).commit().endGroup().build(),mv=Ts.builder().use(Bs).group("channelSubscription").event("show").message((()=>({methodName:Pt.SUBSCRIBE_SHOW}))).commit().group("click").event("subscribe").message((()=>({methodName:Pt.SUBSCRIBE_CLICK}))).commit().event("unsubscribe").message((()=>({methodName:Pt.UNSUBSCRIBE_CLICK}))).commit().endGroup().group("notify").event("on").message((()=>({methodName:Pt.SUBSCRIBE_NOTIFY_ON}))).commit().event("off").message((()=>({methodName:Pt.SUBSCRIBE_NOTIFY_OFF}))).commit().endGroup().endGroup().build(),fv=Ts.builder().use(Bs).group("chapters").event("menuClick").message((()=>({methodName:Pt.CHAPTER_MENU_CLICK}))).commit().event("descriptionClick").message((()=>({methodName:Pt.CHAPTER_DESC_CLICK}))).commit().event("buttonShow").message((()=>({methodName:Pt.CHAPTER_BUTTON_SHOW}))).commit().event("buttonClick").message((()=>({methodName:Pt.CHAPTER_BUTTON_CLICK}))).commit().endGroup().build(),_v=Ts.builder().use(Bs).group("CommunicationBanner").event("Show").params().message((e=>{let{params:t}=e;return{methodName:Pt.CBANNER_SHOW,resolvers:[{names:["{{onboarding_id}}"],value:t.onboardingId},{names:["{{anums_lp}}"],value:String(t.anumsLp)}]}})).commit().event("Click").params().message((e=>{let{params:t}=e;return{methodName:Pt.CBANNER_CLICK,resolvers:[{names:["{{onboarding_id}}"],value:t.onboardingId},{names:["{{anums_lp}}"],value:String(t.anumsLp)},{names:["{{num_lp}}"],value:String(t.numLp)},{names:["{{ind_lp}}"],value:String(t.indLp)}]}})).commit().event("Close").params().message((e=>{let{params:t}=e;return{methodName:Pt.CBANNER_CLOSE,resolvers:[{names:["{{onboarding_id}}"],value:t.onboardingId},{names:["{{anums_lp}}"],value:String(t.anumsLp)}]}})).commit().endGroup().build(),gv=Ts.builder().use(Bs).group("controls").event("logoClick").params().message((e=>{let{params:{videoUrl:t}}=e;return{methodName:Pt.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:It.SITE_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("unmuteClick").message((()=>({methodName:Pt.UNMUTE_CLICK}))).commit().event("unmuteShow").message((()=>({methodName:Pt.UNMUTE_VIEW}))).commit().endGroup().build(),yv=Ts.builder().use(Bs).group("endScreen").event("channelLogoClick").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:Pt.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:It.CHANNEL_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("show").params().message((()=>({methodName:Pt.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_SHOW,resolvers:[]}))).commit().event("nextVideoClick").params().message((()=>({methodName:Pt.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_CLICK,resolvers:[]}))).commit().event("showRecommendations").params().message((()=>({methodName:Pt.RECOMMENDATIONS_END_SCREEN_RECS_SHOW,resolvers:[]}))).commit().event("recommendationClick").params().message((()=>({methodName:Pt.RECOMMENDATIONS_END_SCREEN_RECS_CLICK,resolvers:[]}))).commit().event("action").params().message((e=>{let{params:t}=e;return{methodName:Pt.END_SCREEN,resolvers:[{names:["{{end_screen}}"],value:t.end_screen},{names:["{{clicked_url}}"],value:t.clicked_url||""},{names:["{{next_video_id}}"],value:t.next_video_id||""}]}})).commit().event("clickAction").params().message((()=>({methodName:At.CLICK_ENDSCREEN_ACTION}))).commit().event("click").params().message((()=>({methodName:At.CLICK_ENDSCREEN}))).commit().event("cancel").params().message((()=>({methodName:At.CANCEL_ENDSCREEN}))).commit().event("showAlt").params().message((()=>({methodName:At.SHOW_ENDSCREEN}))).commit().endGroup().build(),bv=Ts.builder().use(Bs).group("playerMode").event("fullscreen").params().message((e=>{let{params:{isFullScreen:t}}=e;return{methodName:t?At.ENTER_FULLSCREEN:At.EXIT_FULL_SCREEN}})).commit().event("change").params().message((e=>{let{params:t}=e;return{methodName:Pt.SCREEN_MODE,resolvers:[{names:["{{screen_mode}}"],value:t}]}})).commit().endGroup().build(),Ev=Ts.builder().use(Bs).group("nextVideo").event("Click").params().message((e=>{let{params:t}=e;return{methodName:Pt.NEXT_VIDEO,resolvers:[{names:["{{clicked_url}}"],value:t.clicked_url},{names:["{{next_video_id}}"],value:t.next_video_id}]}})).commit().endGroup().build(),wv=Ts.builder().use(Bs).group("pauseScreen").event("show").params().message((()=>({methodName:Pt.RECOMMENDATIONS_PAUSE_SCREEN_SHOW,resolvers:[]}))).commit().event("click").params().message((()=>({methodName:Pt.RECOMMENDATIONS_PAUSE_SCREEN_CLICK,resolvers:[]}))).commit().event("action").params().message((e=>{let{params:t}=e;return{methodName:Pt.PAUSE_SCREEN,resolvers:[{names:["{{action}}"],value:t.action},{names:["{{list_of_cards}}"],value:t.list_of_cards?JSON.stringify(t.list_of_cards):""},{names:["{{clicked_url}}"],value:t.clicked_url||""},{names:["{{position}}"],value:t.position||""}]}})).commit().endGroup().group("recommendationButton").event("show").params().message((()=>({methodName:Pt.RECOMMENDATIONS_BUTTON_SHOW,resolvers:[]}))).commit().event("click").params().message((()=>({methodName:Pt.RECOMMENDATIONS_BUTTON_CLICK,resolvers:[]}))).commit().endGroup().build(),Sv=Ts.builder().use(Bs).group("pictureInPicture").event("enterClick").message((()=>({methodName:At.PIP_ENTER_CLICK}))).commit().event("exitClick").message((()=>({methodName:At.PIP_EXIT_CLICK}))).commit().event("backShow").message((()=>({methodName:At.PIP_BACK_SHOW}))).commit().event("backClick").message((()=>({methodName:At.PIP_BACK_CLICK}))).commit().endGroup().build(),Cv=Ts.builder().use(Bs).group("platformSubscription").event("showRemoveAdsButton").params().message((e=>{let{params:{advertName:t}}=e;return{methodName:At.AD_OFF_BUTTON_SHOW,advertName:t}})).commit().event("clickRemoveAdsButton").params().message((e=>{let{params:{advertName:t}}=e;return{methodName:At.AD_OFF_BUTTON_CLICK,advertName:t}})).commit().endGroup().build(),kv=Ts.builder().use(Bs).group("playlist").event("next").params().message((e=>{let{params:t}=e;return{methodName:Pt.NEXT_VIDEO,resolvers:[{names:["{{next_video_id}}"],value:t}]}})).commit().event("prev").params().message((e=>{let{params:t}=e;return{methodName:Pt.PREV_VIDEO,resolvers:[{names:["{{previous_video_id}}"],value:t}]}})).commit().endGroup().build(),Av=Ts.builder().use(Bs).group("qualities").event("changeQuality").message((()=>({methodName:Pt.QUALITY}))).commit().endGroup().build(),Pv=Ts.builder().use(Bs).group("replayWidget").event("click").message((()=>({methodName:Pt.FROM_BEGINNINIG}))).commit().endGroup().group("watchFromStart").event("click").message((()=>({methodName:Pt.WATCH_FROM_START_CLICK}))).commit().event("show").message((()=>({methodName:Pt.WATCH_FROM_START_SHOW}))).commit().endGroup().build(),Iv=Ts.builder().use(Bs).group("seasons").event("ButtonShow").params().message((()=>({methodName:Pt.RECOMMENDATIONS_SEASONS_BUTTON_SHOW,resolvers:[]}))).commit().event("show").params().message((()=>({methodName:Pt.RECOMMENDATIONS_SEASONS_OPEN,resolvers:[]}))).commit().event("click").params().message((e=>{let{params:{clicked_url:t}}=e;return{methodName:Pt.RECOMMENDATIONS_SEASONS_EPISODE_CLICK,resolvers:[{names:["{{clicked_url}}"],value:t}]}})).commit().endGroup().build(),Tv=Ts.builder().use(Bs).group("playerSettings").group("moreMenu").event("copyLinkVideo").message((()=>({methodName:Pt.MORE_MENU_COPY_LINK_VIDEO}))).commit().event("copyLinkAtTime").message((()=>({methodName:Pt.MORE_MENU_COPY_LINK_AT_TIME}))).commit().event("copyTag").message((()=>({methodName:Pt.MORE_MENU_COPY_TAG}))).commit().event("replay").message((()=>({methodName:Pt.MORE_MENU_REPLAY}))).commit().event("reportError").message((()=>({methodName:Pt.MORE_MENU_REPORT_ERROR}))).commit().event("copyInfo").message((()=>({methodName:Pt.MORE_MENU_COPY_INFO}))).commit().event("reportVideo").message((()=>({methodName:Pt.MORE_MENU_REPORT_VIDEO}))).commit().event("hotkeyManual").message((()=>({methodName:Pt.MORE_MENU_HOTKEY_MANUAL}))).commit().event("replayVideoOn").message((()=>({methodName:Pt.MORE_MENU_REPLAY_VIDEO_ON}))).commit().event("replayVideoOff").message((()=>({methodName:Pt.MORE_MENU_REPLAY_VIDEO_OFF}))).commit().endGroup().endGroup().build(),Rv=Ts.builder().use(Bs).group("settings").event("autoplay").params().message((e=>{let{params:{action:t}}=e;return{methodName:Pt.PLAYBACK_AUTOPLAY,params:{action:t}}})).commit().event("playbackRate").params().message((e=>{let{params:t}=e;return{methodName:Pt.SPEED,resolvers:[{names:["{{playback_speed}}"],value:String(t)}]}})).commit().endGroup().build(),xv=Ts.builder().use(Bs).group("sharing").event("Share").params().message((e=>{let{params:{socialNetwork:t}}=e;return{methodName:Pt.SHARE,resolvers:[{names:["{{action}}"],value:"share"},{names:["{{social_network}}"],value:t}]}})).commit().event("Show").message((()=>({methodName:Pt.SHARE,resolvers:[{names:["{{action}}"],value:"show"}]}))).commit().endGroup().build(),Lv=Ts.builder().use(Bs).group("header").event("logoClick").params().message((e=>{let{params:{videoUrl:t}}=e;return{methodName:Pt.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:It.CHANNEL_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("titleClick").params().message((e=>{let{params:{videoUrl:t}}=e;return{methodName:Pt.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:It.VIDEO_TITLE},{names:["{{clicked_url}}"],value:t}]}})).commit().endGroup().build();var Ov;let Nv,Mv;Ov=class extends sl{constructor(e,t,n,r){super(e,t,n,r),this._counterHelper=void 0,this._counterHelper=this.buildCounter()}getCounter(){return super.getCounter().extends(Ev).extends(yv).extends(wv).extends(Iv).extends(Rv).extends(vv).extends(bv).extends(Lv).extends(pv).extends(mv).extends(gv).extends(xv).extends(Cv).extends(Tv).extends(Pv).extends(fv).extends(Sv).extends(kv).extends(Av).extends(dv).extends(_v)}buildCounter(){return this.getCounter().build()}get counterHelper(){return this._counterHelper}},[Mv,Nv]=en(Ov,[To({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","Resolve","IPlaceholdersState"]})],[],0,void 0,sl).c,Nv();const Dv=()=>{const e=Rc("IStatisticState");return e instanceof Mv?e:null};class Fv extends Error{constructor(e,t){super(e),this.fatal=void 0,this.fatal=t}}class Bv{constructor(e,t,n){this._playAfterQualityChange=!1,this._timeAfterQualityChange=void 0,this._isChangingQuality=!1,this.instance=void 0,this._provider=e,this._playback=t,this._src=n}_onDataLoaded(){this._isChangingQuality=!1}_onCanPlay(){this._isChangingQuality||this._playAfterQualityChange&&(this._playAfterQualityChange=!1,this._timeAfterQualityChange&&this._playback.seek(this._timeAfterQualityChange),this._playback.play().catch((e=>{console.error("_onCanPlay:",e)})))}init(){return this._playback.player.addEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.addEventListener("canplay",this._onCanPlay.bind(this)),this._playback.player.src=this._src,new Promise((e=>{e(this)}))}destroy(){this._playback.player.removeEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.removeEventListener("canplay",this._onCanPlay.bind(this))}get type(){return"default"}changeLevel(e,t){this._provider.autoQuality=-1===t,this._isChangingQuality=!0;const n=this._provider.qualities.findIndex((e=>e.isAuto));this._provider.activeQualityIndex=this._provider.autoQuality?n:e;const r=this._provider.qualities[this._provider.activeQualityIndex];if(r&&this._playback){this._playback.paused?this._playAfterQualityChange=!1:(this._playback.pause(),this._playAfterQualityChange=!0),this._playback&&r.edge&&(this._timeAfterQualityChange=this._playback.currentTime,this._playback.src=r.edge,this._playback.load())}}}const Hv=(e,t,n)=>{var r;const i=document.createElement("script");i.src=e,i.onload=t,i.onerror=n;const a=document.getElementsByTagName("script")[0];null===(r=a.parentNode)||void 0===r||r.insertBefore(i,a)},Vv={},Uv=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hv;const a=e=>window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:void 0,o=a(t);return o&&r(o)?Promise.resolve(o):new Promise(((r,o)=>{if(Vv[e])return void Vv[e].push({resolve:r,reject:o});Vv[e]=[{resolve:r,reject:o}];const s=t=>{Vv[e].forEach((e=>e.resolve(t)))};if(n){const e=()=>window[n];window[n]=()=>{e&&e(),s(a(t))}}i(e,(()=>{n||s(a(t))}),(t=>{Vv[e].forEach((e=>{e.reject(t)})),delete Vv[e]}))}))},jv=4e3,Wv="manifestLoadError",zv="manifestParsingError",$v="levelLoadError",Gv="fragLoadError",Kv="bufferAppendError",qv="manifestIncompatibleCodecsError",Yv="keySystemNoKeys",Qv="keySystemNoAccess",Zv="keySystemNoSession",Xv="keySystemNoConfiguredLicense",Jv="keySystemLicenseRequestFailed",em="keySystemServerCertificateUpdateFailed",tm={manifestLoadError:Wv,manifestLoadTimeOut:Wv,manifestParsingError:zv,levelLoadError:$v,levelLoadTimeOut:"fragLoadTimeOut",fragLoadError:Gv,fragLoadTimeOut:Gv,bufferAppendError:Kv,bufferAppendingError:Kv,manifestIncompatibleCodecsError:qv,keySystemNoKeys:Yv,keySystemNoAccess:Qv,keySystemNoSession:Zv,keySystemNoConfiguredLicense:Xv,keySystemLicenseRequestFailed:Jv,keySystemServerCertificateUpdateFailed:em},nm={MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:10,MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:11,XLINK_LOADER_LOADING_FAILURE_ERROR_CODE:12,SEGMENT_BASE_LOADER_ERROR_CODE:15,TIME_SYNC_FAILED_ERROR_CODE:16,FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE:17,FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE:18,URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE:19,APPEND_ERROR_CODE:20,REMOVE_ERROR_CODE:21,DATA_UPDATE_FAILED_ERROR_CODE:22,CAPABILITY_MEDIASOURCE_ERROR_CODE:23,CAPABILITY_MEDIAKEYS_ERROR_CODE:24,DOWNLOAD_ERROR_ID_MANIFEST_CODE:25,DOWNLOAD_ERROR_ID_SIDX_CODE:26,DOWNLOAD_ERROR_ID_CONTENT_CODE:27,DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:28,DOWNLOAD_ERROR_ID_XLINK_CODE:29,MANIFEST_ERROR_ID_PARSE_CODE:31,MANIFEST_ERROR_ID_NOSTREAMS_CODE:32,TIMED_TEXT_ERROR_ID_PARSE_CODE:33,MANIFEST_ERROR_ID_MULTIPLEXED_CODE:34,MEDIASOURCE_TYPE_UNSUPPORTED_CODE:35,MEDIA_KEYERR_CODE:100,MEDIA_KEYERR_UNKNOWN_CODE:101,MEDIA_KEYERR_CLIENT_CODE:102,MEDIA_KEYERR_SERVICE_CODE:103,MEDIA_KEYERR_OUTPUT_CODE:104,MEDIA_KEYERR_HARDWARECHANGE_CODE:105,MEDIA_KEYERR_DOMAIN_CODE:106,MEDIA_KEY_MESSAGE_ERROR_CODE:107,MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE:108,SERVER_CERTIFICATE_UPDATED_ERROR_CODE:109,KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE:110,MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE:111,KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE:112,KEY_SESSION_CREATED_ERROR_CODE:113,MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE:114,MSS_NO_TFRF_CODE:200,MSS_UNSUPPORTED_CODEC_CODE:201,OFFLINE_ERROR:11e3,INDEXEDDB_QUOTA_EXCEED_ERROR:11001,INDEXEDDB_INVALID_STATE_ERROR:11002,INDEXEDDB_NOT_READABLE_ERROR:11003,INDEXEDDB_NOT_FOUND_ERROR:11004,INDEXEDDB_NETWORK_ERROR:11005,INDEXEDDB_DATA_ERROR:11006,INDEXEDDB_TRANSACTION_INACTIVE_ERROR:11007,INDEXEDDB_NOT_ALLOWED_ERROR:11008,INDEXEDDB_NOT_SUPPORTED_ERROR:11009,INDEXEDDB_VERSION_ERROR:11010,INDEXEDDB_TIMEOUT_ERROR:11011,INDEXEDDB_ABORT_ERROR:11012,INDEXEDDB_UNKNOWN_ERROR:11013},rm={[nm.DOWNLOAD_ERROR_ID_MANIFEST_CODE]:Wv,[nm.MANIFEST_ERROR_ID_PARSE_CODE]:zv,[nm.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE]:$v,[nm.DOWNLOAD_ERROR_ID_CONTENT_CODE]:Gv,[nm.APPEND_ERROR_CODE]:Kv,[nm.CAPABILITY_MEDIASOURCE_ERROR_CODE]:qv,[nm.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE]:Yv,[nm.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE]:Qv,[nm.KEY_SESSION_CREATED_ERROR_CODE]:Zv,[nm.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE]:Xv,[nm.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE]:Jv,[nm.SERVER_CERTIFICATE_UPDATED_ERROR_CODE]:em,[nm.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE]:"MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE",[nm.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE]:"MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE",[nm.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE]:"XLINK_LOADER_LOADING_FAILURE_ERROR_CODE",[nm.SEGMENT_BASE_LOADER_ERROR_CODE]:"SEGMENT_BASE_LOADER_ERROR_CODE",[nm.TIME_SYNC_FAILED_ERROR_CODE]:"TIME_SYNC_FAILED_ERROR_CODE",[nm.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE]:"FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE",[nm.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE]:"FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE",[nm.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE]:"URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE",[nm.REMOVE_ERROR_CODE]:"REMOVE_ERROR_CODE",[nm.DATA_UPDATE_FAILED_ERROR_CODE]:"DATA_UPDATE_FAILED_ERROR_CODE",[nm.CAPABILITY_MEDIAKEYS_ERROR_CODE]:"CAPABILITY_MEDIAKEYS_ERROR_CODE",[nm.DOWNLOAD_ERROR_ID_SIDX_CODE]:"DOWNLOAD_ERROR_ID_SIDX_CODE",[nm.DOWNLOAD_ERROR_ID_XLINK_CODE]:"DOWNLOAD_ERROR_ID_XLINK_CODE",[nm.MANIFEST_ERROR_ID_NOSTREAMS_CODE]:"MANIFEST_ERROR_ID_NOSTREAMS_CODE",[nm.TIMED_TEXT_ERROR_ID_PARSE_CODE]:"TIMED_TEXT_ERROR_ID_PARSE_CODE",[nm.MANIFEST_ERROR_ID_MULTIPLEXED_CODE]:"MANIFEST_ERROR_ID_MULTIPLEXED_CODE",[nm.MEDIASOURCE_TYPE_UNSUPPORTED_CODE]:"MEDIASOURCE_TYPE_UNSUPPORTED_CODE",[nm.MSS_NO_TFRF_CODE]:"MSS_NO_TFRF_CODE",[nm.MSS_UNSUPPORTED_CODEC_CODE]:"MSS_UNSUPPORTED_CODEC_CODE",[nm.OFFLINE_ERROR]:"OFFLINE_ERROR",[nm.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE]:"KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE",[nm.MEDIA_KEYERR_CLIENT_CODE]:"MEDIA_KEYERR_CLIENT_CODE",[nm.MEDIA_KEYERR_CODE]:"MEDIA_KEYERR_CODE",[nm.MEDIA_KEYERR_DOMAIN_CODE]:"MEDIA_KEYERR_DOMAIN_CODE",[nm.MEDIA_KEYERR_HARDWARECHANGE_CODE]:"MEDIA_KEYERR_HARDWARECHANGE_CODE",[nm.MEDIA_KEYERR_OUTPUT_CODE]:"MEDIA_KEYERR_OUTPUT_CODE",[nm.MEDIA_KEYERR_SERVICE_CODE]:"MEDIA_KEYERR_SERVICE_CODE",[nm.MEDIA_KEYERR_UNKNOWN_CODE]:"MEDIA_KEYERR_UNKNOWN_CODE",[nm.MEDIA_KEY_MESSAGE_ERROR_CODE]:"MEDIA_KEY_MESSAGE_ERROR_CODE"},im=[nm.DOWNLOAD_ERROR_ID_MANIFEST_CODE,nm.MANIFEST_ERROR_ID_PARSE_CODE,nm.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE,nm.CAPABILITY_MEDIASOURCE_ERROR_CODE,nm.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,nm.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,nm.KEY_SESSION_CREATED_ERROR_CODE,nm.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,nm.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,nm.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,nm.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,nm.MANIFEST_ERROR_ID_NOSTREAMS_CODE,nm.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,nm.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,nm.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,nm.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,nm.DATA_UPDATE_FAILED_ERROR_CODE,nm.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,nm.MSS_UNSUPPORTED_CODEC_CODE,nm.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,nm.MEDIA_KEYERR_CODE,nm.MEDIA_KEY_MESSAGE_ERROR_CODE,nm.CAPABILITY_MEDIAKEYS_ERROR_CODE,nm.DOWNLOAD_ERROR_ID_XLINK_CODE,nm.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,nm.MEDIA_KEYERR_CLIENT_CODE,nm.MEDIA_KEYERR_DOMAIN_CODE,nm.MEDIA_KEYERR_HARDWARECHANGE_CODE,nm.MEDIA_KEYERR_OUTPUT_CODE,nm.MEDIA_KEYERR_SERVICE_CODE],am=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return{retryIntervals:{MPD:e,MediaSegment:e,InitializationSegment:e,IndexSegment:e,other:e},retryAttempts:{MPD:t,MediaSegment:t,InitializationSegment:t,BitstreamSwitchingSegment:t,IndexSegment:t,other:t},manifestRequestTimeout:1e4,fragmentRequestTimeout:2e4}},om=e=>e&&"string"==typeof e.type&&e.error&&"object"==typeof e.error&&"number"==typeof e.error.code&&Object.values(nm).includes(e.error.code)&&"string"==typeof e.error.message&&"object"==typeof e.error.data,sm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("-")},lm=e=>om(e)?e.error.code in rm?rm[e.error.code]:sm(e.error.message,String(e.error.code)):(e=>e&&"string"==typeof e.type&&"download"===e.error&&e.event&&"object"==typeof e.event&&"string"==typeof e.event.id&&"string"==typeof e.event.url&&e.event.request instanceof XMLHttpRequest)(e)?sm(e.error,e.event.url):(e=>e&&"string"==typeof e.type&&"manifestError"===e.error&&e.event&&"object"==typeof e.event&&"string"==typeof e.event.id&&"string"==typeof e.event.message&&(void 0===e.event.manifest||"object"==typeof e.event.manifest)&&(void 0===e.event.event||"string"==typeof e.event.event))(e)?sm(e.error,e.event.message):(e=>e&&"string"==typeof e.type&&"cc"===e.error&&e.event&&"object"==typeof e.event&&"string"==typeof e.event.id&&"string"==typeof e.event.message&&"string"==typeof e.event.cc)(e)?sm(e.error,e.event.message,e.event.cc):(e=>e&&"string"==typeof e.type&&"string"==typeof e.error&&["capability","mediasource","key_session","key_message"].includes(e.error)&&"string"==typeof e.event)(e)?sm(e.error,e.event):"Unknown error";class um{canPlayHandler(e){const t=e.getBitrateInfoListFor("video");this._providerPlugin.qualities=t,Fp.emit(Nh.QUALITY_LIST,{list:this._getBitratesHeight()}),Fp.emit(Nh.BITRATES_LEVELS,{bitrates:this._getBitratesBandwidth()});this._providerPlugin.activeQualityIndex=(()=>{const t=e.getQualityFor("video");let n=-1;return this._providerPlugin.qualities.forEach(((e,r)=>{e.level===t&&(n=r)})),n})()}constructor(e,t){this._instance=null,this._getBitratesBandwidth=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.bitrate&&e.push(t.bitrate),e)),[]),this._getBitratesHeight=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.height&&e.push(t.height),e)),[]),this._initParams=e,this._providerPlugin=t}async init(){const e=(await Uv("https://static.rutube.ru/static/player_sdk/dash/4.7.4/dash.all.min.js","dashjs")).MediaPlayer().create();e.updateSettings({streaming:Ft(Ft({},am()),{},{abr:{initialBitrate:{video:-1}}})}),this._initParams.drmLink&&e.setProtectionData({"com.widevine.alpha":{serverURL:this._initParams.drmLink,priority:1}}),e.initialize(this._initParams.playbackPlugin.player,this._initParams.src);return this.instance=Ft(Ft({},e),{},{liveSyncPosition:null,currentLevel:e.getQualityFor("video"),levels:()=>{const t=e.getBitrateInfoListFor("video");for(const e of t)e&&!e.url&&(e.url="");return t},bandwidthEstimate:()=>1e3*e.getAverageThroughput("video")}),e.on("error",(e=>{this.handleDashError(e)})),e.on("canPlay",(()=>this.canPlayHandler(e))),e.on("fragmentLoadingCompleted",(e=>{this._providerPlugin.previewUrl=e.request.serviceLocation})),this||null}handleDashError(e){(e=>om(e)&&im.includes(Number(e.error.code)))(e)&&(this._providerPlugin.hasLoadError=!0)}get instance(){return this._instance}set instance(e){this._instance=e}destroy(){var e;null===(e=this._instance)||void 0===e||e.destroy()}changeLevel(e,t){var n,r,i,a,o;if(-1===t)return null===(o=this._instance)||void 0===o||o.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}}),Fp.emit(Nh.CURRENT_QUALITY,{quality:{height:-1,quality:this._providerPlugin.activeQualityTransferValue,isAutoQuality:this._providerPlugin.autoQuality}}),void Fp.emit(Nh.BITRATE_SWITCH,{bitrate:-1});null===(n=this._instance)||void 0===n||n.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),null===(r=this._instance)||void 0===r||r.setQualityFor("video",t);const s=this._providerPlugin.qualities[e];Fp.emit(Nh.CURRENT_QUALITY,{quality:{height:null!==(i=s.height)&&void 0!==i?i:0,quality:this._providerPlugin.activeQualityTransferValue,isAutoQuality:this._providerPlugin.autoQuality}}),Fp.emit(Nh.BITRATE_SWITCH,{bitrate:null!==(a=s.bitrate)&&void 0!==a?a:0})}onOnlineToggle(e){var t;const n=e?am():am(500,1/0);null===(t=this._instance)||void 0===t||t.updateSettings({streaming:Ft({},n)})}}const cm=()=>{var e,t;return null!==(e=window.performance)&&void 0!==e&&e.now?parseInt(null===(t=window.performance.now())||void 0===t?void 0:t.toFixed()):(new Date).getTime()},dm="SCTE35-OUT",hm="EXT-X-DATERANGE",pm="PLANNED-DURATION";class vm{constructor(e,t,n){this.fallbackTimer=null,this._hls=e,this._params=t,this._error=n}handleError(){var e;const{playbackPlugin:t}=this._params;this._error.type===(null===(e=this._hls.Hls)||void 0===e?void 0:e.ErrorTypes.MEDIA_ERROR)&&this.onBufferStalledError(),uv()&&t.currentTime.toFixed(0)===t.duration.toFixed(0)&&this.onSafariBufferError()}onBufferStalledError(){var e,t,n;const{playbackPlugin:r}=this._params,i=Math.max((null===(e=this._hls.instance)||void 0===e?void 0:e.currentLevel)||0,0),a=null!==(t=null===(n=this._hls.instance)||void 0===n?void 0:n.levels[i].url.length)&&void 0!==t?t:1,o=e=>{r.player.buffered&&r.player.buffered.length&&r.player.buffered.end(r.player.buffered.length-1)<=e+.01&&this._hls.removeDamagedStream(i)};if(a>1&&r.player.buffered){const e=r.player.buffered.end(r.player.buffered.length-1);this.fallbackTimer=setTimeout((()=>o(e)),jv)}}onSafariBufferError(){const{playbackPlugin:e}=this._params;e.seek(e.duration+1)}onDestroy(){null!==this.fallbackTimer&&clearTimeout(this.fallbackTimer)}}const mm=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3,i=e;return()=>{i<=0?n&&n():setTimeout((()=>{t(),navigator.onLine&&(i-=1)}),r)}};class fm{constructor(e,t,n){this.loadRetry=void 0,this._hls=e,this._provider=t,this._error=n,this.loadRetry=mm(10,(()=>{var e;null===(e=this._hls.instance)||void 0===e||e.startLoad()}),(()=>{this._provider.hasLoadError=!0}))}handleError(){var e,t,n;switch(this._error.type){case null===(e=this._hls.Hls)||void 0===e?void 0:e.ErrorTypes.NETWORK_ERROR:this.loadRetry();break;case null===(t=this._hls.Hls)||void 0===t?void 0:t.ErrorTypes.MEDIA_ERROR:this._hls.onMediaError();break;default:null===(n=this._hls.instance)||void 0===n||n.destroy()}}}let _m=function(e){return e.PUBLIC="public",e.PRIVATE="private",e}({}),gm=function(e){return e.STREAM_ACTIVE="actual",e.STREAM_DISABLE="disable",e.STREAM_WAIT="wait",e.STREAM_DONE="done",e.STREAM_FINISH_ERR="fin_err",e.STREAM_IDLE="idle",e.STREAM_BLOCKED="blocked",e}({});class ym{constructor(e,t,n){this.numOfFragLoadRetry=5,this._hls=e,this._params=t,this._error=n}handleError(){var e,t,n,r;const{playbackPlugin:i}=this._params,{isTVStream:a}=null!==(e=null==i?void 0:i.data)&&void 0!==e?e:{},o=(null===(t=this._error.frag)||void 0===t?void 0:t.level)||0;if((null!==(n=null===(r=this._hls.instance)||void 0===r?void 0:r.levels[o].url.length)&&void 0!==n?n:1)<=1)if(this.numOfFragLoadRetry<=0){var s;null===(s=this._hls.instance)||void 0===s||s.stopLoad();const{streamStatus:e}=i.adapter||{};e===gm.STREAM_ACTIVE||a?setTimeout((()=>{var e;this._hls.instance&&(this._hls.instance.currentLevel=-1,this.numOfFragLoadRetry=5,null===(e=this._hls.instance)||void 0===e||e.startLoad())}),jv):console.error("FRAG_LOAD_ERROR:",this._error)}else navigator.onLine&&(this.numOfFragLoadRetry-=1)}}class bm{constructor(e,t){this._hls=e,this._provider=t}handleError(){this._hls.destroy(),this._provider.hasLoadError=!0}}class Em{constructor(e,t,n){this._retryConfig=null,this.levelLoadRetry=null,this._hls=e,this._provider=t,this._error=n}handleError(){var e,t,n;const r=this._error.url;this._provider.cdnHost="string"==typeof r?new URL(r).host:"",this.prepareHandling();const i=null!==(e=null===(t=this._error)||void 0===t||null===(t=t.context)||void 0===t?void 0:t.level)&&void 0!==e?e:0;var a;1===(null===(n=this._hls.instance)||void 0===n||null===(n=n.levels[i])||void 0===n?void 0:n.url.length)&&null!==this.levelLoadRetry&&(null===(a=this._hls.instance)||void 0===a||a.stopLoad(),this.levelLoadRetry())}prepareHandling(){var e;if(this.retryConfig)return;const t=(null===(e=this._hls.instance)||void 0===e?void 0:e.config.playlistLoadPolicy.default.errorRetry)||null;t?(this.retryConfig=t,this.setLevelLoadRetry()):this.levelLoadRetry=null}setLevelLoadRetry(){const e=this.retryConfig;this.levelLoadRetry=mm(e.maxNumRetry,(()=>{var e;null===(e=this._hls.instance)||void 0===e||e.startLoad()}),(()=>{this._provider.hasLoadError=!0}),e.retryDelayMs)}set retryConfig(e){this._retryConfig=e}get retryConfig(){return this._retryConfig}}class wm{constructor(e,t,n,r){this.numOfManifestLoadRetry=10,this.manifestLoadRetry=void 0,this._hls=e,this._params=t,this._provider=n,this._error=r,this.manifestLoadRetry=mm(this.numOfManifestLoadRetry,this.retry.bind(this),(()=>{this._provider.hasLoadError=!0}))}retry(){var e,t;null===(e=this._hls.instance)||void 0===e||e.loadSource(this._params.src),null===(t=this._hls.instance)||void 0===t||t.startLoad()}handleError(){var e;const t=this._error.url;this._provider.cdnHost="string"==typeof t?new URL(t).host:"";const{playbackPlugin:n}=this._params,{isLive:r,isTVStream:i}=null!==(e=null==n?void 0:n.data)&&void 0!==e?e:{};if(r){const{streamStatus:e}=n.adapter||{};var a;if(e===gm.STREAM_ACTIVE||i)null===(a=this._hls.instance)||void 0===a||a.stopLoad(),setTimeout(this.retry.bind(this),jv)}else this.manifestLoadRetry()}}class Sm{constructor(e,t,n){this.errors=new Map,this.currentErrors=[],this._hls=e,this._params=t,this._provider=n}prepareHandlers(e){var t;if(null===e||null===(t=this._hls)||void 0===t||!t.Hls)return;const n=this._hls.Hls.ErrorDetails;e.details===n.LEVEL_EMPTY_ERROR?this.pushCurrentError(new bm(this._hls,this._provider)):e.details===n.MANIFEST_LOAD_ERROR?this.pushCurrentError(new wm(this._hls,this._params,this._provider,e)):e.details===n.LEVEL_LOAD_ERROR?this.pushCurrentError(new Em(this._hls,this._provider,e)):e.details===n.FRAG_LOAD_ERROR?this.pushCurrentError(new ym(this._hls,this._params,e)):e.details===n.BUFFER_STALLED_ERROR?this.pushCurrentError(new vm(this._hls,this._params,e)):e.fatal&&this.pushCurrentError(new fm(this._hls,this._provider,e))}pushCurrentError(e){const t=this.errors.get(e.constructor);t?this.currentErrors.push(t):(this.currentErrors.push(e),this.errors.set(e.constructor,e))}handleErrors(){this.currentErrors.forEach((e=>{e.handleError()})),this.currentErrors=[]}purge(){this.currentErrors.forEach((e=>{e.onDestroy&&e.onDestroy()})),this.errors=new Map}}const Cm={debug:"undefined"!=typeof window&&window.location.search.includes("raichu_hls_debug"),enableWorker:!0,lowLatencyMode:!0,maxMaxBufferLength:180,autoStartLoad:!0,startLevel:3,liveSyncDurationCount:2,capLevelToPlayerSize:!0,manifestLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:5e3,timeoutRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:2e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:5e3,timeoutRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:5e3,timeoutRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:4,retryDelayMs:1e3,maxRetryDelayMs:2e3}}}},km=e=>{if(!e)return;const t=parseFloat(e);if(t&&!isNaN(t)){if(t>100)return 120;if(t>50)return 60}},Am=e=>{var t;if(!e||!Array.isArray(e._attrs))return Fh;const n=null===(t=e._attrs.find((e=>e["FRAME-RATE"])))||void 0===t?void 0:t["FRAME-RATE"];if(!n)return Fh;const r=parseFloat(n);return r>0?1/r:Fh},Pm=e=>{var t;return(null==e||null===(t=e.details)||void 0===t?void 0:t.fragments)||[]},Im=e=>e.tagList.reduce(((e,t)=>(e[t[0]]=t[1],e)),{}),Tm=e=>{const t=Pm(e);return 0===t.length?{}:t.reduce(((e,t)=>(e[t.relurl]=Im(t),e)),{})},Rm=e=>{if(e){return e.split(",").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{})}return{}},xm=(e,t,n,r)=>{if(!n)return[];const i=r||Tm(e);let a;const o=((e,t)=>{const n=Pm(e);return n?n.reduce(((e,n)=>(Im(n)[t]&&n.relurl&&e.push(n.relurl),e)),[]):[]})(e,n);return o.reduce(((e,r)=>(i[r]&&(a=Rm(i[r][n]),a[t]&&e.push(r)),e)),[])};class Lm{constructor(e,t){this.Hls=void 0,this.instance=null,this.recoverDecodingErrorDate=null,this.recoverSwapAudioCodecDate=null,this.currentFragId=void 0,this.levelTags={},this.advertNextFrag=!1,this.advertThisFrag=!1,this.needToPrefetchMidroll=!1,this.hlsErrorManager=void 0,this._getBitratesBandwidth=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.bitrate&&e.push(t.bitrate),e)),[]),this._getBitratesHeight=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.height&&e.push(t.height),e)),[]),this.onVideoEvent=e=>{if("error"===e.type){const t=e.currentTarget.error;null!=t&&t.MEDIA_ERR_DECODE&&this.onMediaError()}},this._params=e,this._providerPlugin=t,this.hlsErrorManager=new Sm(this,this._params,this._providerPlugin)}async init(){var e,t,n,r,i,a,o,s;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{playbackPlugin:u}=this._params;return this.Hls=await this.loadSdk(),this.Hls&&this.Hls.isSupported()?(this.instance=new this.Hls(Ft(Ft({},Cm),this.parseConfig(l))),u.player?(null===(e=this.instance)||void 0===e||e.on(this.Hls.Events.MEDIA_ATTACHED,this.onMediaAttached.bind(this)),null===(t=this.instance)||void 0===t||t.on(this.Hls.Events.MANIFEST_PARSED,this.onLevelsLoaded.bind(this)),null===(n=this.instance)||void 0===n||n.on(this.Hls.Events.LEVEL_UPDATED,this.onLevelUpdated.bind(this)),null===(r=this.instance)||void 0===r||r.on(this.Hls.Events.FRAG_CHANGED,this.onFragmentChanged.bind(this)),null===(i=this.instance)||void 0===i||i.on(this.Hls.Events.ERROR,this.onError.bind(this)),null===(a=this.instance)||void 0===a||a.on(this.Hls.Events.LEVEL_LOADED,this.onLevelLoaded.bind(this)),null===(o=this.instance)||void 0===o||o.on(this.Hls.Events.LEVEL_SWITCHING,this.onLevelSwitching.bind(this)),u.player.addEventListener("error",this.onVideoEvent),null===(s=this.instance)||void 0===s||s.attachMedia(u.player),this||null):null):null}startLoad(){var e;null===(e=this.instance)||void 0===e||e.startLoad()}changeLevel(e,t){if(this.instance){var n,r;this.instance.nextLevel=t;const i=this._providerPlugin.qualities[e];this._providerPlugin.autoQuality=Boolean(this.instance&&this.instance.autoLevelEnabled),Fp.emit(Nh.CURRENT_QUALITY,{quality:{height:null!==(n=null==i?void 0:i.height)&&void 0!==n?n:0,quality:this._providerPlugin.activeQualityTransferValue,isAutoQuality:this._providerPlugin.autoQuality}}),Fp.emit(Nh.BITRATE_SWITCH,{bitrate:null!==(r=null==i?void 0:i.bitrate)&&void 0!==r?r:0})}}async loadSdk(){try{return await Uv("https://static.rutube.ru/static/player_sdk/hls/1.4.3/hls.min.js?hash=123","Hls")}catch(e){throw console.error(e),new Fv("Fail to load Hls SDK",!0)}}onMediaAttached(){var e;null===(e=this.instance)||void 0===e||e.loadSource(this._params.src)}onLevelsLoaded(e,t){const{levels:n}=t;this._providerPlugin.qualities=(e=>{const t=document.createElement("video"),n=Boolean(t.canPlayType("video/mp4; codecs=av01.0.00M.10")),r=e.filter((e=>!(!n&&e.codecSet.includes("av01")))).map(((e,t)=>{var n,r,i;return{id:t,width:e.width,height:e.height,edge:null===(n=e.url)||void 0===n?void 0:n[0],bitrate:e.bitrate,frameRate:(r=e,km(Array.isArray(r._attrs)?null===(i=r._attrs.find((e=>e["FRAME-RATE"])))||void 0===i?void 0:i["FRAME-RATE"]:void 0)),frameDuration:Am(e)}}));return r})(n);const r=this._providerPlugin.getUserQuality();this.instance&&null!==r&&(this.instance.loadLevel=r),Fp.emit(Nh.QUALITY_LIST,{list:this._getBitratesHeight()}),Fp.emit(Nh.BITRATES_LEVELS,{bitrates:this._getBitratesBandwidth()})}onLevelLoaded(e,t){this._providerPlugin.activeQualityLevel=t.level,this._providerPlugin.autoQuality=Boolean(this.instance&&this.instance.autoLevelEnabled)}onLevelSwitching(e,t){this._providerPlugin.autoQuality=Boolean(this.instance&&this.instance.autoLevelEnabled),this._providerPlugin.activeQualityLevel=t.level}onLevelUpdated(e,t){((e,t)=>{t.previewUrl=(null==e?void 0:e.split(".mp4")[0])+".mp4"||0})(t.details.url,this._providerPlugin);let n=null,r=null;this._providerPlugin.cdnHost=new URL(t.details.url).host;const i=Pm(t);this.levelTags=Tm(t);const a=xm(t,dm,hm,this.levelTags),o=a[a.length-1];i.forEach(((e,t)=>{const i=e.relurl;i===this.currentFragId&&(n=t),i===o&&(r=t)})),"number"==typeof r&&"number"==typeof n&&r-n<=3&&r-n>0&&(this.needToPrefetchMidroll=!0)}onFragmentChanged(e,t){const{playbackPlugin:n}=this._params;this.hlsErrorManager.purge();const r=t.frag.relurl&&this.levelTags[t.frag.relurl];this.currentFragId=t.frag.relurl;let i=null,a=null;this.advertThisFrag&&(this.advertThisFrag=!1),this.advertNextFrag&&(this.advertNextFrag=!1,this.advertThisFrag=!0),r&&r[hm]&&(i=Rm(r[hm]),i[dm]&&(this.advertNextFrag=!0),i[pm]&&(a=i[pm])),n.adapter&&(n.adapter.liveMidrollData={startPlay:this.advertThisFrag,needToPrefetch:this.needToPrefetchMidroll,duration:a,active:this.needToPrefetchMidroll}),this.needToPrefetchMidroll=!1}onError(e,t){return this.hlsErrorManager.prepareHandlers(t),this.hlsErrorManager.handleErrors(),this.instance}onMediaError(){const{playbackPlugin:e}=this._params,t=cm();if(!this.recoverDecodingErrorDate||t-this.recoverDecodingErrorDate>3e3){this.recoverDecodingErrorDate=cm(),console.error("trying to recover media error.");try{var n;null===(n=this.instance)||void 0===n||n.recoverMediaError()}catch(e){console.error(e)}}else if(!this.recoverSwapAudioCodecDate||t-this.recoverSwapAudioCodecDate>3e3){this.recoverSwapAudioCodecDate=cm(),console.error("trying to swap audio codec and recover media error.");try{var r,i;null===(r=this.instance)||void 0===r||r.swapAudioCodec(),null===(i=this.instance)||void 0===i||i.recoverMediaError()}catch(e){console.error(e)}}else console.error("cannot recover. Last media error recovery failed."),e.seek(e.currentTime+1)}removeDamagedStream(e,t){var n,r,i,a,o;const s=(null===(n=this.instance)||void 0===n?void 0:n.levels)||[],l=null===(r=s[e])||void 0===r?void 0:r.details,u=t||(null==l?void 0:l.url)||(null===(i=s[e])||void 0===i?void 0:i.uri),c=null!==(a=null===(o=s[e])||void 0===o?void 0:o.url)&&void 0!==a?a:[];for(let e=0;e<c.length;e++)if(c[e]===u)for(let t=0;t<s.length;t++){var d,h;if(null!==(d=s[t])&&void 0!==d&&d.url&&s[t].url.length>e)null===(h=this.instance)||void 0===h||h.removeLevel(t,e)}}changeConfig(e){const t=this.parseConfig(e);this.instance&&Object.keys(t).forEach((e=>{const n=e;this.instance&&(this.instance.config[n]=t[n])}))}parseConfig(e){const t={};return Object.keys(e).forEach((n=>{switch(n){case"autoLoad":t.autoStartLoad=e.autoLoad;break;case"maxBuffer":t.maxMaxBufferLength=e.maxBuffer;break;case"backBuffer":t.backBufferLength=e.backBuffer}})),t}destroy(){var e;const{playbackPlugin:t}=this._params;t.pause(),t.player.removeEventListener("error",this.onVideoEvent),null===(e=this.instance)||void 0===e||e.destroy(),this.hlsErrorManager.purge()}}const Om="application/vnd.apple.mpegurl",Nm="com.apple.fps.1_0",Mm=(e,t,n)=>{const r="string"==typeof t?(e=>{const t=e.length,n=new ArrayBuffer(2*t),r=new Uint16Array(n);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r})(t):t,i=e.byteLength+4+r.byteLength+4+n.byteLength;let a=0;const o=new ArrayBuffer(i),s=new DataView(o),l=new Uint8Array(o,a,e.byteLength);l.set(e),a+=l.byteLength,s.setUint32(a,r.byteLength,!0),a+=4;const u=new Uint16Array(o,a,r.length);u.set(r),a+=u.byteLength,s.setUint32(a,n.byteLength,!0),a+=4;return new Uint8Array(o,a,n.byteLength).set(n),new Uint8Array(o,0,o.byteLength)};class Dm extends Bv{constructor(e,t,n,r,i,a){super(e,t,r),this._certificate=null,this._keySession=null,this._saveMode=void 0,this.provider=e,this._certificateUrl=n,this._src=r,this._drmLink=i,this._saveMode=a}async init(){const e=this._playback.player;this._playback.player.addEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.addEventListener("canplay",this._onCanPlay.bind(this)),await this.fillPreviewUrl();try{await this._loadCertificate()}catch(e){if(!(e instanceof Error))throw new Fv("Unknown error",!0);const t=e;throw"SaveMode"===t.message?new Fv(t.message,!1):new Fv(t.message,!0)}return e.onwebkitneedkey=this._onNeedKey.bind(this),e.src=this._src,this}async fillPreviewUrl(){try{var e;const t=await fetch(`${this._src}`),n=await t.text();this.provider.previewUrl=(null===(e=n.split("\n").find((e=>e.startsWith("https://"))))||void 0===e?void 0:e.split(".mp4")[0])+".mp4"}catch(e){console.error(`Parse m3u8 error: ${e.message.toString()}`)}}async _loadCertificate(){try{const e=await fetch(this._certificateUrl);this._certificate=await e.arrayBuffer()}catch(e){const t=null==e?void 0:e.message;if(!this._saveMode.hasBeenInteracted)throw this._saveMode.isSaveMode=!0,Error("SaveMode");const n=`Could not load certificate ${this._certificateUrl}. Message: ${t}`;throw this._provider.initError=n,Error(n)}}_onNeedKey(e){if(!this._certificate)return;const t=this._playback.player,n=(e=>{if("undefined"==typeof document)return"";const t=document.createElement("a");t.href=e;const n=t.hostname||"";return t.remove(),n})((r=e.initData,String.fromCharCode.apply(null,new Uint16Array(r.buffer))));var r;const i=Mm(e.initData,n,new Uint8Array(this._certificate));this._makeKeys(),t.webkitKeys&&(this._keySession=t.webkitKeys.createSession(Om,i),this._keySession&&(this._keySession.onwebkitkeyerror=this._onKeyError.bind(this),this._keySession.onwebkitkeymessage=this._onKeyMessage.bind(this)))}_onKeyMessage(e){(async()=>{try{const t=await this._getLicense(e.message);e.target.update(new Uint8Array(t))}catch(e){const t="Could not load drm license";this._provider.initError=t,console.error(t)}})()}_onKeyError(){this._provider.initError="Drm key error"}_makeKeys(){if(void 0===window.WebKitMediaKeys)return;const e=this._playback.player;if(!e.webkitKeys){if(!window.WebKitMediaKeys.isTypeSupported(Nm,Om))return;var t;null===(t=e.webkitSetMediaKeys)||void 0===t||t.call(e,new window.WebKitMediaKeys(Nm))}}async _getLicense(e){return(await fetch(this._drmLink,{method:"POST",headers:new Headers({"Content-type":"application/octet-stream"}),body:e})).arrayBuffer()}destroy(){var e;null===(e=this._keySession)||void 0===e||e.close();const t=this._playback.player;var n;t.webkitKeys&&(null===(n=t.webkitSetMediaKeys)||void 0===n||n.call(t,void 0),t.onwebkitneedkey=()=>{})}}const Fm=async e=>{try{return function(){let e=[];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("\n");if("#EXTM3U"!==t[0])return e;t.shift();let n=0;for(;n<t.length-2;){const r=t[n],i=/CODECS="([^"]+)"/i,a=/^#EXT-X-STREAM-INF:(?=.*BANDWIDTH=(\d+))(?=(.*FRAME-RATE=(\d+))?)(?=.*RESOLUTION=(\d+)x(\d+))/i.exec(r),o=i.exec(r),s=t[n+1];if(a&&0===s.indexOf("http")){const t=a.map((e=>parseInt(e,10)));e.push({id:e.length,bitrate:t[1],frameRate:km(t[3].toString()),width:t[4],height:t[5],codec:o&&o[1]||"",edge:s,value:"",level:0}),n+=2}else n+=1}e=e.reduce(((e,t)=>(e.find((e=>e.width===t.width&&e.codec===t.codec))||e.push(t),e)),[]),e.sort(((e,t)=>e.height===t.height?(e.bitrate||0)>(t.bitrate||0)?1:-1:(e.height||0)>(t.height||0)?1:-1));let r=0,i=-1;return e.map((e=>(e.level=r===e.height?i:i+1,i=e.level,r=e.height||0,e)))}(await fetch(e).then((e=>e.text()))).reverse()}catch(e){console.error(`Parse m3u8 error: ${e.message.toString()}`)}return[]};class Bm extends Bv{async init(){var e;this._playback.player.addEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.addEventListener("canplay",this._onCanPlay.bind(this));let t=await Fm(this._src);const n=document.createElement("video");Boolean(n.canPlayType("video/mp4; codecs=av01.0.00M.10"))||(t=t.filter((e=>e.codec&&!e.codec.includes("av01"))));const[r,i]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:360;const n=e.length?[...e].reduce(((e,n)=>Math.abs(n.height-t)<Math.abs(e.height-t)?n:e)):null;return[e.findIndex((e=>e===n)),n]}(t);r>-1&&(t[r].isAuto=!0),this._provider.qualities=t;const a=this._provider.getUserQuality(),o=t.find((e=>e.level===a))||i;return this._playback.src=(null==o?void 0:o.edge)||this._src,this._provider.activeQualityIndex=this._provider.qualities.findIndex((e=>(null==o?void 0:o.edge)===e.edge)),null!==(e=this._provider.qualities[this._provider.activeQualityIndex])&&void 0!==e&&e.isAuto&&(this._provider.autoQuality=!0),this._provider.previewUrl=this._playback.src.replace(/(.*\.mp4|.m3u8|.mpd)(.*)$/,"$1"),this._playback.load(),this}}function Hm(e){const t=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}();if(!t)return!1;const n=window.SourceBuffer||window.WebKitSourceBuffer,r=!e||t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported(e),i=!n||n.prototype&&"function"==typeof n.prototype.appendBuffer&&"function"==typeof n.prototype.remove;return r&&i}var Vm;let Um,jm;let Wm;Vm=class extends Oo{constructor(e,t,n,r){super(),this.__qualitiesPlugin=void Um(this),this.__provider=Mr.box(null),this.__type=Mr.box(null),this.__previewUrl=Mr.box(""),this.__cdnHost=Mr.box(""),this.__hasLoadError=Mr.box(!1),this.__initError=Mr.box(""),this.__manifestUrl=Mr.box(""),this.__isProviderInitialized=Mr.box(!1),this.counterHelper=void 0,this.__config=e,this.saveMode=n,Ca(this,{manifestUrl:Hr,previewUrl:Hr,provider:Hr,type:Hr,qualities:Hr,changeQuality:Bi,activeQualityIndex:Hr,activeQualityValue:Hr,autoQuality:Hr,initProvider:Bi,initError:Hr,isProviderInit:Hr,hasLoadError:Hr,cdnHost:Hr}),this.__qualitiesPlugin=t,this.changeQuality=this.changeQuality.bind(this),this.counterHelper=r&&r instanceof Mv?r.counterHelper:void 0}init(){return $i((()=>this.provider),(e=>{e instanceof Lm?this.type="Hls":e instanceof Dm?this.type="Safari":e instanceof um?this.type="Dash":e instanceof Bv&&(this.type="Base")}))}destroyProvider(){return()=>{var e;return null===(e=this.provider)||void 0===e?void 0:e.destroy()}}switchVideoId(){return $i((()=>this.__config.get("videoId")),(()=>{this.isProviderInit=!1,this.cdnHost=""}))}get manifestUrl(){return this.__manifestUrl.get()}set manifestUrl(e){this.__manifestUrl.set(e)}get previewUrl(){return this.__previewUrl.get()}set previewUrl(e){this.__previewUrl.set(e)}set hasLoadError(e){this.__hasLoadError.set(e)}get hasLoadError(){return this.__hasLoadError.get()}get qualities(){return this.__qualitiesPlugin.qualities}set qualities(e){this.__qualitiesPlugin.qualities=e}get activeQuality(){return this.__qualitiesPlugin.activeQuality}get activeQualityIndex(){return this.__qualitiesPlugin.activeQualityIndex}set activeQualityIndex(e){this.__qualitiesPlugin.activeQualityIndex=e}get activeQualityLevel(){return this.__qualitiesPlugin.activeQualityLevel}set activeQualityLevel(e){this.__qualitiesPlugin.activeQualityLevel=e}get activeQualityValue(){return this.__qualitiesPlugin.activeQualityValue}get activeQualityTransferValue(){return this.__qualitiesPlugin.activeQualityTransferValue}get autoQuality(){return this.__qualitiesPlugin.autoQuality}set autoQuality(e){this.__qualitiesPlugin.autoQuality=e}get cdnHost(){return this.__cdnHost.get()}set cdnHost(e){this.__cdnHost.set(e)}get provider(){return this.__provider.get()}set provider(e){this.__provider.set(e)}get type(){return this.__type.get()}set type(e){this.__type.set(e)}changeQuality(e,t){var n,r;this.__qualitiesPlugin.activeQualityIndex=e,this.__qualitiesPlugin.autoQuality=-1===e,this.__qualitiesPlugin.manuallySettedQualityIndex=e,null===(n=this.provider)||void 0===n||n.changeLevel(e,t),null===(r=this.counterHelper)||void 0===r||r.get("mainQualitiesChangeQuality")()}changeConfig(e){var t,n;null===(t=this.provider)||void 0===t||null===(n=t.changeConfig)||void 0===n||n.call(t,e)}destroy(){var e;null===(e=this.provider)||void 0===e||e.destroy()}isNativeHlsSupport(){const e=document.createElement("video"),t=e.canPlayType("application/x-mpegURL")||e.canPlayType("application/vnd.apple.mpegurl");return Boolean(t)}initProvider(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;this.manifestUrl=e;const i=e=>{Vi((()=>{this.provider=e,this.isProviderInit=!0}));const{startTime:r}=n;r&&t.seek(r)},a=e=>e.fatal?void(this.initError=e.message):void 0,o=yd(e);if("m3u8"===o)if(!r&&Hm('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')){new Lm({playbackPlugin:t,src:e},this).init(n).then(i).catch((e=>{a(e)}))}else if(r&&uv()){new Dm(this,t,"https://static.rutube.ru/static/player_sdk/fairplay.cer",e,r,this.saveMode).init().then(i).catch((e=>{a(e)}))}else if(!r&&this.isNativeHlsSupport()){new Bm(this,t,e).init().then(i).catch((e=>{a(e)}))}else a(new Fv("Hls is not supported",!0));else if("mpd"===o)if(Hm()){new um({playbackPlugin:t,src:e,drmLink:r},this).init().then(i).catch((e=>{a(e)}))}else a(new Fv("Dash provider unsupported on device",!0));else if("mp4"===o){new Bv(this,t,e).init().then(i).catch((e=>{a(e)}))}}isProviderInitialized(e){return this.prepareLinkToCompare(this.manifestUrl)===this.prepareLinkToCompare(e)&&this.isProviderInit}get isProviderInit(){return this.__isProviderInitialized.get()}set isProviderInit(e){this.__isProviderInitialized.set(e)}get initError(){return this.__initError.get()}set initError(e){this.__initError.set(e)}prepareLinkToCompare(e){const t=new URL(e||"http://example.com");return t.searchParams.set("expire",""),t.searchParams.set("sign",""),t.toString()}getUserQuality(){return this.__qualitiesPlugin.getUserQuality()}},({e:[Um],c:[Wm,jm]}=en(Vm,[To({implement:"IProviderPlugin",ctor_args:["IPlayerConfigPlugin","IQualitiesPlugin",{implement:"ISaveModePlugin",optional:!0},{implement:"IStatisticState",optional:!0}]})],[[Lo(),2,"init"],[Lo(),2,"destroyProvider"],[Lo(),2,"switchVideoId"]],0,void 0,Oo)),jm();function zm(){return Tc().resolve("IControlsPlugin")}class $m extends Oo{constructor(e){super(),this._data=Mr.box(null),this.data=e||{detail:{access_url:"",image:"",languages:[{lang:"rus",description:"",title:""},{lang:"eng",description:"",title:""}]}},Ca(this,{data:Hr,color:Hr,isDVR:Hr,isLive:Hr,hasHealthDisclaimer:Hr,captions:Hr})}get id(){var e;return null===(e=this.data)||void 0===e?void 0:e.id}get data(){return this._data.get()}set data(e){this._data.set(e)}get link(){var e;return null===(e=this.data)||void 0===e||null===(e=e.video_balancer)||void 0===e?void 0:e.m3u8}get author(){var e;return null===(e=this.data)||void 0===e?void 0:e.author}get title(){var e;return null===(e=this.data)||void 0===e?void 0:e.title}get duration(){var e;return null===(e=this.data)||void 0===e?void 0:e.duration}get detail(){var e;return null===(e=this.data)||void 0===e?void 0:e.detail}get poster(){var e;return null===(e=this.data)||void 0===e?void 0:e.thumbnail_url}get ageRating(){var e;return null===(e=this.data)||void 0===e||null===(e=e.pg_rating)||void 0===e?void 0:e.age}get isAdult(){var e;return null===(e=this.data)||void 0===e?void 0:e.is_adult}get referer(){var e;return(null===(e=this.data)||void 0===e?void 0:e.referer)||""}get isLive(){var e;return!(null===(e=this.data)||void 0===e||null===(e=e.live_streams)||void 0===e||!e.hls)}get isDVR(){var e;return!(null===(e=this.data)||void 0===e||null===(e=e.live_streams)||void 0===e||null===(e=e.hls)||void 0===e||null===(e=e[0])||void 0===e||!e.is_dvr)&&this.duration!==1/0}get color(){var e;return(null===(e=this.data)||void 0===e?void 0:e.color)||""}get video_id(){var e;return null===(e=this.data)||void 0===e?void 0:e.video_id}get viewer(){var e;return null===(e=this.data)||void 0===e?void 0:e.viewer}get captions(){var e;return null===(e=this.data)||void 0===e?void 0:e.captions}get hasHealthDisclaimer(){var e,t;const n=this.ageRating;return Boolean((null===(e=this.data)||void 0===e||null===(e=e.category)||void 0===e?void 0:e.id)&&Ch.includes(this.data.category.id)&&(null===(t=this.data)||void 0===t?void 0:t.is_licensed)&&(this.isAdult||n&&n>=16))}get appearance(){var e;return(null===(e=this.data)||void 0===e?void 0:e.appearance)||null}get isTVStream(){var e,t;return"brdcast_tag"===(null===(e=this.data)||void 0===e?void 0:e.stream_type)||"broadcast"===(null===(t=this.data)||void 0===t?void 0:t.stream_type)}get isSpatial(){var e,t;return null!==(e=null===(t=this.data)||void 0===t?void 0:t.is_spatial)&&void 0!==e&&e}get videoUrl(){var e;return null===(e=this.data)||void 0===e?void 0:e.video_url}}var Gm;let Km,qm;Gm=class extends $m{constructor(e){super(null==e?void 0:e.value),this._data=Mr.box(null),Ca(this,{description:Hr,videoUrl:Hr,isTVStream:Hr})}get data(){return this._data.get()}set data(e){this._data.set(e)}get link(){var e,t,n;return this.isLive?null===(n=this.data)||void 0===n||null===(n=n.live_streams)||void 0===n?void 0:n.hls[0].url:(null===(e=this.data)||void 0===e||null===(e=e.video_balancer)||void 0===e?void 0:e.m3u8)||(null===(t=this.data)||void 0===t||null===(t=t.video_balancer)||void 0===t?void 0:t.default)||""}get title(){var e;return(null===(e=this.data)||void 0===e?void 0:e.title)||""}get description(){var e;return(null===(e=this.data)||void 0===e?void 0:e.description)||""}get videoUrl(){var e;return(null===(e=this.data)||void 0===e?void 0:e.video_url)||""}get authorData(){}get black_rabbit(){var e;return null===(e=this.data)||void 0===e?void 0:e.black_rabbit}},[qm,Km]=en(Gm,[To({implement:"IDataPlugin",ctor_args:[{implement:"VideoTrackData",optional:!0}]})],[],0,void 0,$m).c,Km();const Ym=()=>Rc("IDataPlugin"),Qm=()=>Rc("IProviderPlugin"),Zm=e=>e("IProviderPlugin"),Xm="raichu_yasdk_container",Jm=lc((()=>{const e=(0,st.useRef)(null),t=(0,st.useRef)(null),n=qp(),r=Qm(),i=Uu("(orientation: landscape)"),{currentState:a,currentAdvert:o,events:s,currentProvider:l,resolvePlaceholders:u}=n,{events:c}=Tc().resolve("IAdvertStatPlugin");(0,st.useEffect)((()=>{var i;if(null===(i=n.currentProvider)||void 0===i||i.destroy(),t.current&&e.current&&o){const i="number"==typeof r.activeQualityIndex&&r.activeQualityIndex>0?r.activeQualityIndex:0;n.currentProvider=new sv({data:o,video:e.current,wrapper:t.current,containerId:Xm,quality:r.qualities[i],preventStartAdvert:n.preventAdvertLogic,hideControls:n.isControlsHidden},u)}}),[o,n,r,u]),(0,st.useEffect)((()=>{l instanceof sv&&e.current&&l.toggleControls(e.current.offsetWidth>450)}),[l,i]);const d=(0,st.useCallback)((()=>{const t=setTimeout((()=>{var n,r,i;(clearTimeout(t),0===(null===(n=e.current)||void 0===n?void 0:n.currentTime))&&(null===(r=c.onError)||void 0===r||r.call(c,"timeout error"),null===(i=s.onError)||void 0===i||i.call(s,"timeout error"))}),1e4)}),[]),h=(e=>{const t=qp().playback.volume;return(0,st.useCallback)((()=>{e.current&&e.current.volume>t&&(e.current.volume=t)}),[e,t])})(e);return st.createElement(st.Fragment,null,st.createElement("div",{className:cl()(Qp,{[Xp]:"show"!==a}),id:Xm,ref:t},st.createElement("video",{"data-testid":"advert-video",className:cl()("raichu-adver-tag",Zp),poster:"https://static.rutube.ru/static/img/jpg/black.jpg",ref:t=>{e.current=t,n.advertVideo=t},playsInline:!0,onLoadedMetadata:d,onError:e=>s.onError&&s.onError(e.type),onVolumeChange:h})))})),ef="advert-counter-module__wrapper___NuVzb",tf=lc((()=>{const{currentAdvert:e,currentState:t,blockState:n}=qp();if(e&&"show"===t&&n&&n.total>1){const{total:t,viewed:r}=n,i=`${(e=>{const t=Rt(e.url_template);return(null==t?void 0:t.gowast_title)||"Реклама"})(e)} ${r+1} из ${t}`;return st.createElement("span",{role:"alert","aria-live":"polite",className:ef},i)}return null})),nf="advert-timeline-module__timeline___QbYLv",rf="advert-timeline-module__timeline_filled___lSokD",af=lc((()=>{const{currentProgress:e}=qp();return e?st.createElement("div",{className:nf},st.createElement("div",{className:rf,style:{transform:`scaleX(${e.toString()}%)`}})):null})),of={[jp]:Jm},sf=lc((e=>{let{removeAdsButton:t}=e;const n=t,{currentState:r,currentAdvert:i,currentItems:a,isLoaded:o,isNodeConnected:s,backgroundStyles:l}=qp(),u=n&&i&&"show"===r;if(!a.length||"error"===r||!s)return null;const c=null!=i&&i.sdk?of[i.sdk]:null;return st.createElement("div",{key:"raichu-advert","data-testid":"advert",style:{position:"absolute",top:0,width:"100%",height:"100%",justifyContent:"center",pointerEvents:i||o?"all":"none",opacity:i||o?1:0,visibility:"show"!==r?"hidden":"visible",display:"flex"}},st.createElement(tf,null),!o&&st.createElement("div",{style:Ft(Ft({},l),{},{position:"absolute",width:"100%",height:"100%",zIndex:30,pointerEvents:"none"})},st.createElement(op,null)),st.createElement("div",{style:{opacity:o?"1":"0"}},i&&c&&st.createElement(c,null),st.createElement(af,null),u&&st.createElement(n,null)))})),lf="advert-timer-module__wrapper___jp0qc",uf="advert-timer-module__wrapper_hiddenControls___S97Nd",cf="advert-timer-module__mobileControlsVisible____zDWP",df=lc((()=>{const{currentState:e,startTimer:t,isLoaded:n,isShowAdvertTimer:r,preventAdvertLogic:i}=qp(),{isShowControls:a}=zm(),o=cl()(lf,{[uf]:!a,[cf]:jc.isMobile&&a});return n&&e&&"show"!==e&&!i&&r?st.createElement("span",{className:o},"Реклама начнётся через ",t):null})),hf=e=>{let{removeAdsButton:t}=e;return st.createElement(st.Fragment,null,st.createElement(df,null),st.createElement(sf,{removeAdsButton:t}))},pf=e=>{const{url_template:t}=e;return t?jp:null},vf=(e,t,n)=>{let r=!1;return e.find((e=>e.name.includes("midpostroll")))&&(r=!0),e.reduce(((e,i)=>{const a=i.name.search(Up)>=0,o=i.start>n||i.start<0&&n+i.start<0;if(t&&!a||!t&&a||o)return e;const s=a?i.name.replace(Up,""):i.name,l=s.replace(/\d+/,""),u=i.start<0?n+i.start:i.start,c=n-u,d=r&&i.name.includes("midroll")&&c<50;return zp(l)&&(e=>new RegExp(`^${Wp.join("|")}(d+)?$`).test(e))(s)&&!d&&e.push(Ft(Ft({},i),{},{isMobile:t,start:u,name:s,type:l,sdk:pf(i)})),e}),[])};var mf,ff;let _f,gf,yf,bf;var Ef;let wf,Sf,Cf;new(ff=class extends Oo{constructor(e,t,n,r,i,a,o,s,l){super(),this.isEmbed=(_f(this),!1),this.isMobile=jc.isMobile,this._adBlock=Mr.box(null),this._items=Mr.box({}),this._limits=Mr.box([]),this._currentItems=Mr.box([]),this._currentState=Mr.box(null),this._currentProvider=Mr.box(null),this._currentProgress=Mr.box(0),this._loading=Mr.box(!1),this._startTimer=Mr.box(null),this._isPlaying=Mr.box(!1),this._blockState=Mr.box(null),this._cuePoints=Mr.box([]),this._advertVideo=Mr.box(null),this._preventAdvertStart=Mr.box(!1),this._isAdvertEnded=Mr.box(!1),this._isControlsHidden=Mr.box(!1),this._adapter=null,this._eventEmitter=void 0,this._canAutoplay=!1,this._isAdvertPlayingDisabled=!1,this._preventAdvertEndEvent=!1,this._loadSdk=()=>{vh.forEach((e=>{var t;if(!e.id||!document.getElementById(null!==(t=e.id)&&void 0!==t?t:"")){var n;const t=document.createElement("script");t.id=null!==(n=e.id)&&void 0!==n?n:"",t.src=e.js,document.getElementsByTagName("head")[0].appendChild(t)}}))},this.onLoad=async()=>{var e,t;this.loading="loaded",this._canAutoplay=await(()=>{const e=document.createElement("video");return e.playsInline=!0,e.src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAARmbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAA+gAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA5B0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+gAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAIAAAACAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPoAAAEAAABAAAAAAMIbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAAyAAAAMgBVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACs21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAnNzdGJsAAAAv3N0c2QAAAAAAAAAAQAAAK9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAIAAgBIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAANWF2Y0MBZAAK/+EAGWdkAAqs2V+IiMBEAAADAAQAAAMAyDxIllgBAAVo74bywP34+AAAAAAQcGFzcAAAAAEAAAABAAAAFGJ0cnQAAAAAAAAfkAAAH5AAAAAYc3R0cwAAAAAAAAABAAAAGQAAAgAAAAAUc3RzcwAAAAAAAAABAAAAAQAAANhjdHRzAAAAAAAAABkAAAABAAAEAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAGQAAAAEAAAB4c3RzegAAAAAAAAAAAAAAGQAAAsMAAAAMAAAADAAAAAwAAAAMAAAADQAAAA4AAAAMAAAADAAAAA0AAAAOAAAADAAAAAwAAAANAAAADgAAAAwAAAAMAAAADQAAAA4AAAAMAAAADAAAAA0AAAAOAAAADAAAAAwAAAAUc3RjbwAAAAAAAAABAAAElgAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTkuMTYuMTAwAAAACGZyZWUAAAP6bWRhdAAAAqkGBf//pdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNTUgcjI5MTcgMGE4NGQ5OCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTggLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0xIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgzIG1lPWRpYSBzdWJtZT0xIHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTAgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0wIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PTAgdGhyZWFkcz0xIGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0xIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmM9Y3JmIG1idHJlZT0wIGNyZj0yMC4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIHBiX3JhdGlvPTEuMzAgYXE9MToxLjAwAIAAAAASZYiEABL/6v/CVT+9s3RcRf/xAAAACEGaJBiCn/7wAAAACEGeQkIJf5KBAAAACAGeYUQR/5eAAAAACAGeY0QR/5eBAAAACUGaaDRMQU/+8QAAAApBnoZFESwT/4yBAAAACAGepUQR/5eBAAAACAGep0QS/5KAAAAACUGarDRMQU/+8AAAAApBnspFFSwT/4yBAAAACAGe6UQS/5KAAAAACAGe60QS/5KAAAAACUGa8DRMQU/+8QAAAApBnw5FFSwT/4yBAAAACAGfLUQS/5KBAAAACAGfL0QS/5KAAAAACUGbNDRMQU/+8AAAAApBn1JFFSwT/4yBAAAACAGfcUQS/5KAAAAACAGfc0QS/5KAAAAACUGbeDRMQU/+8QAAAApBn5ZFFSwU/4aAAAAACAGftUQS/5KBAAAACAGft0QS/5KB",e.autoplay=!0,e.style.visibility="hidden",document.body.appendChild(e),e.play().then((()=>!0)).catch((()=>!1)).finally((()=>{e.remove()}))})(),this._eventEmitter.emit(Hp.load,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.onRequest=()=>{this.loading="loading"},this.onStart=()=>{var e,t;this.isAdvertEnded=!1,this.stabilizeAdVolume(),this.blockState||this._onBlockStart(),Vi((()=>this._isPlaying.set(!0))),this._eventEmitter.emit(Hp.start,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.getErrorMessage=e=>"string"==typeof e?e:null!=e&&e.code?e.code:"unknown message",this.onError=e=>{var t,n;const r=this.getErrorMessage(e);this._eventEmitter.emit(Hp.error,{name:(null===(t=this.currentAdvert)||void 0===t?void 0:t.name)||"",urlTemplate:(null===(n=this.currentAdvert)||void 0===n?void 0:n.url_template)||"",errorMessage:r})},this.onPlayingState=e=>{Vi((()=>this._isPlaying.set(e)))},this.onProgress=e=>{this.currentProgress=e},this.onEnd=()=>{var e,t;(this.isAdvertEnded=!0,this._preventAdvertEndEvent)||this._eventEmitter.emit(Hp.end,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""});this._preventAdvertEndEvent=!1,this.loading=!1,Vi((()=>this._isPlaying.set(!1))),this.currentAdvert&&(Vi((()=>{this.blockState&&this._blockState.set(Ft(Ft({},this.blockState),{},{viewed:this.blockState.viewed+1}))})),1===this.currentItems.length&&this._onBlockEnd(),this.data.isLive&&this.currentAdvert.name.includes("preroll")&&this.playback.goLive(),this.removeCurrentAdvert())},this.onImpression=()=>{var e;this._playback.volume>0&&null!==(e=this.currentProvider)&&void 0!==e&&e.volume&&this.currentProvider.volume>0&&this.stabilizeAdVolume()},this._onBlockStart=()=>{Vi((()=>this._blockState.set({total:this.currentItems.length,viewed:0})))},this._onBlockEnd=()=>{Vi((()=>this._blockState.set(null)))},this.destroyCurrent=()=>{var e;null===(e=this.currentProvider)||void 0===e||e.destroy(),this.currentItems=[],this.currentState=null,this.loading=!1},this.props=e,this._playerSize=t,this._playback=n,this._fullscreen=r,this._data=i,this._placeholders=a,this._embed=o,this._config=s,this._domNodeTracker=l,this.isEmbed=e.value,this._eventEmitter=new kd,Ca(this,{adBlock:Hr,items:Hr,limits:Hr,currentItems:Hr,currentState:Hr,currentProvider:Hr,currentProgress:Hr,cuePoints:Hr,loading:Hr,isLoading:Hr,isLoaded:Hr,startTimer:Hr,isPlaying:Hr,blockState:Hr,data:Hr,preventAdvertLogic:Hr,isAdvertEnded:Hr,isControlsHidden:Hr}),this.resolvePlaceholders=this.resolvePlaceholders.bind(this)}init(){var e;if("player-carousel"===(null===(e=this._embed)||void 0===e||null===(e=e.params)||void 0===e?void 0:e.platform))return;"undefined"!=typeof window&&this._loadSdk();const t=()=>{this._isAdvertPlayingDisabled||("visible"===document.visibilityState?this.resume():this.pause())};window.addEventListener("visibilitychange",t);const n=[];return n.push($i((()=>{var e;return null===(e=this._data)||void 0===e?void 0:e.data}),(e=>{Vi((async()=>{e&&(this.adBlock=await Be())}))}))),n.push($i((()=>this._config.get("videoId")),(()=>{this._reset()}))),n.push($i((()=>{var e;return null!==(e=this._config.get("userPaidSubscription"))&&void 0!==e?e:[]}),(e=>{var t;(null===(t=e.filter((e=>e.is_active)))||void 0===t?void 0:t.length)>0&&this._reset()}))),n.push($i((()=>{var e,t;return{advert:null===(e=this._data)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.advert,limits:null===(t=this._data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.limits,isLive:this._data.isLive,duration:this._playback.duration}}),(e=>{let{advert:t,limits:n,isLive:r,duration:i}=e;if(!r&&(!i||isNaN(i)||this.adBlock))return;let a=[],o={};Vi((()=>{if(Array.isArray(n)&&(a=((e,t)=>e.reduce(((e,n)=>{const r=n.name.search(Up)>=0;if(t&&!r||!t&&r)return e;const i=r?n.name.replace(Up,""):n.name;return zp(i)&&e.push(Ft(Ft({},n),{},{name:i})),e}),[]))(n,this.isMobile),this._limits.set(a)),Array.isArray(t)){const e=vf(t,this.isMobile,this._playback.duration),n=r?Sh:wh,i=e.filter((e=>n.includes(e.type)));o=Bp(i,"type"),this._items.set(o)}this.initAdapter()}))}))),n.push($i((()=>this.preventAdvertLogic),(e=>{e&&this.startTimer&&(this.startTimer=null)}))),n.push($i((()=>({isPlaying:this._playback.isPlaying,ended:this._playback.ended,startTimer:this.startTimer,loaded:this.isLoaded,prevented:this.preventAdvertLogic})),(e=>{let{isPlaying:t,startTimer:n,ended:r,loaded:i,prevented:a}=e;if(n&&t&&i&&!r){if(this._fullscreen.isIOSFullscreen())return this.removeCurrentAdvert(),this._preventAdvertEndEvent=!0,void(this.startTimer=null);setTimeout((()=>{this.startTimer=n-1,this.startTimer||a||("hidden"===document.visibilityState||this._fullscreen.isIOSFullscreen()?(this.removeCurrentAdvert(),this._preventAdvertEndEvent=!0):this.currentState="show")}),1e3)}}))),n.push($i((()=>0===this.currentItems.length),(e=>{e&&(this.currentState=null)}))),n.push($i((()=>this.currentProvider),(e=>{this._fullscreen.isIOSFullscreen()?this.removeCurrentAdvert():Vi((async()=>{if(e)try{this.onRequest(),await e.load(),this.onLoad(),e.registerEvents(this.events),"prefetch"===this.currentState&&e.preload&&!this.preventAdvertLogic&&e.preload()}catch(e){this.removeCurrentAdvert(),console.error("Failed to init provider")}}))}))),n.push($i((()=>({state:this.currentState,loaded:this.isLoaded,prevented:this.preventAdvertLogic})),(e=>{let{state:t,loaded:n,prevented:r}=e;if(r)return this.removeCurrentAdvert(),void(this.playback.paused&&this.playback.play().catch(console.error));var i;"show"===t&&n&&this.currentProvider&&(null===(i=this.currentProvider)||void 0===i||i.play())}))),n.push($i((()=>({isVideoPlaying:this._playback.isPlaying,isAdPlaying:this.isPlaying})),(e=>{let{isVideoPlaying:t,isAdPlaying:n}=e;var r;t&&(n||this.currentAdvert&&!this.isShowAdvertTimer)&&(null===(r=this._playback)||void 0===r||r.pause(),this.resume())}))),()=>{this._reset(),window.removeEventListener("visibilitychange",t),n.forEach((e=>e()))}}initAdapter(){this._adapter&&this._adapter.destroy(),this._adapter=this._data.isLive?new Gp(this,this._playback):new Kp(this,this._playback),this._adapter.init()}removeCurrentAdvert(){setTimeout((()=>{var e;null===(e=this.currentProvider)||void 0===e||e.destroy(),this.currentProvider=null,Vi((()=>this._currentItems.set(this.currentItems.slice(1))))}))}stabilizeAdVolume(){var e,t,n;const r=null===(e=this.currentProvider)||void 0===e?void 0:e.adVolumeAvailability,i=Boolean("userActivation"in window.navigator&&(null===(t=window.navigator)||void 0===t||null===(t=t.userActivation)||void 0===t?void 0:t.hasBeenActive)),a=null===(n=this.currentAdvert)||void 0===n||null===(n=n.name)||void 0===n?void 0:n.includes("preroll");if((this._canAutoplay||i)&&r){var o;const e=((null===(o=this.currentProvider)||void 0===o?void 0:o.volume)||0)>1?this._playback.volume/100:this._playback.volume,t=this._playback.muted||a?0:e/2;this.currentProvider&&this.currentProvider.volume!==t&&(this.currentProvider.volume=t)}}_reset(){Vi((()=>{var e,t;null===(e=this.currentProvider)||void 0===e||e.destroy(),this._isPlaying.set(!1),this._loading.set(!1),this._items.set({}),this._currentItems.set([]),this._currentState.set(null),this._currentProgress.set(0),this._startTimer.set(null),this._blockState.set(null),this._cuePoints.set([]),null===(t=this._adapter)||void 0===t||t.destroy(),this._adapter=null,this._preventAdvertStart.set(!1)}))}resolvePlaceholders(e){return this._placeholders.resolveCommonPlaceholders(e)}on(e,t){this._eventEmitter.on(e,t)}off(e,t){this._eventEmitter.off(e,t)}pause(){var e;null===(e=this._currentProvider.get())||void 0===e||e.pause()}resume(){var e;null===(e=this._currentProvider.get())||void 0===e||e.resume()}disableAdvertPlaying(){this._isAdvertPlayingDisabled=!0,this.pause()}enableAdvertPlaying(){this._isAdvertPlayingDisabled=!1,this.resume()}get preventAdvertLogic(){return this._preventAdvertStart.get()}set preventAdvertLogic(e){this._preventAdvertStart.set(e)}get adBlock(){return this._adBlock.get()}set adBlock(e){this._adBlock.set(e)}get isAdvertEnded(){return this._isAdvertEnded.get()}set isAdvertEnded(e){this._isAdvertEnded.set(e)}get items(){var e;return this._fullscreen.isIOSFullscreen()||"player-carousel"===(null===(e=this._embed)||void 0===e?void 0:e.params.platform)?{}:this._items.get()}get limits(){return this._limits.get()}get events(){return{onStart:this.onStart,onEnd:this.onEnd,onError:this.onError,onPlayingState:this.onPlayingState,onProgress:this.onProgress,onImpression:this.onImpression}}get currentAdvert(){return this.currentItems[0]||null}get currentState(){return this._currentState.get()}set currentState(e){this._currentState.set(e)}get currentItems(){return this._currentItems.get()}set currentItems(e){this._currentItems.set(e)}get startTimer(){return this._startTimer.get()}set startTimer(e){this._startTimer.set(e)}get currentProvider(){return this._currentProvider.get()}set currentProvider(e){this._currentProvider.set(e)}get currentProgress(){return this._currentProgress.get()}set currentProgress(e){this._currentProgress.set(e)}get isPlaying(){return this._isPlaying.get()}get blockState(){return this._blockState.get()}get isSafeMode(){const{minAge:e,maxAge:t}=this._config.get("safeModeConfig")||{};return null!=e&&null!=t}get loading(){return this._loading.get()}set loading(e){this._loading.set(e)}get isLoading(){return"loading"===this._loading.get()}get isLoaded(){return"loaded"===this._loading.get()}get data(){return this._data}get backgroundStyles(){return{backgroundColor:"black",backgroundSize:"cover",backgroundPosition:"center"}}get playback(){return this._playback}get cuePoints(){return this._cuePoints.get()}set cuePoints(e){this._cuePoints.set(e)}get advertVideo(){return this._advertVideo.get()}set advertVideo(e){this._advertVideo.set(e)}get isShowAdvertTimer(){return Boolean("prefetch"===this.currentState&&this.startTimer)}get isNodeConnected(){return this._domNodeTracker.isConnected}get isControlsHidden(){return this._isControlsHidden.get()}set isControlsHidden(e){this._isControlsHidden.set(e)}},({e:[_f],c:[bf,gf]}=en(ff,[To({implement:"IAdvertPlugin",ctor_args:["IsEmbed","IPlayerSizePlugin","IPlayback","IFullscreenPlugin","IDataPlugin","IPlaceholdersState",{implement:"IEmbedPlugin",optional:!0},"IPlayerConfigPlugin","IDomNodeTrackerPlugin"]})],[[Lo(),2,"init"],[Ro,2,"disableAdvertPlaying"],[Ro,2,"enableAdvertPlaying"]],0,void 0,Oo)),yf=ff,(mf=class extends jo{constructor(){super(bf),this.Advert=hf,gf()}})[yf]=void 0,mf);var kf;let Af,Pf;Ef=class extends Oo{constructor(e,t){super(),this._requestTimestamp=(wf(this),null),this._watchTimeInterval=null,this._lastTimestamp=0,this._watchTime=Mr.box(0),this.counterHelper=void 0,this._getCommonStatParams=()=>{var e;if(!this.advertManager.currentAdvert)return null;const{name:t,type:n}=this.advertManager.currentAdvert;return{advertName:t,campaignId:(null===(e=this.advertManager.currentProvider)||void 0===e||null===(e=e.info)||void 0===e?void 0:e.campaignId)||"",type:n}},this.onLoad=()=>{var e,t;const n=this._getCommonStatParams();if(!n)return;const{advertName:r,campaignId:i,type:a}=n;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertReceive")({advertName:r,campaignId:i}),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertReceiveByType")({advertName:r,campaignId:i,type:a})},this.onRequest=()=>{var e,t,n;this._requestTimestamp=(new Date).getTime();const r=this._getCommonStatParams();if(!r)return;const{advertName:i,type:a}=r;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertRequest")({type_ad:i}),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertSend")({advertName:i}),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertSendByType")({advertName:i,type:a})},this.onStart=()=>{var e,t,n,r;const i=this._getCommonStatParams();if(!i)return;const{advertName:a,campaignId:o,type:s}=i;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertStart")({advertName:a,campaignId:o}),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertStartByType")({advertName:a,campaignId:o,type:s}),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertView")({type_ad:a}),0===(null===(r=this.advertManager.blockState)||void 0===r?void 0:r.viewed)&&this._onBlockStart()},this.onSuccess=()=>{var e,t;const n=this._getCommonStatParams();if(!n)return;const{advertName:r,campaignId:i}=n;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertEnd")({advertName:r,campaignId:i}),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertLoadAfterAd")()},this.onSkip=()=>{var e;const t=this._getCommonStatParams();if(!t)return;const{advertName:n,campaignId:r}=t;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertSkip")({advertName:n,campaignId:r})},this.onClose=()=>{var e;const t=this._getCommonStatParams();if(!t)return;const{advertName:n,campaignId:r}=t;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertClose")({advertName:n,campaignId:r})},this.onError=()=>{var e;const t=this._getCommonStatParams();if(!t)return;const{advertName:n,campaignId:r}=t;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertError")({advertName:n,campaignId:r})},this.onClick=()=>{var e;const t=this._getCommonStatParams();if(!t)return;const{advertName:n,campaignId:r}=t;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertClick")({advertName:n,campaignId:r})},this.onEnd=()=>{1===this.advertManager.currentItems.length&&this._onBlockEnd()},this._onUnload=()=>{var e;const t=this._getCommonStatParams();if(!t)return;const{advertName:n,campaignId:r}=t;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertUnload")({advertName:n,campaignId:r})},this._onBlockStart=()=>{var e,t,n,r;const i=this._getCommonStatParams();if(!i)return;const{advertName:a,type:o}=i,s=`ADVERT_STAT_BLOCK_START_${o.toUpperCase()}`;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertBlockStart")({advertName:a}),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertBlockStartByType")({advertName:a,type:o}),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertBlockStartYm")({type_ad:a}),null===(r=this.counterHelper)||void 0===r||r.get("mainAdvertBlockStartYmCustom")({type_ad:a,event:s})},this._onBlockEnd=()=>{var e,t,n,r;const i=this._getCommonStatParams();if(!i)return;const{advertName:a,type:o}=i,s=`ADVERT_STAT_BLOCK_END_${o.toUpperCase()}`;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertBlockEnd")({advertName:a}),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertBlockEndByType")({advertName:a,type:o}),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertBlockEndYm")({type_ad:a}),null===(r=this.counterHelper)||void 0===r||r.get("mainAdvertBlockEndYmCustom")({type_ad:a,event:s})},this.advertManager=e,this.counterHelper=t&&t instanceof Mv?t.counterHelper:void 0,Ca(this,{viewId:Hr,watchTime:Hr})}init(){const e=[];return e.push($i((()=>({provider:this.advertManager.currentProvider,loaded:this.advertManager.isLoaded})),(e=>{let{provider:t,loaded:n}=e;t&&n?(window.addEventListener("beforeunload",this._onUnload),t.registerEvents(this.events)):window.removeEventListener("beforeunload",this._onUnload)}))),e.push($i((()=>({loading:this.advertManager.isLoading,loaded:this.advertManager.isLoaded})),(e=>{let{loading:t,loaded:n}=e;n?this.onLoad():t&&this.onRequest()}))),e.push($i((()=>this.advertManager.isPlaying),(e=>{e?(this._lastTimestamp=(new Date).getTime(),this._watchTimeInterval=setInterval((()=>{this.watchTime+=(new Date).getTime()-this._lastTimestamp}),200)):(this._lastTimestamp&&(this.watchTime+=(new Date).getTime()-this._lastTimestamp,this._lastTimestamp=0),this._watchTimeInterval&&clearInterval(this._watchTimeInterval))}))),()=>e.forEach((e=>e()))}get events(){return{onStart:this.onStart,onSuccess:this.onSuccess,onSkip:this.onSkip,onClose:this.onClose,onError:this.onError,onClick:this.onClick,onEnd:this.onEnd}}get viewId(){var e;return`${(null===(e=this.advertManager.currentProvider)||void 0===e||null===(e=e.info)||void 0===e?void 0:e.advertId)||""}_${String(this._requestTimestamp)}_${Math.random()}`}get watchTime(){return this._watchTime.get()}set watchTime(e){this._watchTime.set(e)}},({e:[wf],c:[Cf,Sf]}=en(Ef,[To({implement:"IAdvertStatPlugin",ctor_args:["IAdvertPlugin",{implement:"IStatisticState",optional:!0}]})],[[Lo(),2,"init"]],0,void 0,Oo)),Sf();kf=class extends Oo{constructor(e){super(),this.__skinColor=Mr.box(""),this._data=e}set skinColor(e){this.__skinColor.set(e)}get skinColor(){return this.__skinColor.get()}get color(){var e,t;return null!==(e=this._data.appearance)&&void 0!==e&&e.color||this.skinColor?`#${this.skinColor||(null===(t=this._data.appearance)||void 0===t?void 0:t.color)||""}`:"var(--pen-accent)"}get autoStart(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.auto_start)||!1}get showSubscription(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_subscription)||!1}get showAuthor(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_author)||!1}get showTitle(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_title)||!1}get showHd(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_hd)||!1}get showLogotype(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_logotype)||!1}get showFullTab(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_full_tab)||!1}get showAvatar(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_avatar)||!1}get showTopPanel(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_top_panel)||!1}get showShareButton(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_share_button)||!1}get showSocialButtons(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_social_buttons)||!1}get showEndScreen(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_endscreen)||!1}get showRelated(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_related)||!1}get showCategoryRecommended(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_category_recommended)||!1}get showUserRecommended(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_user_recommended)||!1}get showPgRating(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_pg_rating)||!1}get availablePauseClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_pause_click)||!1}get availableTitleClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_title_click)||!1}get availableLogoClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_logo_click)||!1}get availableAuthorClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_author_click)||!1}get availableRelatedClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_related_click)||!1}get pluginModifying(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.plugin_modifying)||!1}get forbidHtmlControls(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.forbid_html_controls)||!1}get showAdultStub(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_adult_stub)||!1}get availableLinkStub(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_link_stub)||!1}get availableSpecialSource(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_special_source)||!1}get advertSkinType(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.advert_skin_type)||null}get showPreloader(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_preloader)||!1}get enableEmbedLogo(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.enable_embed_logo)||!1}get cookiesMail(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.cookies_mail)||!1}get forbidHtmlFullscreen(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.forbid_html_controls)||!1}get allowAutoSeek(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.allow_auto_seek)||!1}get forbidTimelinePreview(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.forbid_timeline_preview)||!1}get allowPushSubscribe(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.allow_push_subscribe)||!1}get enablePlaylist(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.enable_playlist)||!1}get showLogoWithControls(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_logo_with_controls)||!1}get miniPlayer(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.mini_player)||!1}get cinemaMode(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.cinema_mode)||!1}},[Pf,Af]=en(kf,[To({implement:"IAppearancePlugin",ctor_args:["IDataPlugin"]})],[],0,void 0,Oo).c,Af();const If=()=>Rc("IAppearancePlugin"),Tf=()=>st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4C3.34315 4 2 5.34315 2 7V17C2 18.6569 3.34315 20 5 20H19C20.6569 20 22 18.6569 22 17V7C22 5.34315 20.6569 4 19 4H5ZM6.0001 12.2489C5.58589 12.2489 5.25006 12.5846 5.25 12.9988C5.24995 13.413 5.58569 13.7489 5.99991 13.7489L13.4999 13.7499C13.9141 13.7499 14.25 13.4142 14.25 13C14.2501 12.5858 13.9143 12.2499 13.5001 12.2499L6.0001 12.2489ZM6 15.2489C5.58579 15.2489 5.25 15.5847 5.25 15.9989C5.25 16.4131 5.58579 16.7489 6 16.7489H18C18.4142 16.7489 18.75 16.4131 18.75 15.9989C18.75 15.5847 18.4142 15.2489 18 15.2489H6ZM15.25 12.9989C15.25 12.5847 15.5858 12.2489 16 12.2489H18C18.4142 12.2489 18.75 12.5847 18.75 12.9989C18.75 13.4131 18.4142 13.7489 18 13.7489H16C15.5858 13.7489 15.25 13.4131 15.25 12.9989Z",fill:"white"})),Rf=()=>st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("rect",{x:"2.62",y:"4.62",width:"18.76",height:"14.76",rx:"2.38",stroke:"white",strokeWidth:"1.24"}),st.createElement("path",{d:"M6 13H13.5",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M6 16H18",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M16 13H18",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"})),xf="raichu-button-module__control___Cys9B",Lf="raichu-button-module__controlWithLabel___LUONe",Of="raichu-button-module__labelSticker___YIOj2",Nf="raichu-button-module__controlInteractive___gtqqk",Mf="raichu-button-module__noScale___wS3jI",Df="raichu-button-module__isTouch___SJnop",Ff="raichu-button-module__sizeXL___mTUYQ",Bf="raichu-button-module__sizeXXL___aRTLG",Hf="raichu-button-module__withBg___arc2r",Vf="raichu-button-module__withBgBig___JdHV_",Uf="data-prevent-hide-controls",jf={[Uf]:"true"},Wf="data-allow-event-processing",zf={[Wf]:!0},$f="data-raichu-popup",Gf={[$f]:"true"},Kf=e=>"true"===e.getAttribute(Uf)||!!e.closest(`[${Uf}="true"]`),qf="raichu-tooltip-module__tooltip___V5AVQ",Yf="raichu-tooltip-module__area___QIGdE",Qf=e=>{let{children:t,title:n,className:r,areaStyle:i,areaClassName:a,placement:o,offset:s=10,hidden:l=!1,hideOnClick:u=!1,portal:c=!1,zIndex:d=1,mode:h}=e;const p=(0,st.useRef)(null),v=Jc(),m=(0,st.useMemo)((()=>{const e={placement:o||"auto",strategy:"fixed"},t=[{name:"offset",options:{offset:[0,s]}}];return v&&(null==t||t.push({name:"preventOverflow",options:{boundary:v}})),e&&(e.modifiers=t),e}),[v,s,o]),[f,_]=(0,st.useState)(!1),[g,y]=(0,st.useState)(null),b=(0,st.useCallback)((()=>_(!0)),[]),E=(0,st.useCallback)((()=>{_(!1)}),[]);return(0,st.useEffect)((()=>{var e;f&&((null===(e=p.current)||void 0===e?void 0:e.update)&&p.current.update().catch((()=>{})))}),[h,f]),jc.isMobile?st.createElement(st.Fragment,null,t):st.createElement("div",{className:cl()(qf,r),onMouseEnter:b,onMouseLeave:E,onFocus:b,onBlur:E,onClick:u?E:void 0,ref:y},st.createElement(Vu,{isPopperShown:f&&!l,popperElements:st.createElement("div",{className:cl()(Yf,a),style:i},n),popperKey:Mu,popperOptions:m,anchorElement:g,portal:c,customPopperZIndex:d,instanceRef:p},t))},Zf=["icon","iconSticker","color","bgColor","withBg","size","withBgSize","big","action","noScale","wrapperClassName","className","tooltipTitle","tooltipPlacement","tooltipMargin","tooltipHidden","tooltipHideOnClick","tooltipZIndex","onClick","children","style","label"],Xf=(0,st.forwardRef)(((e,t)=>{let{icon:n,iconSticker:r,color:i,bgColor:a,withBg:o,size:s,withBgSize:l,big:u=!1,action:c,noScale:d,wrapperClassName:h,className:p,tooltipTitle:v,tooltipPlacement:m,tooltipMargin:f=24,tooltipHidden:_=!1,tooltipHideOnClick:g=!1,tooltipZIndex:y=2,onClick:b,children:E,style:w,label:S}=e,C=bp(e,Zf);const k=ju(),A=cl()({[Ff]:"XL"===s,[Bf]:"XXL"===s}),P=st.createElement("button",ll({ref:t},C,jf,{className:cl()(xf,"front-control",{[Nf]:!o,[Mf]:d,[Df]:k,[Lf]:!!S},A,p),style:w,type:"button",onClick:e=>{b&&b(e,c)}}),n?st.createElement(n,{"aria-hidden":"true",color:i}):E,r&&st.createElement("div",{"aria-hidden":"true",className:Of},r),S),I=v?st.createElement(Qf,{title:v,placement:m,offset:f,hideOnClick:g,hidden:_,zIndex:y},P):P;return o?st.createElement("div",{className:cl()(Hf,h,{[Vf]:"XL"===l||u}),style:{background:a}},I):I}));function Jf(){return Tc().resolve("ICaptionsPlugin")}function e_(){return Tc().resolveOptional("ICaptionsPlugin")}const t_=lc((e=>{let{size:t}=e;const n=Jf(),{playOptionsCaptions:r,isShowCaptions:i,onCaptionsButtonClick:a}=n,o=i?Tf:Rf,s=i?kt.CaptionsOff:kt.CaptionsOn,l=i?"Выключить субтитры":"Включить субтитры";return st.createElement(st.Fragment,null,Boolean(null==r?void 0:r.length)&&st.createElement(Xf,{tabIndex:0,role:"button","aria-label":l,icon:o,onClick:a.bind(n),tooltipTitle:s,tooltipPlacement:"top",tooltipZIndex:kt.ControlsTooltipZIndex,size:t}))})),n_={"Русский":"ru","Английский":"en"},r_=lc((e=>{var t,n;const{caption:r,cueChangeHandler:i,active:a,isCaptionsOn:o}=e,s=(0,st.useRef)(null),[l,u]=(0,st.useState)(!1),c=Jf();return(0,st.useEffect)((()=>{if(null!=s&&s.current){const e=s.current.track;return a&&lv()&&"disabled"===e.mode&&l&&(c.isShowCaptions=!1),e.mode="hidden",a&&o&&c.isFullscreen&&lv()&&(e.mode="showing",u(!0)),!a||c.isFullscreen&&lv()||(e.mode="hidden"),a||(e.mode="hidden",e.removeEventListener("cuechange",i)),a&&e.addEventListener("cuechange",i),()=>{e&&e.removeEventListener("cuechange",i)}}}),[s,a,o,i,l,c]),(0,st.useEffect)((()=>{if(null!=s&&s.current){const e=s.current.track;return"showing"===e.mode&&e.addEventListener("cuechange",i),"showing"===e.mode&&lv()&&c.isFullscreen&&(c.activeCaption=r),()=>{!a&&e&&(null==e||e.removeEventListener("cuechange",i))}}}),[a,r,c,i,null===(t=s.current)||void 0===t?void 0:t.track.mode]),st.createElement("track",{id:`${null!==(n=r.langTitle)&&void 0!==n?n:"track_0"}`,ref:s,src:r.file,kind:"captions",srcLang:n_[r.langTitle]})})),i_="captions-module__captions___gmT8R",a_="captions-module__captionsFontMedium___G2LHz",o_="captions-module__captionsFontSmall___GsMSO",s_="captions-module__captionsFontLarge___N0bIy",l_="captions-module__captionsWithControls___bSHpO",u_="captions-module__span___IRTOI";var c_=n(7140),d_=n.n(c_);const h_=["script","object","applet","embed","frameset","iframe","form","textarea","input","select","button","img","picture","canvas","figure","audio","video"],p_=(e,t)=>{Array.from(e.childNodes).forEach((e=>{const n=e.nodeName.toLowerCase();if("#text"===n)return;p_(e,t);if(t.includes(n)){const t=document.createElement(n);t.innerHTML=e.innerHTML,e.replaceWith(t)}else e.replaceWith(...e.childNodes)}))},v_=lc((()=>{const e=Jf(),{video:t,isControlsShown:n,videoId:r}=e,{captions:i,activeCaption:a,isShowCaptions:o,captionsColor:s,captionsTextSize:l,captionsBackgroundColor:u,captionsBackgroundOpacity:c,parsedCaptions:d}=e,[h,p]=(0,st.useState)(null);(0,st.useEffect)((()=>{var t;null!==(t=e.playOptionsCaptions)&&void 0!==t&&t.length&&e.setAllAndActiveCaptionsState(r)}),[e,e.playOptionsCaptions,r]);const v=(0,st.useCallback)((t=>{var n;const r=null==t?void 0:t.target;if(e.isFullscreen&&lv()&&"showing"===(null==r?void 0:r.mode)&&null!=r&&r.id&&i){var a;const t=parseInt(r.id),n=null!==(a=i[t])&&void 0!==a?a:null;n&&(e.isShowCaptions=!0,e.activeCaption=n)}if(r&&null!==(n=r.activeCues)&&void 0!==n&&n.length){const e=((e,t)=>{const n=(new DOMParser).parseFromString(e,"text/html");return n.querySelectorAll(h_.join(",")).forEach((e=>e.remove())),p_(n.body,t),n.body.innerHTML})(r.activeCues[0].text,["b","i","strong","em"]);p(e)}else p(null)}),[e,i]),m=(0,st.useMemo)((()=>{if(h&&o){var e,t,r;const i=(e=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null})(u),a={color:s,background:`rgba(${null!==(e=null==i?void 0:i.r)&&void 0!==e?e:0}, ${null!==(t=null==i?void 0:i.g)&&void 0!==t?t:0}, ${null!==(r=null==i?void 0:i.b)&&void 0!==r?r:0}, ${c/10})`};return st.createElement("div",{className:cl()(i_,{[l_]:n,[a_]:"medium"===l,[s_]:"large"===l,[o_]:"small"===l})},st.createElement("span",{className:u_,style:a,dangerouslySetInnerHTML:{__html:h}}))}return null}),[h,o,u,s,c,n,l]);return st.createElement(st.Fragment,null,(()=>{if(!t)return null;const e=Object.values(d).map((e=>st.createElement(r_,{key:e.langTitle,active:e.langTitle===(null==a?void 0:a.langTitle),cueChangeHandler:v,caption:e,isCaptionsOn:o})));return dl.createPortal(e,t)})(),m)}));class m_{constructor(){this.getStorageItem=e=>{const t=de(kh);if(t){return JSON.parse(t)[e]}return null},this.prepareAndStore=(e,t)=>{let n=de(kh);if(n){let r=JSON.parse(n);r=Ft(Ft({},r),{},{[e]:t}),n=JSON.stringify(r),he(kh,n)}},this.setInitiaSettings=e=>{const t={active:e?"1":"0",color:"#ffffff",size:"medium",bgColor:"#000000",bgOpacity:7,savedSubs:{}};he(kh,JSON.stringify(t))},this.initStorage=()=>{de(kh)||this.setInitiaSettings()}}get activeFlag(){return this.getStorageItem("active")}get textColor(){return this.getStorageItem("color")}get textSize(){return this.getStorageItem("size")}get backgroundColor(){return this.getStorageItem("bgColor")}get backgroundOpacity(){return this.getStorageItem("bgOpacity")}get savedSubs(){return this.getStorageItem("savedSubs")}}var f_;let __,g_,y_,b_,E_;var w_=$o("A");f_=class extends Oo{static get CaptionButton(){return t_}static get Captions(){return v_}get _captions(){return Wo(this,w_)[w_]}set _captions(e){Wo(this,w_)[w_]=e}constructor(e,t,n,r,i,a){super(),this._isShowCaption=(__(this),Mr.box(!1)),this._playOptionsCaptions=Mr.array([]),Object.defineProperty(this,w_,{writable:!0,value:y_(this,{})}),this._parsedCaptions=(b_(this),{}),this._activeCaption=Mr.box(null),this._captionsColor=Mr.box("#ffffff"),this._captionsBackgroundColor=Mr.box("#000000"),this._captionsBackgroundOpacity=Mr.box(7),this._captionsTextSize=Mr.box("medium"),this._savedSubs={},this._lStorageInstance=void 0,this.counterHelper=void 0,this._config=e,this._dataStore=t,this._playback=n,this._fullscreen=r,this._controls=i,this._lStorageInstance=new m_,this._initCaptions(),this.counterHelper=a&&a instanceof Mv?a.counterHelper:void 0,Ca(this,{isShowCaptions:Hr,captions:Hr,activeCaption:Hr,playOptionsCaptions:Hr,captionLanguage:Hr,hasCaptions:Hr,captionsColor:Hr,captionsBackgroundColor:Hr,captionsBackgroundOpacity:Hr,captionsTextSize:Hr,isControlsShown:Hr,parsedCaptions:Hr})}intiCaptions(){return $i((()=>this._dataStore.captions),(e=>{this._playOptionsCaptions.clear(),this.parsedCaptions={},e&&(this._playOptionsCaptions.replace(e),this.captions=e.reduce(((e,t,n)=>(0===n&&(this.activeCaption=t),t.langTitle in e?"vtt"===t.format&&(e[t.langTitle]=t):e[t.langTitle]=t,e)),{}))}))}initCountersHelpers(){return $i((()=>this.isShowCaptions),(e=>{var t,n;null!==(t=this.playOptionsCaptions)&&void 0!==t&&t.length&&(null===(n=this.counterHelper)||void 0===n||n.get("mainCaptionsShow")({language:e?this.captionLanguage:"",action:"show",result:e?"on":"off"}))}))}initLoadAndParseCatpions(){return $i((()=>({video:this.video,captions:this._captions})),(e=>{let{video:t,captions:n}=e;if(!t||!n||!Object.keys(ha(n)).length)return null;this.loadAndParseCaptions()}),{fireImmediately:!0})}initSetCaptions(){const e=e=>{const t=null==e?void 0:e.data;t&&Vi((()=>{var e;this.isShowCaptions=t.enabled,this.activeCaption=null!==(e=Object.values(this.captions).find((e=>e.sub_id===t.current)))&&void 0!==e?e:null}))};return Fp.subscribe(Nh.SET_CAPTION,e),()=>Fp.unsubscribe(Nh.SET_CAPTION,e)}initChangeCaption(){let e,t;return $i((()=>({isShowCaptions:this.isShowCaptions,activeCaption:this.activeCaption})),(n=>{var r;let{isShowCaptions:i,activeCaption:a}=n;var o;i===e&&(null==a?void 0:a.sub_id)===(null===(r=t)||void 0===r?void 0:r.sub_id)||(e=i,t=a,Fp.emit(Nh.CHANGE_CAPTION,{enabled:i,current:null!==(o=null==a?void 0:a.sub_id)&&void 0!==o?o:null}))}))}loadAndParseCaptions(){const e=this.captions;Object.keys(e).forEach((t=>{const n=t,r=e[n],i=Ft({},r);r&&!this.parsedCaptions[n]&&("vtt"===r.format&&(i.file=r.file,this.parsedCaptions=Ft(Ft({},this.parsedCaptions),{},{[n]:i})),(async e=>{const t=await fetch(e);let n,r="";return t&&(n=await t.blob()),n&&(r=await d_()(n)),r})(r.file).then((e=>{if(i.file=e,this.parsedCaptions=Ft(Ft({},this.parsedCaptions),{},{[n]:i}),!i.file)return null})).catch((e=>{console.warn("fetchCaptionError",e)})))}))}get isShowCaptions(){return this._isShowCaption.get()}set isShowCaptions(e){this._lStorageInstance.prepareAndStore("active",e?"1":"0"),this._isShowCaption.set(e)}get parsedCaptions(){return ha(this._parsedCaptions)}set parsedCaptions(e){this._parsedCaptions=e}get captions(){return ha(this._captions)}set captions(e){this._captions=e}get hasCaptions(){return this._playOptionsCaptions.length>0}get playOptionsCaptions(){return ha(this._playOptionsCaptions)}get activeCaption(){return this._activeCaption.get()}set activeCaption(e){this._activeCaption.set(e)}get captionLanguage(){var e;return(null===(e=this._activeCaption.get())||void 0===e?void 0:e.langTitle)||""}get captionsColor(){return this._captionsColor.get()}set captionsColor(e){this._lStorageInstance.prepareAndStore("color",e),this._captionsColor.set(e)}get captionsBackgroundColor(){return this._captionsBackgroundColor.get()}set captionsBackgroundColor(e){this._lStorageInstance.prepareAndStore("bgColor",e),this._captionsBackgroundColor.set(e)}get captionsBackgroundOpacity(){return this._captionsBackgroundOpacity.get()}set captionsBackgroundOpacity(e){this._lStorageInstance.prepareAndStore("bgOpacity",e),this._captionsBackgroundOpacity.set(e)}get captionsTextSize(){return this._captionsTextSize.get()}set captionsTextSize(e){this._lStorageInstance.prepareAndStore("size",e),this._captionsTextSize.set(e)}get isFullscreen(){return this._fullscreen.isFullscreen}get videoId(){return this._config.get("videoId")}get video(){return this._playback.player}get isControlsShown(){return this._controls.isShowControls}resetCaptionSettings(){this.captionsTextSize="medium",this.captionsColor="#ffffff",this.captionsBackgroundColor="#000000",this.captionsBackgroundOpacity=7}_initCaptions(){try{this._lStorageInstance.initStorage();const{activeFlag:e,textColor:t,textSize:n,backgroundColor:r,savedSubs:i,backgroundOpacity:a}=this._lStorageInstance;if("string"!=typeof e&&(this._lStorageInstance.prepareAndStore("active","0"),this.isShowCaptions=!1),this.isShowCaptions="1"===e,i){const e=Date.now();for(const t in i)i[t].expire<e&&delete i[t];this._savedSubs=i,this._lStorageInstance.prepareAndStore("savedSubs",i)}t&&(this.captionsColor=t),n&&(this.captionsTextSize=n),r&&(this.captionsBackgroundColor=r),a&&(this.captionsBackgroundOpacity=a)}catch(e){console.info(e)}}setSavedSubs(e,t){try{var n;const r=null!==(n=this._lStorageInstance.savedSubs)&&void 0!==n?n:{};r[e]=t,this._savedSubs=r,this._lStorageInstance.prepareAndStore("savedSubs",r)}catch(e){console.info(e)}}deleteSavedSubs(e){try{var t;const n=null!==(t=this._lStorageInstance.savedSubs)&&void 0!==t?t:{};delete n[e],this._savedSubs=n,this._lStorageInstance.prepareAndStore("savedSubs",n)}catch(e){console.info(e)}}setAllAndActiveCaptionsState(e){try{const t=this._savedSubs&&this._savedSubs[e],n=this.playOptionsCaptions.reduce(((e,t)=>(t.langTitle in e?"vtt"===t.format&&(e[t.langTitle]=t):e[t.langTitle]=t,e)),{});this.captions=n;const r=()=>{var r;if(t){const r=t.sub_id;return n[r]?r:(this.deleteSavedSubs(e),null===(i=this.playOptionsCaptions[0])||void 0===i?void 0:i.langTitle);var i}return null===(r=this.playOptionsCaptions[0])||void 0===r?void 0:r.langTitle},i=r();this.activeCaption=n[i]}catch(e){console.info(e)}}onCaptionsButtonClick(){var e;const t=!this.isShowCaptions;this.isShowCaptions=t,null===(e=this.counterHelper)||void 0===e||e.get("mainCaptionsClick")({result:t?"on":"off",language:t?this.captionLanguage:"",action:"click"})}onCaptionsSettingsClick(e){var t;null===(t=this.counterHelper)||void 0===t||t.get("mainCaptionsClick")({result:"change",language:this.isShowCaptions?e:"",action:"change"})}},({e:[y_,b_,__],c:[E_,g_]}=en(f_,[To({implement:"ICaptionsPlugin",ctor_args:["IPlayerConfigPlugin","IDataPlugin","IPlayback","IFullscreenPlugin","IControlsPlugin",{implement:"IStatisticState",optional:!0}]})],[[Mr,1,"_captions"],[Lo(),2,"intiCaptions"],[Lo(),2,"initCountersHelpers"],[Lo(),2,"initLoadAndParseCatpions"],[Lo(),2,"initSetCaptions"],[Lo(),2,"initChangeCaption"]],0,void 0,Oo)),g_();const S_=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("rect",{x:"5",y:"8",width:"14",height:"8",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},C_=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("rect",{x:"4",y:"6",width:"16",height:"12",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},k_=(e,t,n)=>jc.isMobile?e:`${e}${t?` (горячая клавиша ${t}${n?" английская":""})`:""}`;const A_=lc((e=>{let{size:t}=e;const{isCinema:n,handleCinema:r}=Tc().resolve("CinemaModePlugin");return st.createElement(Xf,{"data-testid":"ui-cinema",tabIndex:0,"aria-label":k_("Переключить в театральный режим","T",!0),role:"button",action:"cinema",icon:n?S_:C_,onClick:r,tooltipTitle:n?kt.CinemaOff:kt.CinemaOn,tooltipPlacement:"top",tooltipHideOnClick:!0,tooltipZIndex:kt.ControlsTooltipZIndex,size:t})}));var P_,I_;let T_,R_,x_,L_;new(I_=class extends Oo{constructor(e){super(),this._isCinema=(T_(this),Mr.box(!1)),this._pictureInPicturePlugin=e,Ca(this,{isCinema:Hr})}handleCinema(){var e,t;null!==(e=this._pictureInPicturePlugin)&&void 0!==e&&e.isInPiP?(this.isCinema=!this.isCinema,null===(t=this._pictureInPicturePlugin)||void 0===t||t.exitFromPiP()):this.isCinema=!this.isCinema}get isCinema(){return this._isCinema.get()}set isCinema(e){this._isCinema.set(e)}},({e:[T_],c:[L_,R_]}=en(I_,[To({implement:"CinemaModePlugin",ctor_args:[{implement:"PictureInPicturePlugin",optional:!0}]})],[[[Bi,Bi.bound],18,"handleCinema"]],0,void 0,Oo)),x_=I_,(P_=class extends jo{constructor(){super(L_),this.CinemaButton=A_,R_()}})[x_]=void 0,P_);const O_=()=>st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"none"},st.createElement("rect",{width:"18.667",height:"13.38",x:"7.826",y:"12.534",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.653",rx:"1.333"}),st.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M19.649 19.821a.65.65 0 0 0 .261-.526.65.65 0 0 0-.261-.527l-2.827-2.034a.55.55 0 0 0-.602-.031.64.64 0 0 0-.31.558v4.067c0 .234.12.448.31.558a.55.55 0 0 0 .602-.031zm-2.566.325v-1.703l1.184.852z",clipRule:"evenodd"}),st.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.653",d:"m23.762 10.462-1.386-5.174a1.333 1.333 0 0 0-1.633-.943L5.288 8.486a1.333 1.333 0 0 0-.943 1.633l1.387 5.174"})),N_={tooltip:"onboarding-tooltip-module__tooltip___pi5ci",tutorialTooltip:"onboarding-tooltip-module__tutorialTooltip___LFDUv",arrow:"onboarding-tooltip-module__arrow___WIsZB",top:"onboarding-tooltip-module__top___qqEhE",bottom:"onboarding-tooltip-module__bottom___Ep3bK",fadeIn:"onboarding-tooltip-module__fadeIn___DsiuT"};var M_=function(e){return e.RAICHU_LOADER_TEMPLATE="raichuLoaderTemplate",e.RAICHU_CONTAINER_WITH_PLAYER="raichuContainerWithPlayer",e.RAICHU_VIDEO_TAG_NODE="raichuVideoTagNode",e.RAICHU_AREAS_BAR="raichuAreasBar",e.RAICHU_MOBILE_PREVIEW="raichuMobilePreview",e.RAICHU_AREAS_BAR_PREVIEW="raichuAreasBarPreview",e.RAICHU_AREAS_BAR_PREVIEW_TIME="raichuAreaBarPreviewTime",e.COMMUNICATION_BANNER="communicationBanner",e.PLAY_BUTTON="playButton",e.VOLUME_BAR="volumeBar",e}(M_||{});const D_=e=>{let{isTouchDevice:t,playerWidth:n,title:r,wrapperRef:i,placement:a="top"}=e;const o=(0,st.useRef)(null),s=(0,st.useMemo)((()=>({placement:a,strategy:"fixed",modifiers:[{name:"offset",enabled:!0,options:{offset:[0,t?4:24]}},{name:"preventOverflow",options:{boundary:document.getElementById(M_.RAICHU_CONTAINER_WITH_PLAYER),padding:t?8:12}},{name:"arrow",options:{element:`.${N_.arrow}`}}]})),[t,a]);return(0,st.useEffect)((()=>{var e,t;null===(e=o.current)||void 0===e||null===(t=e.update)||void 0===t||t.call(e).catch((()=>{}))}),[n]),st.createElement(Vu,{instanceRef:o,isPopperShown:!0,renderPopperElements:e=>{let{styles:t}=e;return st.createElement("div",{className:N_.tooltip},r,st.createElement("div",{className:cl()(N_.arrow,{[N_[`${a}`]]:a}),style:t.arrow}))},popperKey:Mu,popperOptions:s,anchorRef:i,customPopperZIndex:25})},F_=()=>xc("IOnboardingPlugin"),B_=()=>Rc("IChaptersPlugin"),H_="chapter-button-module__chapter___rppha",V_="chapter-button-module__wrapper___j_9j7",U_="chapter-button-module__border___e058L",j_="chapter-button-module__name____BGs8",W_="chapter-button-module__button___mV2q_",z_=st.createElement(st.Fragment,null,"Откройте список эпизодов,",st.createElement("br",null),"чтобы переключаться между ними"),$_=lc((e=>{let{buttonSize:t}=e;const{activeChapter:n,count:r,counterHelper:i,isTitleHidden:a,size:o,onButtonClick:s}=B_(),l=ju(),{activeOnboarding:u,isShowOnboarding:c}=F_()||{},d=(null==o?void 0:o.width)||0,h=(0,st.useRef)(null),p="string"==typeof n,v="chapters"===u&&c;return(0,st.useEffect)((()=>{p&&(null==i||i.get("mainChaptersButtonShow")())}),[i,p]),p?st.createElement("div",{className:H_,onClick:s},st.createElement("div",{className:V_},st.createElement("div",{className:U_}),st.createElement(Xf,{ref:h,"data-testid":"ui-chapter-button",tabIndex:0,role:"button",icon:O_,tooltipTitle:st.createElement("div",null,n),tooltipPlacement:"top",label:st.createElement("div",{className:j_},a?r:n),className:cl()("front-control",{[W_]:Boolean(v)}),size:t}),v&&st.createElement(D_,{wrapperRef:h,playerWidth:d,isTouchDevice:l,title:z_}))):null})),G_="chapters-popup-module__chaptersPopup___X70ly",K_=lc((e=>{let{Component:t}=e;const{activeChapter:n,description:r,duration:i,isFullscreen:a,isShowChapters:o,hideChapters:s,thumbnailUrl:l}=B_();return o&&n&&a?st.createElement(t,{activeChapter:n,description:r,duration:i,thumbnailUrl:l,className:G_,handleClose:s}):null}));var q_;let Y_,Q_,Z_;q_=class extends Oo{static get ChapterButton(){return $_}static get ChaptersPopup(){return K_}constructor(e,t,n,r,i,a,o,s,l,u){super(),this._counterHelper=void Y_(this),this._isShowChapters=Mr.box(!1),this._activeChapter=Mr.box(null),this._isTitleHidden=Mr.box(!1),this._isEmbed=void 0,this._advert=e,this._controls=t,this._playOptions=n,this._fullscreen=r,this._playback=i,this._playerSize=a,this._config=o,this.trackingLinks=u,Ca(this,{count:Hr,isShowChapters:Hr,activeChapter:Hr,isTitleHidden:Hr,allowOnboarding:Hr,onButtonClick:Bi,hideChapters:Bi}),this._isEmbed=l.value,this._counterHelper=s&&s instanceof Mv?s.counterHelper:void 0}initVideoId(){return $i((()=>this._config.get("videoId")),(()=>{this.activeChapter=null}))}initActiveChapter(){return $i((()=>{var e;return null===(e=this._controls.activeChapter)||void 0===e?void 0:e.name}),(e=>{e&&this.activeChapter!==e&&(this.activeChapter=e,Fp.emit(Nh.CHAPTER_CHANGE,{name:e}))}))}initTitleHidden(){var e=this;return $i((()=>{var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}),(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.isTitleHidden=t<700}))}initHideChapters(){return $i((()=>this._fullscreen.isFullscreen),(e=>{!e&&this.isShowChapters&&(this.isShowChapters=!1)}))}get count(){var e,t;return null!==(e=null===(t=this._controls.chapters)||void 0===t?void 0:t.length)&&void 0!==e?e:0}get counterHelper(){return this._counterHelper}get isFullscreen(){return this._fullscreen.isFullscreen}set isShowChapters(e){this._isShowChapters.set(e)}get isShowChapters(){return this._isShowChapters.get()}set activeChapter(e){this._activeChapter.set(e)}get activeChapter(){return this._activeChapter.get()}get isEmbed(){return this._isEmbed}get size(){return this._playerSize.size}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}get isShowControls(){return this._controls.isShowControls}get duration(){return this._playback.duration}get description(){var e;return null===(e=this._playOptions)||void 0===e?void 0:e.description}get thumbnailUrl(){var e;return null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.thumbnail_url}set isTitleHidden(e){this._isTitleHidden.set(e)}get isTitleHidden(){return this._isTitleHidden.get()}onButtonClick(){var e;this._isEmbed&&(window.open(this.trackingLinks.generateTrackingLink({campaign:"time_tags",type:"video"}),"_blank"),this._playback.pause()),null===(e=this._counterHelper)||void 0===e||e.get("mainChaptersButtonClick")(),this._fullscreen.isFullscreen?(this.isShowChapters=!0,this._controls.preventHideControls=!0):Fp.emit(Nh.CHAPTERS_SHOW,null)}hideChapters(){this.isShowChapters=!1,this._controls.preventHideControls=!1}get allowOnboarding(){return null!==this.activeChapter}},({e:[Y_],c:[Z_,Q_]}=en(q_,[To({implement:"IChaptersPlugin",ctor_args:[{implement:"IAdvertPlugin",optional:!0},"IControlsPlugin",{implement:"IDataPlugin",optional:!0},"IFullscreenPlugin","IPlayback","IPlayerSizePlugin","IPlayerConfigPlugin","IStatisticState","IsEmbed",{implement:"ITrackingLinksPlugin",optional:!0}]})],[[Lo(),2,"initVideoId"],[Lo(),2,"initActiveChapter"],[Lo(),2,"initTitleHidden"],[Lo(),2,"initHideChapters"],[Ro,2,"onButtonClick"],[Ro,2,"hideChapters"]],0,void 0,Oo)),Q_();class X_ extends Oo{constructor(){super(),this._items=Mr.array([]),this._perPage=Mr.box(null),this._error=Mr.box(null),this._loading=Mr.box({status:!1,direction:null}),this._loadedPages=Mr.box([]),this._hasPrev=Mr.box(!1),this._hasNext=Mr.box(!1),this._scrollToCurrent=Mr.box(!1),Ca(this,{items:Hr,perPage:Hr,isEmpty:Hr,error:Hr,loading:Hr,loadedPages:Hr,hasNext:Hr,hasPrev:Hr,minPage:Hr,maxPage:Hr,prevCount:Hr,scrollToCurrent:Hr,loadPrev:Bi.bound,loadNext:Bi.bound,loadItems:Bi.bound})}get items(){return this._items.slice()}set items(e){this._items.replace(e)}get perPage(){return this._perPage.get()}set perPage(e){this._perPage.set(e)}get error(){return this._error.get()}set error(e){this._error.set(e)}get loading(){return this._loading.get()}set loading(e){this._loading.set(e)}get loadedPages(){return this._loadedPages.get()}set loadedPages(e){this._loadedPages.set(e)}get hasPrev(){return this._hasPrev.get()}set hasPrev(e){this._hasPrev.set(e)}get hasNext(){return this._hasNext.get()}set hasNext(e){this._hasNext.set(e)}get minPage(){return this.loadedPages.length?Math.min(...this.loadedPages):0}get maxPage(){return this.loadedPages.length?Math.max(...this.loadedPages):0}get prevCount(){return this.minPage&&this.perPage?(this.minPage-1)*this.perPage:0}get isEmpty(){return!this.items.length}get scrollToCurrent(){return this._scrollToCurrent.get()}set scrollToCurrent(e){this._scrollToCurrent.set(e)}async loadItems(e){try{this.loading.status=!0;const t=await this.fetch(e);"detail"in t||"message"in t?this.error="TODO":(this.error=null,this.items=t.page>this.maxPage?[...this.items,...t.results]:[...t.results,...this.items],1===t.page&&(this.hasPrev=!1),t.page>this.maxPage&&(this.hasNext=t.has_next),this.loadedPages.push(t.page))}catch(e){this.error="TODO"}finally{this.loading.status=!1}return Boolean(!this.error)}async loadPrev(){this.hasPrev&&(this.loading.direction="prev",await this.loadItems(this.minPage-1),this.loading.direction=null)}async loadNext(){this.hasNext&&(this.loading.direction="next",await this.loadItems(this.maxPage+1),this.loading.direction=null)}}let J_=function(e){return e.BUTTON="button",e.TAP="tap",e.HOTKEY="hotkey",e.EXTERNAL="external",e.MEDIA_CONTROLS="media_controls",e.LONG_TAP="long_tap",e}({}),eg=function(e){return e.BACK="back",e.FORWARD="forward",e}({});function tg(e,t){return tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tg(e,t)}function ng(){ng=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var a=RegExp(e,r);return t.set(a,i||t.get(e)),tg(a,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var a=0;void 0===e[i[a]]&&a+1<i.length;)a++;t[n]=e[i[a]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tg(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=r(n,this);var i=n.indices;i&&(i.groups=r(i,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){var n=a[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=Ve(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,o)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},ng.apply(this,arguments)}const rg=ng(/^(\d{1,2}(?::\d{2}){1,2})\s*(?:-\s*\d{1,2}(?::\d{2}){1,2}\s*)?(.*)$/,{time:1,name:2}),ig=/^[\s\u2010\u2015\u002D\u2212\u2013\uFE58\uFE63\uFF0D]+/,ag=(e,t)=>e.length<1||"number"!=typeof t?null:e.find((e=>e.start<=t&&e.end>t&&e.end-e.start>=5));n(975);const og=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,sg=e=>{var t;if(!e)return;const n=Date.now(),r=null==e?void 0:e[og(new Date)];let i=null==r?void 0:r.find((e=>1e3*e.start<n&&n<1e3*e.stop));if(!i){const t=new Date;t.setDate(t.getDate()+1);const r=null==e?void 0:e[og(t)];i=null==r?void 0:r.find((e=>1e3*e.start<n&&n<1e3*e.stop))}return null!==(t=i)&&void 0!==t?t:null},lg=e=>{const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);if(t||n)return`${t>0?`${t} ч. `:""}${n} мин.`};class ug{constructor(e,t){this._areas=Mr.box([]),this._chapters=Mr.box([]),this._currentTVProgram=Mr.box(),this._playback=e,this._dataPlugin=t,Ca(this,{activeChapter:Hr,areas:Hr,chapters:Hr})}initAreasMarkup(e){const{duration:t,isTvStream:n,tvSchedule:r,wasStarted:i}=this._playback,{isLive:a,description:o}=this._dataPlugin,s=(e=>{let{isLive:t,description:n="",duration:r}=e;if(isNaN(r))return[];if(t)return[{name:"",time:0},{time:r,name:""}];const i=n.split("\n").map((e=>e.trim())).filter((e=>rg.test(e)));let a=[];if(i.length){var o,s;const e=null===(o=i[0].match(rg))||void 0===o?void 0:o.groups;a=[{name:(null!==(s=null==e?void 0:e.name)&&void 0!==s?s:"").replace(ig,"").trim(),time:0}]}else a=[{name:"",time:0}];for(let e=1;e<i.length;e++){var l,u;const t=null!==(l=null===(u=i[e].match(rg))||void 0===u?void 0:u.groups)&&void 0!==l?l:{name:"",time:""},n=null==t?void 0:t.time,o=be(n),s=o-(a.length>0?a[a.length-1].time:0),c=e===i.length-1&&r-o<=5;s>=5&&!c&&a.push({time:o,name:null==t?void 0:t.name.replace(ig,"").trim()})}return a.push({time:r,name:""}),a})({isLive:a,duration:t,description:o}),l=2*t/100;if(n&&r&&i)return this.areas=[{name:"",start:0,end:1,width:100,progress:0,buffered:0}],void this.updateAreasProgressAndBuffer(e);const u=[],c=[];let d=null,h=0,p=0;for(let e=1;e<s.length;e++){const n=s[e-1].name,r=s[e-1].time,i=Math.min(s[e].time,t),a=i-r;if(r<t){const e=u.reduce(((e,t)=>{let{width:n}=t;return e+n}),p),o=t===1/0?100:i/t*100-e;var v,m;if(h+=a,a<l&&h<l)d=null!==(v=d)&&void 0!==v?v:r,p+=o,c.push({name:n,start:r,end:i});else c.push({name:n,start:r,end:i}),u.push({name:n,start:null!==(m=d)&&void 0!==m?m:r,end:i,width:p?p+o:o,progress:0,buffered:0}),d=null,h=0,p=0}}this.areas=u,this.chapters=c,this.updateAreasProgressAndBuffer(e)}updateAreas(e){const{isTvStream:t}=this._playback,n=this.currentTVProgram,r=t&&!!n&&1e3*n.stop>Date.now();this.areas&&this.areas.length&&(!n||r)?this.updateAreasProgressAndBuffer(e):this.initAreasMarkup(e)}updateAreasProgressAndBuffer(e){const t=this.areas;if(!t||!t.length)return;const{duration:n,isTvStream:r,tvSchedule:i,wasStarted:a}=this._playback,[o,s,l]=this._playback.getBuffered(),{isLive:u,isDVR:c}=this._dataPlugin,d=i?sg(i):null;if(r&&i&&d&&a){const e=(e=>{if(!e)return 0;const t=1e3*e.start,n=1e3*e.stop;return(Date.now()-t)/(n-t)})(d);this.currentTVProgram=d,t[0].progress=e>0?e:1}else{const r=this.getVisibleProgress(e),i="number"==typeof e?e:n*r/100;t.forEach((e=>{const{start:t,end:n}=e,r=((e,t,n)=>e>n?1:e<t?0:(e-t)/(n-t))(l,t,n);e.buffered=r,e.progress=n<i||u&&!c?1:t<i&&i<=n?(i-t)/(n-t):0}))}this.areas=t}get activeChapter(){if(isNaN(this._playback.duration))return null;const e=this._chapters.get(),t=this._playback.currentTime;return ag(e,t)}get currentTVProgram(){return ha(this._currentTVProgram.get())}set currentTVProgram(e){ha(this._currentTVProgram.set(e))}get areas(){return ha(this._areas.get())}set areas(e){this._areas.set(e)}get chapters(){return this._chapters.get()}set chapters(e){this._chapters.set(e)}getVisibleProgress(e){const{duration:t,progress:n,isOutdated:r,isLive:i}=this._playback;let a=0;return a=i&&!r?100:"number"==typeof e?e/t*100:n,Math.min(a,100)}}var cg;let dg,hg,pg;cg=class extends Oo{constructor(e,t,n,r,i,a,o,s,l,u,c){super(),this.__activePanel=(dg(this),Mr.box("")),this.__isShowControls=Mr.box(!1),this.__showControlsTimeout=Mr.box(null),this.__isAllowControls=Mr.box(!0),this.__isProgressBarClicked=Mr.box(!1),this.__tempTime=Mr.box(null),this.counterHelper=void 0,this.__preventHideControls=Mr.box(!1),this.__needToHideTooltips=Mr.box(!1),this.__isVolumeShow=Mr.box(!1),this.__isTimeHidden=Mr.box(!1),this.__forceHideControls=Mr.box(!1),this.__isTVPosterVisible=Mr.box(!1),this.__data=void 0,this.__timeCodes=void 0,this.advert=void 0,this.__qualitiesPlugin=void 0,this.isEmbed=void 0,this.isMobile=jc.isMobile,this.isMobile360Video=!1,this.playback=e,this.data=t,this.fullscreen=n,this.playerSize=r,this.appearance=i,this.endScreen=a,this._isEmbedResolvable=s,this.__posterPlugin=c,this.counterHelper=o&&o instanceof Mv?o.counterHelper:void 0,Ca(this,{forceHideControls:Hr,activePanel:Hr,isShowSettingsPannel:Hr,isProgressBarClicked:Hr,tempTime:Hr,tvSchedule:Hr,activeChapter:Hr,areas:Hr,isTVPosterVisible:Hr,chapters:Hr}),this.__data=t,this.__timeCodes=new ug(e,t),this.advert=l,this.isEmbed=s.value,this.__qualitiesPlugin=u}init(){this.__timeCodes.initAreasMarkup();const e=[];return e.push($i((()=>({isPlaying:this.playback.isPlaying,wasStarted:this.playback.wasStarted,waiting:this.playback.waiting,autoplay:this.playback.autoplay})),(e=>{let{wasStarted:t,isPlaying:n,waiting:r,autoplay:i}=e;!t&&i&&this.isMobile||r||this.playback.readyState<=2||n?this.setHideControlsTimer():(this.showControls(),this.clearHideControlsTimer())}),{fireImmediately:!0})),e.push($i((()=>{var e;return null===(e=this.advert)||void 0===e?void 0:e.isPlaying}),(e=>{e&&this.hideControls(!0)}))),e.push($i((()=>this.isFullScreen),(()=>{this.preventHideControls&&(this.preventHideControls=!1,this.setHideControlsTimer())}))),e.push($i((()=>{var e;return null===(e=this.data)||void 0===e?void 0:e.isSpatial}),(e=>{this.isMobile360Video=this.isMobile&&Boolean(e)}))),e.push($i((()=>{var e;return{progress:this.playback.progress,tempTime:this.tempTime,buffered:null===(e=this.playback.player)||void 0===e?void 0:e.buffered}}),(e=>{let{tempTime:t}=e;this.__timeCodes.updateAreas(t)}))),e.push($i((()=>this.playback.duration),(()=>this.__timeCodes.initAreasMarkup(this.tempTime)))),()=>e.forEach((e=>e()))}initHideTime(){return $i((()=>{var e;return{width:null===(e=this.playerSize.size)||void 0===e?void 0:e.width,windowWidth:this.playerSize.windowWidth,isVolumeShow:this.isVolumeShow}}),(e=>{let{width:t=0,windowWidth:n,isVolumeShow:r}=e;this.isTimeHidden=Boolean((t<700||n<1280)&&r&&!jc.isMobile)}))}initChangeDescription(){return $i((()=>this.__data.description),(()=>{this.__timeCodes.initAreasMarkup(this.tempTime)}))}initShowPoster(){return $i((()=>{var e,t;return(null===(e=this.__posterPlugin)||void 0===e?void 0:e.isPosterVisible)&&(null===(t=this.__posterPlugin)||void 0===t?void 0:t.isPlayButtonVisible)}),(e=>this.isTVPosterVisible=Boolean(this.isEmbed&&e)))}handleAutoplay(){return $i((()=>this.playback.wasStarted),(()=>{this.playback.wasStarted&&this.playback.autoplay&&this.hideControls()}))}hideAdvertControls(){return $i((()=>this.isControlsForcedHidden),(e=>{e&&this.advert&&(this.advert.isControlsHidden=!0)}),{fireImmediately:!0})}get activePanel(){return this.__activePanel.get()}set activePanel(e){this.__activePanel.set(e)}get forceHideControls(){return this.__forceHideControls.get()}set forceHideControls(e){this.__forceHideControls.set(e)}get isShowSettingsPannel(){return"settings"===this.activePanel}set isShowControls(e){this.__isShowControls.set(e)}get isShowControls(){return this.__isShowControls.get()}set isAllowControls(e){this.__isAllowControls.set(e)}get isAllowControls(){return this.__isAllowControls.get()}set preventHideControls(e){this.__preventHideControls.set(e)}get preventHideControls(){return this.__preventHideControls.get()}get isProgressBarClicked(){return this.__isProgressBarClicked.get()}get tempTime(){return this.__tempTime.get()}set needToHideTooltips(e){this.__needToHideTooltips.set(e)}get needToHideTooltips(){return this.__needToHideTooltips.get()}setIsVolumeShow(e){this.__isVolumeShow.set(e)}get isVolumeShow(){return this.__isVolumeShow.get()}get isFullScreen(){return this.fullscreen.isFullscreen}get isTimeHidden(){return this.__isTimeHidden.get()}set isTimeHidden(e){this.__isTimeHidden.set(e)}get isTVPosterVisible(){return this.__isTVPosterVisible.get()}set isTVPosterVisible(e){this.__isTVPosterVisible.set(e)}setTempTime(e){this.__tempTime.set(e)}setIsProgressBarClicked(e){this.__isProgressBarClicked.set(e)}get activeChapter(){return this.__timeCodes.activeChapter}get isFullscreen(){return this.fullscreen.isFullscreen}get tvSchedule(){var e;return null===(e=this.playback)||void 0===e?void 0:e.tvSchedule}handleFullscreen(){this.fullscreen.handleFullscreen()}showControls(){this.isShowControls=!0,this.isMobile360Video&&(this.forceHideControls=!1)}hideControls(e){(this.preventHideControls||this.activePanel||this.playback.paused)&&!e||(this.isShowControls=!1,this.clearHideControlsTimer(),this.isMobile360Video&&(this.forceHideControls=!0))}setHideControlsTimer(){this.clearHideControlsTimer();const e=setTimeout((()=>{this.hideControls()}),3e3);this.__showControlsTimeout.set(e)}clearHideControlsTimer(){const e=this.__showControlsTimeout.get();e&&(clearTimeout(e),this.__showControlsTimeout.set(null))}handleSeek(e,t,n){const r=null!=t?t:10,i=null!=n?n:J_.BUTTON;var a,o,s,l;"forward"===e&&(this.playback.seekForward(r),this.playback.emit(Rd.defaultForwardSeek,null),null===(a=this.counterHelper)||void 0===a||a.get("mainContentPlaybackSeek")(),null===(o=this.counterHelper)||void 0===o||o.get("mainContentPlaybackRewindMode")({rewindType:i,rewindDirection:eg.FORWARD}));"back"===e&&(this.playback.seekBack(r),this.playback.emit(Rd.defaultBackwardSeek,null),null===(s=this.counterHelper)||void 0===s||s.get("mainContentPlaybackSeek")(),null===(l=this.counterHelper)||void 0===l||l.get("mainContentPlaybackRewindMode")({rewindType:i,rewindDirection:eg.BACK}))}onClickLogoStat(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainControlsLogoClick")({videoUrl:this.__data.videoUrl||""})}get areas(){var e;return null!==(e=this.__timeCodes.areas)&&void 0!==e?e:[]}get chapters(){var e;return null!==(e=this.__timeCodes.chapters)&&void 0!==e?e:[]}pauseVideo(){this.playback.isPlaying&&this.playback.pause()}getIsShowSettings(){return(!this.__data.isLive||this.qualities.length>0)&&jc.isMobile}get isControlsForcedHidden(){const{hideControls:e}=Rt(window.location.href);return"true"===e||this.forceHideControls||this.appearance.forbidHtmlControls}hideControlsWithForce(){this.forceHideControls=!0}get qualities(){return this.__qualitiesPlugin.qualities}get isShowSettings(){return this.getIsShowSettings()}},({e:[dg],c:[pg,hg]}=en(cg,[To({implement:"IControlsPlugin",ctor_args:["IPlayback","IDataPlugin","IFullscreenPlugin","IPlayerSizePlugin","IAppearancePlugin",{implement:"IEndScreenPlugin",optional:!0},{implement:"IStatisticState",optional:!0},"IsEmbed",{implement:"IAdvertPlugin",optional:!0},"IQualitiesPlugin",{implement:"IPosterPlugin",optional:!0}]})],[[Lo(),2,"init"],[Lo(),2,"initHideTime"],[Lo(),2,"initChangeDescription"],[Lo(),2,"initShowPoster"],[Lo(),2,"handleAutoplay"],[Lo(),2,"hideAdvertControls"],[[Bi,Bi.bound],18,"setIsVolumeShow"],[[Bi,Bi.bound],18,"setTempTime"],[[Bi,Bi.bound],18,"setIsProgressBarClicked"],[[Bi,Bi.bound],18,"handleFullscreen"],[[Bi,Bi.bound],18,"showControls"],[[Bi,Bi.bound],18,"hideControls"],[[Bi,Bi.bound],18,"setHideControlsTimer"],[[Bi,Bi.bound],18,"clearHideControlsTimer"],[[Bi,Bi.bound],18,"handleSeek"],[[Bi,Bi.bound],18,"onClickLogoStat"],[[Bi,Bi.bound],18,"pauseVideo"],[[Bi,Bi.bound],18,"hideControlsWithForce"]],0,void 0,Oo)),hg();const vg=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M8.11111 5.77734V8.88845H5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M15.8889 5.77734V8.88845H19",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M15.8889 18.2227V15.1115H19",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M8.11111 18.2227V15.1115H5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},mg=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M5 8.88888V5.77777H8.11111",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M19 8.88888V5.77777H15.8889",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M19 15.1111V18.2222H15.8889",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M5 15.1111V18.2222H8.11111",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},fg=lc((e=>{let{size:t}=e;const{isFullscreen:n,handleFullscreen:r}=zm();return st.createElement(Xf,{"data-testid":"ui-fullscreen",tabIndex:0,"aria-label":k_(n?"Выйти из полноэкранного режима":"Открыть в полноэкранном режиме","F",!0),role:"button",action:"fullscreen",icon:n?vg:mg,onClick:r,tooltipTitle:n?kt.FullScreenOff:kt.FullScreenOn,tooltipPlacement:"top",tooltipZIndex:kt.ControlsTooltipZIndex,size:t})})),_g="live-badge-module__badge___XX3wg",gg="live-badge-module__clickable___Djv6_",yg="live-badge-module__mark___RH4Y1",bg="live-badge-module__outdated____Z0Ap",Eg="live-badge-module__liveText___yAhey",wg="live-badge-module__liveTextMini___p0Ss1",Sg="Вернуться к прямому эфиру",Cg=lc((e=>{let{isMini:t=!1,buttonSize:n}=e;const{data:r,playback:i}=zm(),{isLive:a,isTVStream:o}=r,s=((e,t)=>{const{isTVStream:n}=Ym()||t||{},{duration:r,currentTime:i}=zm().playback,[a,o]=(0,st.useState)(!1);return(0,st.useEffect)((()=>{var t,s,l;const u=!(null!=e&&null!==(t=e.instance)&&void 0!==t&&t.liveSyncPosition||isFinite(r));if(n||u)return void(a&&o(!1));const c=(null==e||null===(s=e.instance)||void 0===s?void 0:s.liveSyncPosition)||r-8,d=Math.floor(100*Math.abs(c-i))/100,h=(null!=e&&null!==(l=e.instance)&&void 0!==l&&l.liveSyncPosition,8);!a&&d>=h&&o(!0),a&&d<=6&&o(!1)}),[r,i,e,n,a]),a})(Qm().provider,r),l=a&&!o;return st.createElement(Xf,{"data-testid":"ui-live",tabIndex:0,role:"button","aria-label":Sg,noScale:!0,tooltipHideOnClick:!0,onClick:()=>{l&&s&&i.goLive()},tooltipTitle:Sg,tooltipHidden:!s,tooltipPlacement:"top",tooltipZIndex:kt.ControlsTooltipZIndex,style:{width:"max-content"},className:cl()(_g,{[gg]:l&&s}),size:n},st.createElement("div",{className:cl()(yg,{[bg]:s})}),st.createElement("div",{className:cl()({[Eg]:!t,[wg]:t})},"В эфире"))}));function kg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tg(e,t)}function Ag(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Pg=!1,Ig=st.createContext(null);var Tg=function(e){return e.scrollTop},Rg="unmounted",xg="exited",Lg="entering",Og="entered",Ng="exiting",Mg=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=xg,r.appearStatus=Lg):i=Og:i=t.unmountOnExit||t.mountOnEnter?Rg:xg,r.state={status:i},r.nextCallback=null,r}kg(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Rg?{status:xg}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Lg&&n!==Og&&(t=Lg):n!==Lg&&n!==Og||(t=Ng)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Lg){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:dl.findDOMNode(this);n&&Tg(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xg&&this.setState({status:Rg})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[dl.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Pg?this.safeSetState({status:Og},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Lg},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:Og},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:dl.findDOMNode(this);t&&!Pg?(this.props.onExit(r),this.safeSetState({status:Ng},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:xg},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:xg},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:dl.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Rg)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,yp(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return st.createElement(Ig.Provider,{value:null},"function"==typeof n?n(e,r):st.cloneElement(st.Children.only(n),r))},t}(st.Component);function Dg(){}Mg.contextType=Ig,Mg.propTypes={},Mg.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dg,onEntering:Dg,onEntered:Dg,onExit:Dg,onExiting:Dg,onExited:Dg},Mg.UNMOUNTED=Rg,Mg.EXITED=xg,Mg.ENTERING=Lg,Mg.ENTERED=Og,Mg.EXITING=Ng;const Fg=Mg;var Bg=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=Ag(n.className,r):n.setAttribute("class",Ag(n.className&&n.className.baseVal||"",r)));var n,r}))},Hg=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}kg(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&Tg(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&Bg(e,r),i&&Bg(e,i),a&&Bg(e,a)},n.render=function(){var e=this.props,t=(e.classNames,yp(e,["classNames"]));return st.createElement(Fg,ll({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(st.Component);Hg.defaultProps={classNames:""},Hg.propTypes={};const Vg=Hg,Ug="player-controls-bg-module__bg___zzAea",jg="player-controls-bg-module__bgMobile____PI47",Wg="player-controls-bg-module__bgEnter___Xtxl8",zg="player-controls-bg-module__bgEnterActive___nan_l",$g="player-controls-bg-module__bgExitDone___UeQyn",Gg="player-controls-bg-module__light___F2WU3",Kg="player-controls-bg-module__hidden___qfo41",qg=(0,st.memo)((e=>{let{isTouchDevice:t,lightMode:n=!1,hidden:r}=e;const i=(0,st.useRef)(null),[a,o]=(0,st.useState)(!1);return(0,st.useEffect)((()=>{o(!0)}),[]),t?st.createElement(Vg,{classNames:{enter:Wg,enterActive:zg,exitDone:$g},nodeRef:i,in:a,timeout:700},st.createElement("div",{ref:i,className:cl()(Ug,jg,{[Gg]:n,[Kg]:r})})):st.createElement("div",{className:cl()(Ug,{[Gg]:n,[Kg]:r})})}));n(5564);var Yg=n(6187),Qg=n.n(Yg);$e().extend(Qg());const Zg=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t?`${t} ч. ${n} мин.`:`${n} мин.`};const Xg=e=>{let{value:t}=e;const n=t>=0?t:0,r=[1,60,3600];let i=Math.floor(n);const a=[0,0,0];for(let e=r.length-1;e>=0;e--)a[e]=Math.floor(i/r[e]),i%=r[e];return 0===a[2]&&a.pop(),a.reduceRight(((e,t)=>(e.push((e=>e>9?e.toString():`0${e}`)(t)),e)),[]).join(":")},Jg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal";if(!t.current)return 0;const r=t.current.getBoundingClientRect(),{top:i,bottom:a,left:o,right:s}=r,l="horizontal"===n?o:a,u="horizontal"===n?s:i,c="horizontal"===n?"clientX":"clientY";let d;d="clientX"in e?e[c]:e.touches&&e.touches.length>=0?e.touches[0][c]:0;let h=(d-l)/(u-l)*100;return h<0&&(h=0),h>100&&(h=100),h},ey=()=>Rc("IPlayerSizePlugin"),ty="area-bar-preview-module__wrapper___R3i8z",ny="area-bar-preview-module__img___j4_xC",ry="area-bar-preview-module__chapterName___Mthnc",iy="area-bar-preview-module__time___nuTYP",ay="area-bar-preview-module__vertical___wLhBP",oy=(0,st.memo)((e=>{var t;let{barRef:n,url:r,offset:i,chapters:a,time:o,isVertical:s,isTouchDevice:l}=e;const u=(0,st.useRef)(null),c=(0,st.useMemo)((()=>{if(n.current){const e=(l?10:100)/n.current.clientWidth*100;return Math.min(Math.max(i,e),100-e)}}),[i,n,l]),d=(0,st.useMemo)((()=>st.createElement("div",{className:iy,id:M_.RAICHU_AREAS_BAR_PREVIEW_TIME},null!==o&&Xg({value:o}))),[o]);return st.createElement("div",{id:M_.RAICHU_AREAS_BAR_PREVIEW,className:cl()(ty,{[ay]:s}),style:{left:`${c||0}%`},ref:u},l&&d,c&&null!==o&&!l&&st.createElement(st.Fragment,null,r?st.createElement("div",{style:{backgroundImage:`url(${r})`},className:ny}):null,a.length&&ag(a,o)&&st.createElement("div",{className:ry},null===(t=ag(a,o))||void 0===t?void 0:t.name),d))})),sy="area-module__areas___aAhbS",ly="area-module__area___pkmYK",uy=e=>{let{areas:t}=e;return st.createElement("div",{className:sy},st.createElement("div",{className:ly,style:{WebkitTransform:"scaleX(1)",transform:"scaleX(1)",background:"rgba(246, 246, 246, 0.3)"}}),t.map(((e,t)=>st.createElement("div",{key:t,className:ly,style:{WebkitTransform:`scaleX(${e.progress})`,transform:`scaleX(${e.progress})`,background:e.color}}))))},cy="areas-bar-module__wrapper___itv9Z",dy="areas-bar-module__disabled___YaSTM",hy="areas-bar-module__areas___Bn5pH",py="areas-bar-module__area___v2wuI",vy="areas-bar-module__isClickable___NsCm2",my="areas-bar-module__thumbWrapper___ljCgW",fy="areas-bar-module__thumbInner___qIL2_",_y="areas-bar-module__thumb___qyyV6";function gy(){}const yy=/(rutube|rtbcdn)\.(ru|su)/;var by;let Ey,wy,Sy;function Cy(){return Tc().resolve("IPreviewPlugin")}by=class extends Oo{constructor(e,t,n,r){super(),this._previewPosition=(Ey(this),Mr.box(null)),this._isShowPreview=Mr.box(!1),this._isAllowedToShowPreview=Mr.box(!1),this._time=Mr.box(null),this._tipType=Mr.box("double-tap"),this._url=Mr.box(""),this._isEmbed=void 0,this._data=e,this._playback=t,this._provider=n,this._isEmbedResolvable=r,Ca(this,{isAllowedToShowPreview:Hr,isShowPreview:Hr,url:Hr,previewPosition:Hr,setAnotherTip:Bi,time:Hr}),this._isEmbed=r.value,this.setAnotherTip=this.setAnotherTip.bind(this)}init(){const e=this.clearPreview();return $i((()=>this._previewPosition.get()),(e=>{this.isShowPreview=null!==e,null===this._previewPosition.get()&&(this.time=null);const t=this._playback.duration||0,n=this._previewPosition.get()||0,r=Math.floor(t*(n/100));this.time=r,this.url=(e=>{let{previewUrl:t,time:n}=e;return`${t}/Sec${n}.jpg?size=m`})({previewUrl:this._provider.previewUrl,time:r})||""})),$i(gy,e)}initReactions(){const e=[$i((()=>{var e;return{isLiveStream:null===(e=this._data)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.live_streams)||void 0===e?void 0:e.hls,isPreviewUrlValid:yy.test(this._provider.previewUrl),ended:this._playback.ended}}),(e=>{let{isLiveStream:t,isPreviewUrlValid:n,ended:r}=e;return this.isAllowedToShowPreview=!t&&n&&!r}))];return()=>e.forEach((e=>e()))}get isEmbed(){return this._isEmbed}get isAllowedToShowPreview(){return this._isAllowedToShowPreview.get()}set isAllowedToShowPreview(e){this._isAllowedToShowPreview.set(e)}get isShowPreview(){return this._isShowPreview.get()}set isShowPreview(e){this._isShowPreview.set(e)}get time(){return this._time.get()}set time(e){this._time.set(e)}get url(){return this._url.get()}set url(e){this._url.set(e)}get previewPosition(){return this._previewPosition.get()}set previewPosition(e){this._previewPosition.set(e)}get tipType(){return this._tipType.get()}setAnotherTip(){this._tipType.set("double-tap"===this._tipType.get()?"long-press":"double-tap")}clearPreview(){const e=()=>{Vi((()=>{this._isShowPreview.set(!1)}))};return this._playback.player.addEventListener("seeked",e),()=>{this._playback.player.removeEventListener("seeked",e)}}},({e:[Ey],c:[Sy,wy]}=en(by,[To({implement:"IPreviewPlugin",ctor_args:["IDataPlugin","IPlayback","IProviderPlugin","IsEmbed"]})],[[Lo(),2,"init"],[Lo(),2,"initReactions"]],0,void 0,Oo)),wy();const ky=lc((e=>{let{barRef:t,isTouchable:n=!0,progress:r}=e;const{setIsVolumeShow:i,areas:a,chapters:o,isEmbed:s,isShowControls:l}=zm(),{duration:u,tvSchedule:c}=lb(),{isTVStream:d}=Ym(),{color:h}=If(),{size:p}=ey(),{isShowPreview:v,url:m,isAllowedToShowPreview:f,previewPosition:_,time:g}=Cy(),y=Cy(),b=d&&!c?100:r,E=(0,st.useMemo)((()=>{var e;return t&&(null==t?void 0:t.current)&&(null==t||null===(e=t.current)||void 0===e?void 0:e.clientWidth)||(null==p?void 0:p.width)||-24}),[null==t?void 0:t.current,null==p?void 0:p.width]),w=(0,st.useCallback)((e=>{d||(jc.isMobile||e.target.id!==String(M_.RAICHU_AREAS_BAR_PREVIEW_TIME)?(y.previewPosition=Jg(e.nativeEvent,t,"horizontal"),i(!1)):y.previewPosition=null)}),[t,d,y,i]),S=(0,st.useCallback)((()=>{y.previewPosition=null}),[y]);return st.createElement("div",{tabIndex:0,role:"slider","aria-label":"Ползунок временной шкалы","aria-valuemin":0,"aria-valuemax":Math.floor(u),"aria-valuenow":Math.floor(r*u/100),"aria-valuetext":`${Zg(r*u/100)} (общая длительность ${Zg(u)})`,"data-testid":"ui-progress-progressBar",className:cl()(cy,{[dy]:!l}),ref:t,onTouchMove:jc.isMobile?w:void 0,onMouseOut:jc.isMobile?void 0:S,onMouseDown:jc.isMobile?void 0:w,onMouseMove:jc.isMobile?void 0:w,onMouseEnter:jc.isMobile?void 0:w},f&&v&&st.createElement(oy,{barRef:t,chapters:o,url:m||"",time:g||0,offset:_||0,isVertical:!1,isTouchDevice:jc.isMobile}),st.createElement("div",{className:hy},a.map((e=>st.createElement("div",{key:`${String(e.width)+e.name+String(e.start)}`,className:cl()(py,{[vy]:!d}),style:{width:a.length>1?E/100*e.width+"px":"100%",display:e.width?void 0:"none"}},st.createElement(uy,{areas:[{progress:e.buffered,color:"rgba(246, 246, 246, 0.6)"},{progress:d&&!c?1:e.progress,color:s&&h?h:"var(--pen-accent)"}]}))))),n&&st.createElement("div",{className:my},st.createElement("div",{className:fy,style:{WebkitTransform:`translateX(${b}%)`,transform:`translateX(${b}%)`}},st.createElement("div",{className:_y}))))})),Ay=()=>Rc("IVideoLayoutPlugin"),Py=e=>e("IVideoLayoutPlugin"),Iy="header-module__headerWrapper___b2mKD",Ty="header-module__headerBackground___UZqnk",Ry="header-module__headerBackgroundSmall___AGgA0",xy="header-module__headerBackgroundMobile___xBR8D",Ly="header-module__header___fVbYe",Oy="header-module__headerMobile___yLYZ1",Ny="header-module__hidden___gPWPi",My="header-module__headerInfo___dpHCi",Dy="header-module__headerControls___iUt8w",Fy="header-module__headerShow___59oXn",By="header-module__avatar___d_OZW",Hy="header-module__title___P7S0x",Vy="header-module__notClickable___jq6fm",Uy="header-module__titleMobile___PuaJ3",jy="header-module__channelItem___SoSSN",Wy=lc((()=>{const{isMini:e,authorUrl:t,authorData:n,showAvatar:r,availableLogoClick:i,counterHelper:a}=Ay();if(e||!r||!n)return null;const o=i?()=>{null==a||a.get("mainHeaderLogoClick")({videoUrl:t||""})}:void 0;return st.createElement("a",{"data-testid":"ui-author-logo",href:t,target:"_blank",className:By,rel:"noreferrer",title:n.name,onClick:o},st.createElement("img",{src:n.avatar_url||mh,alt:n.name}))})),zy=()=>Rc("ITrackingLinksPlugin");function $y(){return Rc("IVideoSettingsPlugin")}const Gy=()=>{const{videoUrl:e}=Ym(),{isEmbed:t}=$y(),{generateTrackingLink:n}=xc("ITrackingLinksPlugin")||{},{currentTime:r,duration:i}=Ay().playback;return(0,st.useCallback)((()=>{const a=r<Math.floor(i)?`${null!=e?e:""}?t=${r}`:e;window.open(t&&"function"==typeof n?n({campaign:"title"}):a,"_blank")}),[e,r,i])},Ky=lc((()=>{const{isMini:e,isFullScreen:t,isTouchDevice:n,availableTitleClick:r,showTitle:i,videoUrl:a,title:o,isPlaying:s,counterHelper:l,pause:u}=Ay(),c=Gy();if(!i)return null;const d=(0,st.useCallback)((e=>{null==e||e.preventDefault(),null==l||l.get("mainHeaderTitleClick")({videoUrl:a}),c(),s&&u()}),[c,u,s,l,a]),h=r?d:e=>{e.preventDefault()};return st.createElement("div",{className:cl()(jy)},st.createElement("a",{href:a,target:"_blank",className:cl()(Hy,{[Uy]:(n||e)&&!t,[Vy]:!r}),rel:"noreferrer",onClick:h},o))})),qy=()=>xc("IPictureInPictureViewPlugin"),Yy=lc((e=>{const{children:t,pipControl:n}=e,{isTouchDevice:r,isShowHeader:i,isShowStartScreen:a,isControlsForcedHidden:o}=Ay(),{isShowMobilePiPButton:s}=qy()||{},{isShowControls:l,playback:u}=zm(),{seeking:c}=u,{isShowPreview:d}=Cy(),h=(c||!l||d&&r)&&!a,p=n&&s&&!o;return st.createElement("div",{"data-testid":"ui-header",className:cl()(Iy,{[Ny]:h})},st.createElement("div",{className:cl()(Ty,{[xy]:r,[Ry]:!i})}),st.createElement("div",{className:cl()(Ly,My,{[Oy]:r,[Fy]:i})},p&&st.createElement(n,{size:"XXL",placement:"bottom",onboardingPlacement:"bottom"}),i&&st.createElement(st.Fragment,null,st.createElement(Wy,null),st.createElement(Ky,null))),t&&st.createElement("div",{className:cl()(Dy)},t))})),Qy="touch-handlers-layout-module__layout___J1RlQ",Zy=[.25,.5,.75,1,1.25,1.5,1.75,2],Xy=e=>{try{return localStorage.getItem(e)}catch(e){}},Jy=(e,t)=>{try{return localStorage.setItem(e,String(t))}catch(e){}},eb=e=>{try{return sessionStorage.getItem(e)}catch(e){console.error(e)}},tb=(e,t)=>{try{return t?sessionStorage.setItem(e,t):sessionStorage.setItem(e,"")}catch(e){console.error(e)}},nb=e=>{try{return sessionStorage.removeItem(e)}catch(e){console.error(e)}};var rb,ib;let ab;const ob={autoplay:!0,isLive:!1};class sb extends(rb=Oo){constructor(e,t,n,r){super(),this._notifier=void ab(this),this._readyStateNotifier=void 0,this._timeUpdateNotifier=void 0,this._durationAndIsPlayingNotifier=void 0,this._pausedNotifier=void 0,this._autoPlayWithMute=Mr.box("NotInitialized"),this._isAutoPlay=Mr.box(!1),this._wasStarted=Mr.box(!1),this._isPlayerReady=Mr.box(!1),this._playInitiator=Mr.box(""),this._seeking=Mr.box(!1),this.__buffering=Mr.box(!1),this._isLooping=Mr.box(!1),this._mount=Mr.box(!1),this._volumeBeforeMute=Mr.box(this.volume),this._isStatStartSent=Mr.box(!1),this._isInfoPrevented=Mr.box(!1),this._options=void 0,this._hasMutedAutoplayFired=!1,this._eventEmitter=void 0,this._player=void 0,this._config=n,this.__counterHelper=r,this._player=e,this._player.setAttribute("playsinline","true"),this._options=t||ob,this._eventEmitter=new kd,Ca(this,{currentTime:Hr,muted:Hr,volume:Hr,duration:Hr,ended:Hr,isPlaying:Hr,waiting:Hr,wasStarted:Hr,isPlayerReady:Hr,autoPlayWithMute:Hr,playbackRate:Hr,isLooping:Hr,volumeBeforeMute:Hr,handleVolume:Bi,handleMuted:Bi,handlePlaybackRate:Bi,seek:Bi,seekBack:Bi,seekForward:Bi,seekStart:Bi,seekEnd:Bi,play:Bi,pause:Bi,progress:Hr,setAutoPlayWithMuteState:Bi},{autoBind:!0}),this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.handleMuted=this.handleMuted.bind(this),this.handlePlaybackRate=this.handlePlaybackRate.bind(this),this.comparePlayers=this.comparePlayers.bind(this)}init(){const e=Xy("volume"),t="1"===Xy("muted");!e||"number"!=typeof parseFloat(e)||isNaN(parseFloat(e))||t||(this.volume=parseFloat(e),this.volumeBeforeMute=parseFloat(e)),this.restorePlaybackRateFromStorage();const{autostartmute:n}=Rt(window.location.href);if(n||0===this.volume||t){const e=n&&!t&&this.volume;this.muted=!0,e&&Jy("muted","0")}}resetPlayback(){return $i((()=>this._config&&this._config.get("videoId")),(()=>{this.isLooping=!1,this._hasMutedAutoplayFired=!1,this.setAutoPlayWithMuteState("NotInitialized")}))}initPlaybackSpeedSubscription(){const e=e=>{var t;const n=null==e||null===(t=e.data)||void 0===t?void 0:t.speed;n&&Zy.includes(n)&&(this.playbackRate=n)};return Fp.subscribe(Nh.SET_PLAYBACK_SPEED,e),()=>Fp.unsubscribe(Nh.SET_PLAYBACK_SPEED,e)}setMount(e){this._mount.set(e)}handleError(){this._eventEmitter.emit(Rd.error,null)}seekStart(){this._seeking.set(!0)}seekEnd(){this._seeking.set(!1)}async play(){return this.isVideoManuallyEnded()&&(this.currentTime=0),this._player.play().then((()=>{this.setAutoPlayWithMuteState("Disabled")}))}pause(){this._player.pause()}get player(){return this._player}get volume(){var e,t;return null===(e=this._notifier)||void 0===e||e.reportObserved(),null===(t=this._player)||void 0===t?void 0:t.volume}get readyState(){var e,t;return null===(e=this._readyStateNotifier)||void 0===e||e.reportObserved(),null===(t=this._player)||void 0===t?void 0:t.readyState}get isLooping(){return this._isLooping.get()}set isLooping(e){this._isLooping.set(e),this._player.loop=e}set volume(e){Jy("volume",null==e?void 0:e.toString()),this._player.volume=e,this._eventEmitter.emit(Rd.volumeChange,e)}get isPlayerReady(){return this._isPlayerReady.get()}set isPlayerReady(e){this._isPlayerReady.set(e)}wasStartedHandler(){this._wasStarted.get()||Vi((()=>{this._wasStarted.set(!0)}))}initPlayback(){this._player.addEventListener("play",this.wasStartedHandler);const e=this.bufferingStart(),t=this.bufferingEnd(),n=this.volumeChange(),r=this.loadedMetaData(),i=()=>this.handleError.bind(this),a=[];a.push((()=>{this._player.removeEventListener("play",this.wasStartedHandler)})),a.push($i((()=>this._player),(e=>{this._notifier=(()=>{const t=()=>{var e;return null===(e=this._notifier)||void 0===e?void 0:e.reportChanged()};return qn("audio",(()=>{e.addEventListener("volumechange",t),e.addEventListener("seeking",t),e.addEventListener("ratechange",t),e.addEventListener("seeked",t),e.addEventListener("play",t),e.addEventListener("canplay",t),e.addEventListener("error",i)}),(()=>{e.removeEventListener("volumechange",t),e.removeEventListener("ratechange",t),e.removeEventListener("seeking",t),e.removeEventListener("seeked",t),e.removeEventListener("play",t),e.removeEventListener("canplay",t),e.removeEventListener("error",i)}))})()}))),a.push(this.autoplayReaction()),this._notifier=(()=>{const e=()=>{var e;return null===(e=this._notifier)||void 0===e?void 0:e.reportChanged()};return qn("audio",(()=>{this._player.addEventListener("volumechange",e),this._player.addEventListener("play",e),this._player.addEventListener("canplay",e),this._player.addEventListener("ratechange",e),this._player.addEventListener("error",i)}),(()=>{this._player.removeEventListener("volumechange",e),this._player.removeEventListener("play",e),this._player.removeEventListener("canplay",e),this._player.removeEventListener("ratechange",e),this._player.removeEventListener("error",i)}))})(),this._readyStateNotifier=(()=>{const e=()=>{var e;return null===(e=this._readyStateNotifier)||void 0===e?void 0:e.reportChanged()};return qn("readyState",(()=>{this._player.addEventListener("loadedmetadata",e),this._player.addEventListener("loadeddata",e)}),(()=>{this._player.removeEventListener("loadedmetadata",e),this._player.removeEventListener("loadeddata",e)}))})(),this._timeUpdateNotifier=(()=>{const e=()=>{var e;return null===(e=this._timeUpdateNotifier)||void 0===e?void 0:e.reportChanged()};return qn("timeUpdate",(()=>{this._player.addEventListener("timeupdate",e),this._player.addEventListener("ended",e)}),(()=>{this._player.removeEventListener("timeupdate",e),this._player.removeEventListener("ended",e)}))})(),this._durationAndIsPlayingNotifier=(()=>{let e=0;const t=()=>{var t;this._player.seekable.length&&this._player.seekable.end(0)!==e&&(e=this._player.seekable.end(0),null===(t=this._durationAndIsPlayingNotifier)||void 0===t||t.reportChanged())};return qn("durationAndIsPlayingChange",(()=>{this._player.addEventListener("durationchange",t),this._player.addEventListener("playing",t),this._player.addEventListener("timeupdate",t)}),(()=>{this._player.removeEventListener("durationchange",t),this._player.removeEventListener("playing",t),this._player.removeEventListener("timeupdate",t)}))})(),this._pausedNotifier=(()=>{const e=()=>{var e;return null===(e=this._pausedNotifier)||void 0===e?void 0:e.reportChanged()};return qn("pausedChange",(()=>{this._player.addEventListener("play",e),this._player.addEventListener("pause",e),this._player.addEventListener("playing",e)}),(()=>{this._player.removeEventListener("play",e),this._player.removeEventListener("pause",e),this._player.removeEventListener("playing",e)}))})(),a.push($i((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>{this.isPlayerReady=!1,this.wasStarted=!1,this.isStatStartSent=!1})));const o=this.seekStart.bind(this),s=this.seekEnd.bind(this);return this._player.addEventListener("seeking",o),this._player.addEventListener("seeked",s),a.push((()=>{this._player.removeEventListener("seeking",o),this._player.removeEventListener("seeked",s)})),a.push(r,e,t,n),()=>a.forEach((e=>e()))}get currentTime(){var e;return null===(e=this._timeUpdateNotifier)||void 0===e||e.reportObserved(),this._player.currentTime}set currentTime(e){var t;this._player.currentTime=e,null===(t=this._timeUpdateNotifier)||void 0===t||t.reportChanged()}isVideoManuallyEnded(){return Math.abs(this._player.duration-this._player.currentTime)<sb.TIME_COMPARISON_THRESHOLD}get ended(){var e;return null===(e=this._timeUpdateNotifier)||void 0===e||e.reportObserved(),this._player.ended||this.isVideoManuallyEnded()}get paused(){var e;return null===(e=this._pausedNotifier)||void 0===e||e.reportObserved(),this._player.paused}get isPlaying(){var e;return null===(e=this._durationAndIsPlayingNotifier)||void 0===e||e.reportObserved(),this._player.currentTime>=0&&!this.paused&&!this.ended&&this._player.readyState>2}get duration(){var e;return null===(e=this._durationAndIsPlayingNotifier)||void 0===e||e.reportObserved(),this._options.isLive&&this._player.seekable.length?this._player.seekable.end(0):this._player.duration}get muted(){var e;return null===(e=this._notifier)||void 0===e||e.reportObserved(),this._player.muted}set muted(e){this._player.muted!==e&&(Jy("muted",e?"1":"0"),this._player.muted=e,this._eventEmitter.emit(Rd.mute,e))}get progress(){return this.currentTime/this.duration*100}get waiting(){var e;return null===(e=this._readyStateNotifier)||void 0===e||e.reportObserved(),(!this.paused&&!this.isPlaying||this._player.readyState<=2&&this.wasStarted||this.buffering)&&!this.ended}get wasStarted(){return this._wasStarted.get()}set wasStarted(e){this._wasStarted.set(e)}get playInitiator(){return this._playInitiator.get()}set playInitiator(e){this._playInitiator.set(e)}get seeking(){return this._seeking.get()}get playbackRate(){var e;return null===(e=this._notifier)||void 0===e||e.reportObserved(),this._player.playbackRate}set playbackRate(e){(this._options.isLive||isNaN(e)||e<.25||e>2)&&(e=1),Jy(Th,e.toString()),e!==this._player.playbackRate&&Fp.emit(Nh.PLAYBACK_SPEED_CHANGED,{speed:e}),this._player.playbackRate=e}get isStatStartSent(){return this._isStatStartSent.get()}set isStatStartSent(e){this._isStatStartSent.set(e)}get isInfoPrevented(){return this._isInfoPrevented.get()}set isInfoPrevented(e){this._isInfoPrevented.set(e)}handlePlaybackRate(e){this.playbackRate=e,this._eventEmitter.emit(Rd.playbackRate,e)}restorePlaybackRateFromStorage(){const e=Xy(Th);this.playbackRate=e?parseFloat(e):1}changePlayBackRate(e){const t=Zy.indexOf(this.playbackRate);let n;return"up"===e?(n=t+1<Zy.length?t+1:t,this.playbackRate=Zy[n]):"down"===e&&(n=t-1>=0?t-1:t,this.playbackRate=Zy[n]),"number"==typeof n?Zy[n]:this.playbackRate}get autoPlayWithMute(){return this._autoPlayWithMute.get()}set autoPlayWithMute(e){this._autoPlayWithMute.set(e)}get buffering(){return this.__buffering.get()}get isAutoPlay(){return this._isAutoPlay.get()}set isAutoPlay(e){this._isAutoPlay.set(e)}handleVolume(e){var t;e!==this.volume&&(this.isInfoPrevented=!0,this.muted=e<1,this.volume=e/100,null===(t=this._notifier)||void 0===t||t.reportChanged())}handleMuted(){var e;this.isInfoPrevented=!1;const t=!this.muted;this.muted=t,t?this.volumeBeforeMute=this.volume:(this.setAutoPlayWithMuteState("Disabled"),this.volume=this.volumeBeforeMute||1),null===(e=this._notifier)||void 0===e||e.reportChanged()}getBuffered(){const e=this._player.buffered,t=[{start:0,end:0}],n=Math.floor(this._player.currentTime);for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});const r=t.find((e=>n>=e.start&&n<e.end));return[t,r?r.end/this._player.duration*100:0,null!=r&&r.end?null==r?void 0:r.end:0]}seek(e){const t=this._player.currentTime;this.currentTime=Math.min(Math.max(0,e),this.duration-.1),Math.floor(t)!==Math.floor(this.currentTime)&&this.wasStarted&&this._eventEmitter.emit(Rd.seek,{from:t,to:this.currentTime})}seekBack(e){this.seek(this.currentTime-e)}seekForward(e){this.seek(this.currentTime+e)}on(e,t){this._eventEmitter.on(e,t)}off(e,t){this._eventEmitter.off(e,t)}emit(e,t){this._eventEmitter.emit(e,t)}load(){this._player.load()}comparePlayers(e){return e===this._player}playWithHandlePermissions(){this.play().then((()=>{this.muted&&!this._hasMutedAutoplayFired&&(this.isInfoPrevented=!0,this.setAutoPlayWithMuteState("Enabled"),this._hasMutedAutoplayFired=!0)})).catch((e=>{"NotAllowedError"!==(null==e?void 0:e.name)||this.muted||(this.isInfoPrevented=!0,this.muted=!0,this.play().then((()=>{this.setAutoPlayWithMuteState("Enabled"),Jy("muted","1")})).catch((e=>{this.muted=!1,console.error(e)})))}))}autoplayReaction(){var e;return null!==(e=this._config)&&void 0!==e&&e.get("preventAutoplay")?()=>{}:$i((()=>({mount:this.mount,wasStarted:this.wasStarted,isPlayerReady:this.isPlayerReady,autoplay:this.autoplay})),(e=>{let{mount:t,wasStarted:n,isPlayerReady:r,autoplay:i}=e;t&&r&&!n&&i&&this.playWithHandlePermissions()}),{fireImmediately:!0})}bufferingStart(){const e=()=>{Vi((()=>this.__buffering.set(!0)))};return this._player.addEventListener("waiting",e),()=>{this._player.removeEventListener("waiting",e)}}bufferingEnd(){const e=()=>{this.buffering&&Vi((()=>this.__buffering.set(!1)))};return this._player.addEventListener("timeupdate",e),()=>{this._player.removeEventListener("timeupdate",e)}}volumeChange(){const e=()=>{this._player.muted||"Enabled"!==this.autoPlayWithMute||this.setAutoPlayWithMuteState("Disabled")};return this._player.addEventListener("volumechange",e),()=>{this._player.removeEventListener("volumechange",e)}}loadedMetaData(){const e=()=>this.restorePlaybackRateFromStorage();return this._player.addEventListener("loadedmetadata",e),()=>{this._player.removeEventListener("loadedmetadata",e)}}setAutoPlayWithMuteState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Disabled";this.autoPlayWithMute=e}get autoplay(){return this._options.autoplay}get mount(){return this._mount.get()}get volumeBeforeMute(){return this._volumeBeforeMute.get()}set volumeBeforeMute(e){this._volumeBeforeMute.set(e)}}function lb(){const e=Tc().resolve("IPlayback");if(!(e instanceof Cb))throw new Error("VideoPlaybackPlugin not found in current player configuration");return e}ib=sb,[ab]=en(ib,[],[[Lo(),2,"init"],[Lo(),2,"resetPlayback"],[Lo(),2,"initPlaybackSpeedSubscription"],[Bi,2,"setMount"],[Ro,2,"wasStartedHandler"],[Lo(),2,"initPlayback"],[Ro,2,"seekBack"],[Ro,2,"seekForward"]],0,void 0,rb).e,sb.TIME_COMPARISON_THRESHOLD=1e-5;const ub=lc((function(e){let{waiting:t}=e;const n=lb().playbackComponent;return st.createElement(n,{waiting:t})})),cb="playback-module__videoWrapper___Nsa3D",db="playback-module__waiting___LlNH0";n(9024),n(4);const hb=(new Date).getTimezoneOffset()/60*-1,pb=()=>String(hb);var vb=n(4823);const mb=()=>{try{return vb.env.API||window.location.origin}catch(e){console.info("getUrl",e)}return window.location.origin},fb=()=>{try{return vb.env.PANGOLIN||"/pangolin/api/web"}catch(e){console.info("getPangolinUrl",e)}return window.location.origin};class _b extends Vp{constructor(e,t,n){super(),this._liveMidrollData=Mr({startPlay:!1,needToPrefetch:!1,duration:null,active:!1}),this._streamInfo=Mr({}),this._streamInfoInterval=null,this.setStreamInfoInterval=()=>(this._streamInfoInterval=setInterval((()=>{this.fetchLiveStreamInfo().catch((e=>{console.warn(e)}))}),15e3),()=>{this._streamInfoInterval&&clearInterval(this._streamInfoInterval)}),this._config=e,this._data=t,this._data.isTVStream||(this.fetchLiveStreamInfo().catch((e=>{console.warn(e)})),this.__disposers.push(this.setStreamInfoInterval())),Ca(this,{liveMidrollData:Hr,liveMidrollStartPlay:Hr,liveMidrollNeedToPrefetch:Hr,liveMidrollDuration:Hr,liveMidrollActive:Hr,streamStatus:Hr,accessStatus:Hr})}init(){}async fetchLiveStreamInfo(){var e;const t=null===(e=this._config)||void 0===e?void 0:e.get("videoId");if(t){const e=await(e=>fetch(`${mb()}/api/v2/video/stream/${e}/info/`).then((e=>e.json())).catch((e=>(console.warn(e),null))))(t);Vi((()=>{this._streamInfo=Object.assign(this._streamInfo,null!=e?e:{})})),Fp.emit(Nh.GET_STREAM_INFO,{streamInfo:e})}}get liveMidrollData(){return this._liveMidrollData}set liveMidrollData(e){this._liveMidrollData=Ft(Ft({},this._liveMidrollData),e)}get liveMidrollStartPlay(){return this._liveMidrollData.startPlay}set liveMidrollStartPlay(e){this._liveMidrollData.startPlay=e}get liveMidrollNeedToPrefetch(){return this._liveMidrollData.needToPrefetch}set liveMidrollNeedToPrefetch(e){this._liveMidrollData.needToPrefetch=e}get liveMidrollDuration(){return this._liveMidrollData.duration}set liveMidrollDuration(e){this._liveMidrollData.duration=e}get liveMidrollActive(){return this._liveMidrollData.active}set liveMidrollActive(e){this._liveMidrollData.active=e}get streamStatus(){var e;return null===(e=this._streamInfo)||void 0===e?void 0:e.stream_status}get accessStatus(){var e;return null===(e=this._streamInfo)||void 0===e?void 0:e.access_status}}function gb(e){let{videoWidth:t,videoHeight:n}=e;return yb([window.innerWidth,window.innerHeight])/yb([t,n])}function yb(e){return Math.max(...e)/Math.min(...e)}function bb(e){var t;null===(t=document.getElementById(e))||void 0===t||t.focus({preventScroll:!0})}var Eb;let wb,Sb,Cb;Eb=class extends sb{static get Playback(){return ub}constructor(e,t,n,r,i,a,o){super(document.createElement("video"),null!=t?t:null,e,a&&a instanceof sl?a.counterHelper:void 0),this._adapter=(wb(this),Mr.box(null)),this._isOutdated=Mr.box(!1),this.__wasEnded=!1,this.currentVideoId="",this.playerContainer=null,this._shouldResumeLive=!1,this._isFrameless=Mr.box(!1),this.playbackComponent=st.memo((e=>{var t;let{waiting:n}=e;return st.createElement(st.Fragment,null,!(null!==(t=this._playOptions)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.is_spatial)&&st.createElement("div",{className:cl()(cb,{[db]:n}),ref:e=>{e&&!e.contains(this.player)?(this.playerContainer=e,(this.isInPiP()?document.body:e).appendChild(this.player),this.setMount(!0)):(this.player.remove(),this.setMount(!1))}}))})),this._playOptions=t,this._providerPlugin=n,this._userSettingsPlugin=r,this._embed=i,this._userSettings=o,this.player.setAttribute("data-testid","video"),Ca(this,{isVertical:Hr,isLive:Hr,isTvStream:Hr,tvSchedule:Hr,src:Hr,adapter:Hr,goLive:Bi,setPlayerReady:Bi.bound,isOutdated:Hr,isFrameless:Hr,toggleFramelessMode:Bi.bound})}setPlayerReady(){this.isPlayerReady=!0}initVideoPlayback(){const e=[];return e.push((()=>{this.player.remove()})),e.push($i((()=>{var e,t;return{link:null===(e=this._playOptions)||void 0===e?void 0:e.link,isAdultAllowed:null===(t=this._userSettings)||void 0===t?void 0:t.isAdultAllowed}}),(e=>{var t,n;let{link:r,isAdultAllowed:i}=e;const a=null===(t=this._config)||void 0===t?void 0:t.get("videoId");(!this._embed||null!==(n=this._embed)&&void 0!==n&&n.visible)&&r&&this.currentVideoId!==a&&i&&(this.currentVideoId=String(a),this.initProvider(r))}),{fireImmediately:!0})),this._embed&&(e.push($i((()=>{var e;return null===(e=this._embed)||void 0===e?void 0:e.visible}),(e=>{var t,n;!this._providerPlugin.provider&&e&&null!==(t=this._playOptions)&&void 0!==t&&t.link&&this.initProvider(null===(n=this._playOptions)||void 0===n?void 0:n.link)}),{fireImmediately:!0})),e.push($i((()=>this._wasStarted),(e=>{var t,n;e&&(null===(t=this._providerPlugin.provider)||void 0===t||null===(n=t.changeConfig)||void 0===n||n.call(t,{maxBuffer:180}))})))),e.push((()=>{var e;null===(e=this.adapter)||void 0===e||e.destroy()})),this._player.addEventListener("loadedmetadata",this.setPlayerReady),e.push((()=>{var e;null===(e=this.adapter)||void 0===e||e.destroy(),this._player.removeEventListener("loadedmetadata",this.setPlayerReady)})),e.push($i((()=>this.ended),(e=>{var t;e&&!this.__wasEnded&&(this.__wasEnded=!0,null===(t=this.__counterHelper)||void 0===t||t.get("mainContentPlaybackEnded")())}))),e.push($i((()=>({duration:this.duration,currentTime:this.currentTime,isOutdated:this.isOutdated})),(e=>{var t;let{duration:n,currentTime:r,isOutdated:i}=e;const a=null===(t=this.provider)||void 0===t||null===(t=t.provider)||void 0===t||null===(t=t.instance)||void 0===t?void 0:t.liveSyncPosition,o=!a&&!isFinite(n);if(this.isTvStream||o)return void(this.isOutdated=!1);const s=a||n-8,l=Math.floor(100*Math.abs(s-r))/100;!i&&l>=8&&(this.isOutdated=!0),i&&l<=6&&(this.isOutdated=!1)}))),()=>e.forEach((e=>e()))}autoplayReaction(){var e;return null!==(e=this._config)&&void 0!==e&&e.get("preventAutoplay")?()=>{}:$i((()=>{var e;return{mount:this.mount,wasStarted:this.wasStarted,isPlayerReady:this.isPlayerReady,autoplay:this.autoplay,isPlayOptionsLoaded:null===(e=this._playOptions)||void 0===e?void 0:e.isPlayOptionsLoaded}}),(e=>{let{mount:t,wasStarted:n,isPlayerReady:r,autoplay:i,isPlayOptionsLoaded:a}=e;var o;(a||(this.wasStarted=!1),t&&r&&!n&&i&&a)&&(null!==(o=this.player)&&void 0!==o&&o.paused||(this.wasStarted=!0),this.playWithHandlePermissions())}),{fireImmediately:!0})}initVisibilityChangeHandler(){const e=()=>{document.hidden&&(this._shouldResumeLive=this.isLive&&this.muted&&this.isPlaying)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}initResumeLive(){return $i((()=>this.isPlaying),(e=>{e&&this._shouldResumeLive&&(this.goLive(),this._shouldResumeLive=!1)}))}initLivePlaybackAdapter(){return $i((()=>{var e,t;return{isLive:null===(e=this._playOptions)||void 0===e?void 0:e.isLive,data:null===(t=this._playOptions)||void 0===t?void 0:t.data}}),(e=>{var t;let{isLive:n,data:r}=e;if(n||"stream_push"===(null==r?void 0:r.stream_type)||"stream_access_fail"===(null==r||null===(t=r.detail)||void 0===t?void 0:t.name)){if(this.adapter)return;this.adapter=new _b(this._config,this._playOptions,this._providerPlugin)}}))}initChangeStreamStatus(){return $i((()=>{var e,t,n;return{accessStatus:null===(e=this.adapter)||void 0===e?void 0:e.accessStatus,streamStatus:null===(t=this.adapter)||void 0===t?void 0:t.streamStatus,link:null===(n=this._playOptions)||void 0===n?void 0:n.link}}),(e=>{var t;let{accessStatus:n,streamStatus:r,link:i}=e;const a=n===_m.PUBLIC&&r===gm.STREAM_ACTIVE&&(null===(t=this._playOptions)||void 0===t?void 0:t.isPlayOptionsLoaded)&&!i,o=r&&[gm.STREAM_DONE,gm.STREAM_BLOCKED,gm.STREAM_DISABLE,gm.STREAM_FINISH_ERR].includes(r)&&i;(a||o)&&setTimeout((()=>{var e;null===(e=this._playOptions)||void 0===e||e.fetchPlayOptions()}),2e3)}))}initProvider(e){if(this._providerPlugin.isProviderInitialized(e))return;this._providerPlugin.provider&&(this.isPlayerReady=!1,this._wasStarted.set(!1),this._providerPlugin.destroy());const t={};this._embed&&(t.maxBuffer=30),jc.isMobile&&(t.backBuffer=360),this._config&&(t.startTime=this._config.get("startTime")),e&&this.player&&this._providerPlugin.initProvider(e,this,t)}async play(){var e,t;if(null!==(e=this._playOptions)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.is_adult&&(null===(t=this._userSettingsPlugin)||void 0===t||!t.isAdultAllowed))return this.pause(),Promise.reject();return super.play().then((e=>()=>{var t,n,r,i;e?null===(n=this.__counterHelper)||void 0===n||n.get("mainContentPlaybackFirstPlay")():null===(r=this.__counterHelper)||void 0===r||r.get("mainContentPlaybackResume")();this.isStatStartSent||(null===(i=this.__counterHelper)||void 0===i||i.get("mainContentPlaybackStart")(),this.isStatStartSent=!0);null===(t=this.__counterHelper)||void 0===t||t.get("mainContentPlaybackPlayPause")({play:"play"})})(!this.wasStarted))}pause(){var e,t;return null===(e=this.__counterHelper)||void 0===e||e.get("mainContentPlaybackPause")(),null===(t=this.__counterHelper)||void 0===t||t.get("mainContentPlaybackPlayPause")({play:"pause"}),super.pause()}get isVertical(){return void 0!==this._player.videoWidth&&void 0!==this._player.videoHeight&&this._player.videoWidth<=this._player.videoHeight}get src(){return this._player.src}set src(e){this._player.src=e}get adapter(){return this._adapter.get()}set adapter(e){this._adapter.set(e)}get isLive(){var e;return Boolean(null===(e=this._playOptions)||void 0===e?void 0:e.isLive)}get isTvStream(){var e;return Boolean(null===(e=this._playOptions)||void 0===e?void 0:e.isTVStream)}get tvSchedule(){var e,t;return null!==(e=ha(null===(t=this._config)||void 0===t?void 0:t.get("tvSchedule")))&&void 0!==e?e:null}get data(){var e;return null!==(e=this._playOptions)&&void 0!==e?e:null}get provider(){return this._providerPlugin}get isOutdated(){return this._isOutdated.get()}set isOutdated(e){this._isOutdated.set(e)}goLive(){var e,t;if(null!==(e=this._playOptions)&&void 0!==e&&e.isLive&&this._player&&null!==(t=this._providerPlugin)&&void 0!==t&&t.provider){var n;const e=this._providerPlugin.provider,{liveSyncPosition:t}=null!==(n=e.instance)&&void 0!==n?n:{},r=this.duration;if(!t&&!isFinite(r))return;const i=4.04,a=t?t-i:r-i;this.seek(a)}}seek(e,t){const n=this._player.currentTime;this.currentTime=Math.min(Math.max(0,e),this.duration-.1),this.wasStarted&&(Math.floor(n)===Math.floor(this.currentTime)&&"hotkey"!==t||this._eventEmitter.emit(Rd.seek,{from:n,to:this.currentTime,source:t}))}seekBack(e,t){this.seek(this.currentTime-e,t)}seekForward(e,t){this.seek(this.currentTime+e,t)}isInPiP(){return"pictureInPictureElement"in document&&null!=document.pictureInPictureElement}movePlayerToBody(){this.player.style.position="fixed",this.player.style.left="100%",document.body.appendChild(this.player)}movePlayerBackToContainer(){var e;this.player.style.position="",this.player.style.left="",null===(e=this.playerContainer)||void 0===e||e.appendChild(this.player)}get isFrameless(){return this._isFrameless.get()}set isFrameless(e){this._isFrameless.set(e)}toggleFramelessMode(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n;this.isFrameless!==e&&t&&(this._eventEmitter.emit(Rd.toggleFramelessMode,e),null===(n=this.__counterHelper)||void 0===n||n.get("mainContentPlaybackFrameless")({isEnabled:e,value:gb(this.player)}));this.isFrameless=e}},({e:[wb],c:[Cb,Sb]}=en(Eb,[To({implement:"IPlayback",ctor_args:[{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IDataPlugin",optional:!0},"IProviderPlugin",{implement:"IUserSettingsPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IUserSettingsPlugin",optional:!0}]})],[[Ro,2,"setPlayerReady"],[Lo(),2,"initVideoPlayback"],[Lo(),2,"initVisibilityChangeHandler"],[Lo(),2,"initResumeLive"],[Lo(),2,"initLivePlaybackAdapter"],[Lo(),2,"initChangeStreamStatus"],[Ro,2,"toggleFramelessMode"]],0,void 0,sb)),Sb();const kb=e=>{let{onPinchZoomIn:t,onPinchZoomOut:n}=e;const{isFullScreen:r,isVideo360:i}=Ay(),a=(0,st.useMemo)((()=>Boolean(!i&&"object"==typeof navigator&&navigator.userAgent.toLowerCase().includes("android")&&r)),[r,i]),o=lb(),s=(0,st.useRef)(!1),l=(0,st.useRef)(null),u=(0,st.useCallback)((()=>{l.current&&(clearTimeout(l.current),l.current=null),s.current=!1}),[]),c=(0,st.useRef)([]),d=(0,st.useRef)([]),h=(e,t)=>e.findIndex((e=>e.pointerId===t.pointerId)),p=(0,st.useCallback)((e=>{c.current.splice(h(c.current,e),1),d.current.splice(h(d.current,e),1)}),[]),v=(0,st.useCallback)((e=>{a&&c.current.push(e)}),[a]),m=e=>{s.current=!0,l.current=setTimeout((()=>{s.current=!1,l.current=null}),500),e.preventDefault()},f=(0,st.useCallback)((e=>{if(s.current||!a)return;const r=o.isFrameless?"zoomOut":"zoomIn",i=c.current,l=Ab(i),u=d.current;u[h(i,e)]=e;const p=Ab(u);l&&p&&(p>l&&"zoomIn"===r?(t(),m(e)):p<l&&"zoomOut"===r&&(n(),m(e)))}),[o,a,t,n]),_=(0,st.useCallback)((e=>{p(e)}),[p]);return(0,st.useEffect)((()=>u),[u]),(0,st.useEffect)((()=>{a||u()}),[a,u]),(0,st.useMemo)((()=>({onPointerDown:v,onPointerMove:f,onPointerUp:_,onPointerCancel:_,onPointerLeave:_,onPointerOut:_})),[v,f,_])};function Ab(e){if(2===e.length){return Math.abs(e[0].clientX-e[1].clientX)+Math.abs(e[0].clientY-e[1].clientY)}return null}const Pb=lc((e=>{let{children:t}=e;const{isFullScreen:n,isInPiP:r,playback:i,handleFullscreen:a}=Ay(),{togglePiP:o}=qy()||{},{waiting:s,toggleFramelessMode:l}=i,{visible:u}=cw.useEndScreenOptional()||{},{handlers:c}=fw({preventEvents:u}),{hideControls:d}=zm(),{onTouchEnd:h,onTouchStart:p}=(e=>{let{onSwipeDown:t,onSwipeUp:n,isSwipeDisabled:r=!1,threshold:i=50}=e;const a=(0,st.useRef)(null),o=(0,st.useRef)(0);return{onTouchStart:e=>{r||(1===e.touches.length?(a.current=e.changedTouches[0].clientY,o.current=e.currentTarget.scrollTop):e.touches.length>1&&(a.current=null))},onTouchEnd:e=>{if(r)return;const s=a.current,l=e.changedTouches[0].clientY,u=e.currentTarget.scrollTop;if(null!=s&&null!=l){const e=u<o.current;l-s>i&&!e&&t&&t();const r=o.current<u;s-l>i&&!r&&n&&n()}a.current=null}}})({onSwipeUp:()=>{a()},onSwipeDown:()=>{n||r||null==o||o()}}),v=(0,st.useCallback)((()=>{l(!0),d()}),[d,l]),m=(0,st.useCallback)((()=>{l(!1),d()}),[d,l]),f=kb({onPinchZoomIn:v,onPinchZoomOut:m});return st.createElement("div",ll({className:Qy,onMouseDown:c.onMouseDown,onTouchStart:e=>{c.onTouchStart(e),p(e)},onTouchEnd:e=>{c.onTouchEnd(e),h(e)},onTouchCancel:c.onTouchEnd},f),s&&st.createElement(op,null),t)})),Ib="video-wrapper-module__videoWrapper___qcGpf",Tb="video-wrapper-module__wideMode___KvfQI",Rb="video-wrapper-module__frameless___RJWB7",xb=lc((e=>{let{children:t,frameless:n}=e;const{handleFullscreen:r,isTouchDevice:i,playback:a,autoPlayWithMute:o,wideMode:s,isVideo360:l,isPlayPauseSwitchingAvailable:u,isFullScreen:c}=Ay(),{play:d,pause:h,isPlaying:p,handleMuted:v,player:m}=a,f=zm(),{handlers:_}=fw({onClick:e=>{i?"Enabled"===o?(v(),f.hideControls()):(f.showControls(),f.setHideControlsTimer()):2!==e.button&&(l&&!u||(p?h():d()))},preventEvents:!0}),g=(0,st.useMemo)((()=>c&&n?{"--scale-no-frames":gb(m).toFixed(2)}:void 0),[m,c,n]);return st.createElement("div",{style:g,"aria-hidden":"true",className:cl()(Ib,{[Tb]:s,[Rb]:n}),onClick:_.onClick,onDoubleClick:()=>r()},t)})),Lb="loader-template-module__wrapper___diBGg",Ob="loader-template-module__portraitNoTouchScroll___zPpe6",Nb="loader-template-module__wrapperLoaded___S_IOM",Mb="loader-template-module__wrapperNoControls___qKqqO",Db="loader-template-module__fullScreen___wlfC3",Fb="loader-template-module__posterWrapper___eyvF7",Bb="raichu-aria-alert-module__ariaAlert___RmsxF",Hb=["children"],Vb=e=>{let{children:t}=e,n=bp(e,Hb);return st.createElement("span",ll({},n,{className:Bb}),t)},Ub=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M7 7L17 17",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M17 7L7 17",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},jb="end-screen-autoplay-module__endScreenAutoplay___B8d0U",Wb="end-screen-autoplay-module__endScreenAutoplayLabel___li3jH",zb=()=>Tc().resolve("IUserSettingsPlugin"),$b=e=>e("IUserSettingsPlugin"),Gb=lc((()=>{const e=zb(),t=(0,st.useRef)(null),n=(0,st.useCallback)((()=>{e.isAutoplayEnabled=!e.isAutoplayEnabled}),[e]);var r,i;r="dark2021",i=t,(0,st.useEffect)((()=>{const e=Gt(jt[r]);Kt(r,e),i.current&&(i.current.dataset[zt]=r)}),[r,i]);const a="Проигрывать видео автоматически";return st.createElement("button",{ref:t,className:`${jb} autoplay-btn`,onClick:n,"aria-label":e.isAutoplayEnabled?`Не ${a}`:a},st.createElement(Cc,{size:Sc.SMALL,isActive:e.isAutoplayEnabled,onChange:n}),st.createElement("span",{className:Wb},a))})),Kb="end-screen-progress-button-module__progressBtn___hkBcZ",qb="end-screen-progress-button-module__progressBtnSmall___fGb61",Yb="end-screen-progress-button-module__progressBtnIcon___XWhPD",Qb=e=>{const{size:t="default",timeout:n=Lh,onClick:r}=e,{cssProgressValue:i,setProgress:a}=((e,t,n)=>{const[r,i]=(0,st.useState)(0),a=e/100*r;return(0,st.useLayoutEffect)((()=>{let e=null,r=0,a=!1,o=Date.now();return null!==t&&(e=window.requestAnimationFrame((function s(){if(a)return;const l=(Date.now()-o)/(t||0);r+=l,o=Date.now(),i(100*r),r<1?e=window.requestAnimationFrame(s):(i(0),null!==e&&(window.cancelAnimationFrame(e),e=null),n&&n(!0))}))),()=>{a=!0,i(0),null!==e&&(window.cancelAnimationFrame(e),e=null)}}),[t]),{cssProgressValue:a,setProgress:i}})(216,n,r),o=(0,st.useCallback)((e=>{e.preventDefault(),a(0),r()}),[a,r]),s=(0,st.useCallback)((e=>{e.stopPropagation()}),[]);return st.createElement("div",ll({className:cl()(Kb,{[qb]:"default"!==t}),title:"Следующее видео",onClick:o},jf),st.createElement("svg",{className:Yb,viewBox:"0 0 60 60",fill:"none"},st.createElement("path",{fill:"rgba(28, 35, 43, 0.9)",d:"M0.5 18.7514C0.5 9.91191 0.5 5.49216 3.24608 2.74608C5.99216 0 10.4119 0 19.2514 0H41.7486C50.5881 0 55.0078 0 57.7539 2.74608C60.5 5.49216 60.5 9.91191 60.5 18.7514V41.2486C60.5 50.0881 60.5 54.5078 57.7539 57.2539C55.0078 60 50.5881 60 41.7486 60H19.2514C10.4119 60 5.99216 60 3.24608 57.2539C0.5 54.5078 0.5 50.0881 0.5 41.2486V18.7514Z"}),st.createElement("path",{d:"M23 20v19.6l14-9.8L23 20Z",fill:"#fff",stroke:"#fff",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),!!n&&st.createElement("path",{onMouseDown:s,onMouseUp:s,onTouchStart:s,style:{strokeDasharray:216,strokeDashoffset:i+216},stroke:"#00A1E7",strokeWidth:"2",d:"M30 1H10C5.02944 1 1 5.02944 1 10V50C1 54.9706 5.02944 59 10 59H50C54.9706 59 59 54.9706 59 50V10C59 5.02944 54.9706 1 50 1Z"})))},Zb={noScrollbar:"end-screen-next-module__noScrollbar___ZNBGx",fullSizeOverlay:"end-screen-next-module__fullSizeOverlay___CvgpY",video:"end-screen-next-module__video___g__QE",videoInner:"end-screen-next-module__videoInner___R2h02",videoImg:"end-screen-next-module__videoImg___TVyAB",videoBg:"end-screen-next-module__videoBg___kcExG",nextVideoClose:"end-screen-next-module__nextVideoClose___qWXSq",nextVideoCloseButton:"end-screen-next-module__nextVideoCloseButton___TX1qd",fullHeight:"end-screen-next-module__fullHeight___q0OJo",endScreenNext:"end-screen-next-module__endScreenNext___WFRz_",md:"end-screen-next-module__md___lCcvK",lg:"end-screen-next-module__lg___ShiVk",xlg:"end-screen-next-module__xlg___vfYH7",nextVideo:"end-screen-next-module__nextVideo___FNdQl",nextVideoInner:"end-screen-next-module__nextVideoInner___AC0Fa",nextVideoNext:"end-screen-next-module__nextVideoNext___LVIpD",sm:"end-screen-next-module__sm___Fwtmy",nextVideoTitle:"end-screen-next-module__nextVideoTitle___pt2m0",xxs:"end-screen-next-module__xxs___D1kbw",nextVideoPlay:"end-screen-next-module__nextVideoPlay___TwI9X",nextVideoCancel:"end-screen-next-module__nextVideoCancel___L_t4I",nextVideoAutoplay:"end-screen-next-module__nextVideoAutoplay___gA3C9"};function Xb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0px",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[r,i]=st.useState(void 0),a=st.useRef(null),o=function(e){const t=st.useRef(e);t.current=e;const n=st.useRef(null);return st.useRef(new Proxy(n,{set(e,n,r,i){return"current"===n&&e.current!==r&&t.current(r,e.current),Reflect.set(e,n,r,i)}})).current}(((e,t)=>{var n,r;(i(void 0),t)&&(null===(n=a.current)||void 0===n||n.unobserve(t));e&&(null===(r=a.current)||void 0===r||r.observe(e))}));return st.useEffect((()=>{if("function"==typeof IntersectionObserver){var r;if(a.current=new IntersectionObserver((e=>{let[n]=e;n.isIntersecting&&o.current&&a.current&&!t&&(a.current.unobserve(o.current),a.current.disconnect()),i(n.isIntersecting)}),{rootMargin:e,threshold:n}),o.current)null===(r=a.current)||void 0===r||r.observe(o.current);return()=>{var e;i(!1),null===(e=a.current)||void 0===e||e.disconnect(),a.current=null}}}),[o,e,t,n]),[o,r]}const Jb=lc((e=>{var t,n;let{fullHeight:r}=e;const i=ey(),a=(null===(t=i.size)||void 0===t?void 0:t.width)||0,o=(null===(n=i.size)||void 0===n?void 0:n.height)||0,s=cw.useEndScreen(),{nextVideo:l,counterHelper:u,onClick:c}=s,{onScreenRef:d,autoplay:h}=(()=>{const{isAutoplayEnabled:e}=zb(),[t,n]=(0,st.useState)(e),[r,i]=Xb(void 0,!0,.6);return(0,st.useEffect)((()=>{"boolean"==typeof i&&(!i&&t?n(!1):i&&e&&!t&&n(!0))}),[i,e,t]),(0,st.useEffect)((()=>{n(e)}),[e]),{onScreenRef:r,autoplay:t}})(),{isAutoplayEnabled:p}=zb(),v=(0,st.useRef)(null),m=(0,st.useRef)(null),f=i.getSizeClassName(Zb),_=r?`${a}px`:`${Math.ceil((o-180)*Oh)}px`,g=(0,st.useCallback)((e=>{l&&(e||null==u||u.get("mainEndScreenNextVideoClick")(),c({isAuto:e,video:l}))}),[c,l,u]),y=(0,st.useCallback)((e=>{e.preventDefault(),s.viewMode="recommendations",null==u||u.get("mainEndScreenShowRecommendations")()}),[u,s]);return l?st.createElement("div",{className:cl()(Zb.endScreenNext,f,{[Zb.fullHeight]:r}),style:{maxWidth:_}},st.createElement(Vb,{role:"alert","aria-live":"assertive"},"Следующее видео: ",l.title,p?` начнется через ${Math.floor(Lh/1e3)} секунд`:""),st.createElement("div",{className:Zb.nextVideoClose},st.createElement(Xf,{"aria-label":"Закрыть эндскрин",icon:Ub,onClick:y,className:Zb.nextVideoCloseButton})),st.createElement("a",{href:l.video_url,title:l.title,"aria-label":`Перейти к просмотру видео: ${l.title}`,onClick:e=>{var t;if(e.preventDefault(),e.target){const t=e.target;if(null!==t.closest(".autoplay-btn")||t.classList.contains("autoplay-btn"))return}const n=e.target;null!==(t=v.current)&&void 0!==t&&t.contains(n)||n===m.current||g(!1)},className:cl()(Zb.video,Zb.nextVideo,f)},st.createElement("div",{ref:d,className:Zb.videoInner},l.thumbnail_url&&st.createElement("img",{src:l.thumbnail_url,alt:l.title,className:cl()(Zb.fullSizeOverlay,Zb.videoImg)}),st.createElement("div",{className:cl()(Zb.fullSizeOverlay,Zb.videoBg)}),st.createElement("div",{className:Zb.nextVideoInner},st.createElement("div",{className:cl()(Zb.nextVideoNext,f)},"Следующее видео:"),l.title&&st.createElement("div",{className:cl()(Zb.nextVideoTitle,f)},l.title),st.createElement("div",{ref:v,className:Zb.nextVideoPlay},st.createElement(Qb,{timeout:h?Lh:null,onClick:g})),st.createElement("button",{ref:m,className:Zb.nextVideoCancel,onClick:y},"Отмена"),r&&st.createElement("div",{className:Zb.nextVideoAutoplay},st.createElement(Gb,null))))),!r&&st.createElement("div",{className:Zb.nextVideoAutoplay},st.createElement(Gb,null))):null})),eE="thumbnail-module__notLoaded___Cth5T",tE="thumbnail-module__thumbnailSkeleton____ZeVa",nE=["skeletonClassName","className","requiredSize","src","alt","playerWidth","responsive"],rE=e=>{let{skeletonClassName:t,className:n,requiredSize:r,src:i,alt:a,playerWidth:o,responsive:s=!0}=e,l=bp(e,nE);const[u,c]=(0,st.useState)(!1),[d,h]=(0,st.useState)(!1),p=(0,st.useMemo)((()=>{const e=r||o||null;if(i&&e&&s)return((e,t)=>[1,1.5,2,3].map((n=>`${e}?width=${Math.floor(t*n)} ${n}x`)).join(", "))(i,e)}),[i,s,r,o]),v=(0,st.useCallback)((()=>{c(!0)}),[c]),m=(0,st.useCallback)((()=>{h(!0)}),[h]);return d?null:(uv()||(l.loading="lazy"),st.createElement(st.Fragment,null,!u&&st.createElement("div",{className:cl()(tE,t)}),i?st.createElement("img",ll({},l,{className:cl()({[eE]:!u},n),srcSet:p,src:`${i}${r?`?width=${r}`:""}`,alt:a,onLoad:v,onError:m})):null))},iE="end-screen-poster-module__poster___aNgMH",aE=lc((()=>{const{thumbnailUrl:e}=cw.useEndScreen();return e?st.createElement(rE,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:e,className:iE,alt:"Постер"}):null})),oE={xxs:{total:4,template:"1fr 1fr"},xs:{total:6,template:"1fr 1fr 1fr"},sm:{total:6,template:"1fr 1fr 1fr"},md:{total:6,template:"1fr 1fr 1fr"},lg:{total:12,template:"1fr 1fr 1fr 1fr"},xlg:{total:12,template:"1fr 1fr 1fr 1fr"}},sE=()=>st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},st.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M1.06 17.5v.08c0 .37.28.65.65.65a.6.6 0 0 0 .46-.18s4.66-5.03 10.38-3.51v5.08c0 .36.28.64.65.64.14 0 .23-.04.32-.1l9.28-7.88a.74.74 0 0 0 .23-.51.7.7 0 0 0-.18-.46l-9.28-7.53a.87.87 0 0 0-.37-.09.63.63 0 0 0-.65.65v4.75c-.04 0-9.18-1.38-11.49 8.4Z",clipRule:"evenodd"})),lE="end-screen-recommendations-header-module__recommendationsHeader___ZvOPG",uE="end-screen-recommendations-header-module__recommendationsHeaderTitle___zcdzI",cE="end-screen-recommendations-header-module__title___OHsUz",dE="end-screen-recommendations-header-module__recommendationsClose___uNX07",hE=["Abort due to cancellation of share.","Share canceled"];function pE(){return Tc().resolve("ISharePlugin")}const vE=()=>{const[e,t]=(0,st.useState)(!1),{isEmbed:n,isSharePanelOpen:r,setActivePanel:i,title:a,videoUrl:o,counterHelper:s}=pE(),l=()=>{e||i("share"),null==s||s.get("mainSharingShow")()},u=n?function(e,t){const n=new URL(e),r=new URLSearchParams(n.search);for(const e of Object.keys(t))r.append(e,t[e]);return n.search=String(r),String(n)}(o,vd(jc.isMobile)):o,c=jc.isMobile?()=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={title:e,url:t};return new Promise(((e,t)=>{navigator.canShare&&navigator.canShare(r)&&n?navigator.share(r).then((()=>e("Mobile sharing completed successfully"))).catch((n=>{hE.includes(n.message)?e("Mobile sharing cancelled by user"):t(n.message)})):t("Mobile share not suppported")}))}(a,u,jc.isMobile).then((()=>{null==s||s.get("mainSharingShare")({socialNetwork:"native"})})).catch(l):l;return{handleShareButton:c,handleCheckSharePanelWasOpen:()=>t(r)}},mE=e=>{let{onClose:t,hiddenTitle:n}=e;const{title:r,author:i,videoUrl:a}=Ym(),{handleShareButton:o,handleCheckSharePanelWasOpen:s}=vE(),{counterHelper:l}=cw.useEndScreen();return st.createElement("div",{className:lE},n?st.createElement(st.Fragment,null,st.createElement("h2",null,"Рекомендации"),st.createElement(Xf,{className:dE,icon:Ub,onClick:t,"aria-label":"Закрыть рекомендации"})):st.createElement(st.Fragment,null,st.createElement("div",{className:uE},st.createElement("a",{href:null==i?void 0:i.url,target:"_blank",rel:"noreferrer",title:null==i?void 0:i.name,onClick:()=>{null==l||l.get("mainEndScreenChannelLogoClick")({clickedUrl:(null==i?void 0:i.url)||""})}},st.createElement("img",{src:(null==i?void 0:i.avatar_url)||mh,alt:null==i?void 0:i.name})),st.createElement("a",{href:a,target:"_blank",rel:"noreferrer",className:cE},r)),st.createElement("div",null,st.createElement(Xf,{tabIndex:0,role:"button","aria-label":"Поделиться видео",icon:sE,withBg:!1,onClick:o,onMouseDown:s}))))},fE="end-screen-recommendations-module__recommendations___taX__",_E="end-screen-recommendations-module__recommendationsWrapper___YARZ4",gE="end-screen-recommendations-module__recommendationsInner___wuUAh",yE="end-screen-recommendations-module__recommendationsGrid___DhuiF",bE="end-screen-recommendations-module__recommendationsCarousel___EnU5q",EE="end-screen-recommendations-module__recommendationsItem___bj4xx",wE="thumbnail-module__notLoaded___hwAhb",SE="thumbnail-module__adult___NvpTp",CE="thumbnail-module__thumbnailSkeleton___L3GP7",kE=["hidden","skeletonClassName","className","requiredSize","src","alt","responsive","isAdult"],AE=e=>{let{hidden:t=!1,skeletonClassName:n,className:r,requiredSize:i,src:a,alt:o,responsive:s=!0,isAdult:l}=e,u=bp(e,kE);const[c,d]=(0,st.useState)(!1),[h,p]=(0,st.useState)(!1),v=(0,st.useMemo)((()=>{if(!a||!i||!s)return;return[1,1.5,2,3].map((e=>`${a}?width=${i*e} ${e}x`)).join(", ")}),[a,i,s]),m=(0,st.useCallback)((()=>{d(!0)}),[d]),f=(0,st.useCallback)((()=>{p(!0)}),[p]);return h?null:st.createElement(st.Fragment,null,!c&&st.createElement("div",{className:cl()(CE,n)}),!t&&st.createElement("img",ll({},u,{className:cl()({[wE]:!c,[SE]:l},r),srcSet:v,src:a?`${a}${i?`?width=${i}`:""}`:"",alt:o,onLoad:m,onError:f})))},PE="recommendation-item-module__fullSizeOverlay___E0UcD",IE="recommendation-item-module__video___QVlb0",TE="recommendation-item-module__videoInner___wZqov",RE="recommendation-item-module__videoImg___tJAFX",xE="recommendation-item-module__videoBg___jZgB2",LE="recommendation-item-module__recommendation___wLRvM",OE="recommendation-item-module__grid___Cr9yy",NE="recommendation-item-module__recommendationCurrent___gyCuC",ME="recommendation-item-module__verticalList___sIcQH",DE="recommendation-item-module__thumbnail___yXRnU",FE="recommendation-item-module__recommendationCurrentText___ok3Do",BE="recommendation-item-module__recommendationText___TqJPv",HE="recommendation-item-module__horizontalList___UFjMi",VE="recommendation-item-module__recommendationTitle___pnAqW",UE="recommendation-item-module__recommendationDescription___Ts_rm",jE="recommendation-item-module__recommendationInfo___HUxDL",WE="recommendation-item-module__recommendationDuration___NbGZF",zE="recommendation-item-module__recommendationAge___bfNMh",$E="recommendation-item-module__isAdult___DxwWp",GE="recommendation-item-module__recommendationSkeleton___Jg1pD",KE="recommendation-item-module__loading___mCjxJ",qE="recommendation-item-module__progress___MFz5x",YE="recommendation-item-module__live___ZBMYz",QE=e=>{let{id:t,title:n,titleRows:r=2,description:i,descriptionRows:a=1,ariaLabel:o,age:s,duration:l,isLiveStream:u,progress:c,thumbnailUrl:d,width:h,thumbnailWidth:p=600,className:v,mode:m="grid",currentLabel:f,hidden:_,onClick:g,onFocus:y}=e;const b=f?"div":"button",E=f?{}:{onClick:e=>{e.preventDefault(),g&&g()}},w=Boolean(s&&"18"===String(s));return st.createElement(b,ll({},E,{"data-testid":"recommendation-item",tabIndex:0,className:cl()(LE,v,{[OE]:"grid"===m,[ME]:"vertical_list"===m,[NE]:!!f}),"data-id":t,"data-lazy":_,"aria-label":o||n,onFocus:y,style:{minWidth:h,maxWidth:h,"--rec-title-rows":r,"--rec-description-rows":a}}),st.createElement("div",{className:DE,"aria-hidden":!0},st.createElement("div",{className:IE},st.createElement("div",{className:TE},d&&st.createElement(AE,{hidden:_,src:d,requiredSize:p,alt:n,isAdult:w,className:cl()(PE,RE)}),st.createElement("div",{className:cl()(PE,xE,{[FE]:!!f})},!!f&&st.createElement("div",null,f)),"grid"===m&&!f&&st.createElement("div",{className:BE},st.createElement("div",{className:VE},n),st.createElement("div",{className:UE,title:i},i)),!f&&st.createElement(st.Fragment,null,!w&&st.createElement("div",{className:cl()(jE,WE)},u?st.createElement("span",{className:YE},"В эфире"):l),s&&st.createElement("div",{className:cl()(jE,zE,{[$E]:w})},s,"+"),Boolean(c)&&st.createElement("div",{className:qE,"aria-label":`Просмотрено ${c}%`},st.createElement("span",{style:{width:`${c}%`,background:"rgba(0, 161, 231, 1)"}})))))),"grid"!==m&&st.createElement("div",{"aria-hidden":!0,className:cl()(BE,{[HE]:"horizontal_list"===m,[ME]:"vertical_list"===m})},st.createElement("div",{className:VE},n),st.createElement("div",{className:UE,title:i},i)))},ZE=e=>{let{wrapper:t,items:n,enabled:r=!0,options:i}=e;const a=(0,st.useRef)(null),[o,s]=(0,st.useState)({}),l=(0,st.useCallback)((()=>s({})),[s]),u=(0,st.useCallback)((()=>{var e;null===(e=a.current)||void 0===e||e.disconnect();let n=null;if(t&&(n=t instanceof HTMLDivElement?t:t.current),!n)return null;const r=function(e,t){e.forEach((e=>{if(!e.isIntersecting)return;const n=e.target;s((e=>n.dataset.id?Ft(Ft({},e),{},{[n.dataset.id]:!0}):e)),t.unobserve(e.target)}))};a.current&&a.current.disconnect();const o=n.querySelectorAll('[data-lazy="true"]');if(o.length)try{a.current=new IntersectionObserver(r,i),o.forEach((e=>{var t;null===(t=a.current)||void 0===t||t.observe(e)}))}catch(e){console.error(e)}}),[o,t]);return(0,st.useEffect)((()=>(r&&u(),()=>{var e;null===(e=a.current)||void 0===e||e.disconnect()})),[r,n,u]),{viewedItems:o,resetViewed:l}},XE=lc((()=>{var e,t,n,r;const i=cw.useEndScreen(),{counterHelper:a,getRecommendations:o,onClick:s,isEmbed:l}=i,u=ey(),{isTouchDevice:c}=Ay(),d=(null===(e=u.size)||void 0===e?void 0:e.width)||0,h=(null===(t=u.size)||void 0===t?void 0:t.height)||0,p=u.sizeId||"xxs",v=(0,st.useRef)(null),m=Uu("(orientation: landscape)"),f=d<=666,_=f||!l&&c&&m&&d<1e3,g=o(_?20:(null===(n=oE[p])||void 0===n?void 0:n.total)||4),{viewedItems:y}=ZE({wrapper:v,items:g,enabled:_,options:{rootMargin:"100%",threshold:0}}),b=l&&!m?d:Math.ceil(h*Oh);return st.createElement("div",{tabIndex:0,"aria-label":"Рекомендации",className:fE,style:{maxWidth:`${b}px`,maxHeight:`${h}px`}},st.createElement(mE,{onClose:()=>{i.hide(),l||(i.viewMode="next_video")},hiddenTitle:c||f}),st.createElement("div",{className:_E},st.createElement("div",{className:gE},st.createElement("div",{ref:v,className:cl()(yE,{[bE]:_}),style:{gridTemplateColumns:null===(r=oE[p])||void 0===r?void 0:r.template}},g.map((e=>{var t;return st.createElement(QE,{key:e.video.id,id:e.video.id,title:e.video.title,description:(null===(t=e.video.author)||void 0===t?void 0:t.name)||"",descriptionRows:1,thumbnailUrl:e.video.thumbnail_url,age:e.video.pg_rating.age,duration:Xg({value:e.video.duration}),isLiveStream:e.video.is_livestream,hidden:!y[e.video.id]&&_,className:EE,mode:_?"horizontal_list":"grid",onClick:()=>{return t=e.video,null==a||a.get("mainEndScreenRecommendationClick")(),void s({isAuto:!1,video:t});var t}})}))))))})),JE="end-screen-module__fullSizeOverlay___LdonP",ew="end-screen-module__endScreen___q93M7",tw="end-screen-module__fullHeight___HbPGD",nw="end-screen-module__endScreenBg___YXSN2",rw="end-screen-module__endScreenContent___fp6ip",iw=lc((()=>{const e=cw.useEndScreen(),{nextVideo:t,visible:n,viewMode:r,isEmbed:i}=e,a=ey().size,o=(null==a?void 0:a.height)||0,s=Math.ceil(o*Oh),l=Ay().isTouchDevice||s<=666;return n?st.createElement("div",{"data-testid":"endscreen",className:cl()(JE,ew,{[tw]:l})},st.createElement(aE,null),st.createElement("div",{className:cl()(JE,nw)}),st.createElement("div",{className:rw},"recommendations"===r?st.createElement(XE,null):st.createElement(st.Fragment,null,t&&!i&&st.createElement(Jb,{fullHeight:l})))):null}));var aw,ow;let sw,lw,uw,cw;new(ow=class extends Oo{constructor(e,t,n,r,i,a,o,s){super(),this._data=(sw(this),Mr.box(null)),this._visible=Mr.box(!1),this._viewMode=Mr.box("next_video"),this._isEmbed=Mr.box(!1),this.counterHelper=void 0,this.advertPlugin=void 0,this.hide=()=>{var e,t;this.visible&&(null===(e=this.counterHelper)||void 0===e||e.get("mainEndScreenCancel")(),null===(t=this.counterHelper)||void 0===t||t.get("mainEndScreenAction")({end_screen:"cancel"}));this.visible=!1},this.getRecommendations=e=>e?this.recommendations.slice(0,e):this.recommendations,this._playerData=t,this._playback=n,this._userSettings=r,this._config=a,this.trackingLinks=s,this.counterHelper=i&&i instanceof Mv?i.counterHelper:void 0,this.onClick=this.onClick.bind(this),this.isEmbed=e.value,this.advertPlugin=o,Ca(this,{nextVideo:Hr,recommendations:Hr,visible:Hr,isEmbed:Hr,show:Bi,hide:Bi,onClick:Bi})}init(){const e=[];return e.push($i((()=>{var e;return{videoId:this._playerData.video_id,allow:null===(e=this._playerData.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_endscreen,isEmbed:this.isEmbed}}),(e=>{let{videoId:t,allow:n,isEmbed:r}=e;t&&n&&Vi((async()=>{try{var e,n,i;this.hide(),this.data=await(async e=>{let{videoId:t,client:n,limit:r=21,minAge:i,maxAge:a,playlistId:o}=e;const s=new URLSearchParams;s.set("client",n),s.set("limit",r.toString()),null!=i&&s.set("min_age",i.toString()),null!=a&&s.set("max_age",a.toString()),o&&s.set("playlist_id",o);const l=`${mb()}/api/v2/video/end-screen/${t}/?${s.toString()}`,u={};return null==i&&null==a||(u["x-client-context"]="sm"),(await fetch(l,{headers:u})).json()})({videoId:t,client:r?"player":"wdp",limit:20,minAge:null===(e=this.safeModeConfig)||void 0===e?void 0:e.minAge,maxAge:null===(n=this.safeModeConfig)||void 0===n?void 0:n.maxAge,playlistId:null===(i=this._config.get("playlistId"))||void 0===i?void 0:i.toString()}),this.nextVideo&&!this.isEmbed||(this.viewMode="recommendations")}catch(e){console.error("Load end-screen error",e)}}))}))),e.push($i((()=>{var e;return[this._playback.ended,null===(e=this.advertPlugin)||void 0===e?void 0:e.currentState]}),(e=>{let[t,n]=e;t&&"prefetch"!==n&&"show"!==n&&t&&this.show()}))),e.push($i((()=>{var e;return[this._playback.isPlaying,null===(e=this.advertPlugin)||void 0===e?void 0:e.currentState]}),(e=>{let[t,n]=e;(t||"prefetch"===n||"show"===n)&&this.hide()}))),e.push($i((()=>this._userSettings.isAutoplayEnabled),(e=>{e&&(this.viewMode="next_video")}))),()=>e.forEach((e=>e()))}set data(e){Vi((()=>{this._data.set(e)}))}get thumbnailUrl(){return this._playerData.poster||""}get safeModeConfig(){return this._config.get("safeModeConfig")}get nextVideo(){var e;return(null===(e=this._data.get())||void 0===e?void 0:e.next_video)||null}get recommendations(){var e;return(null===(e=this._data.get())||void 0===e?void 0:e.recommendation)||[]}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get viewMode(){return this._viewMode.get()}set viewMode(e){this._viewMode.set(e)}get isEmbed(){return this._isEmbed.get()}set isEmbed(e){this._isEmbed.set(e)}show(){var e,t,n,r;(this.visible=!0,null===(e=this.counterHelper)||void 0===e||e.get("mainEndScreenShowAlt")(),null===(t=this.counterHelper)||void 0===t||t.get("mainEndScreenAction")({end_screen:"show"}),"recommendations"===this.viewMode)?null===(n=this.counterHelper)||void 0===n||n.get("mainEndScreenShowRecommendations")():null===(r=this.counterHelper)||void 0===r||r.get("mainEndScreenShow")()}onClick(e){var t,n,r;let{isAuto:i,video:a}=e;const o={next_video_id:a.id,clicked_url:a.video_url};var s,l;(null===(t=this.nextVideo)||void 0===t?void 0:t.id)===a.id?null===(s=this.counterHelper)||void 0===s||s.get("mainEndScreenAction")(Ft({end_screen:i?"auto":"play"},o)):null===(l=this.counterHelper)||void 0===l||l.get("mainEndScreenAction")(Ft({end_screen:"click_on_card"},o));null===(n=this.counterHelper)||void 0===n||n.get("mainEndScreenClick")(),null===(r=this.counterHelper)||void 0===r||r.get("mainEndScreenClickAction")(),this.isEmbed?window.open(this.trackingLinks.generateTrackingLink({id:String(a.id),campaign:"endscreen"})):this._config.get("playlistId")?Fp.emit(Nh.NEXT_VIDEO,{video:a}):Fp.emit(Nh.RECOMMENDED_VIDEO,{video:a})}},({e:[sw],c:[cw,lw]}=en(ow,[To({implement:"IEndScreenPlugin",ctor_args:["IsEmbed","IDataPlugin","IPlayback","IUserSettingsPlugin","IStatisticState","IPlayerConfigPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0}]})],[[Lo(),2,"init"]],0,void 0,Oo)),uw=ow,(aw=class extends jo{constructor(){super(cw),this.EndScreen=iw,this.useEndScreen=()=>Rc("IEndScreenPlugin"),this.useEndScreenOptional=()=>xc("IEndScreenPlugin"),this.getEndScreen=e=>e("IEndScreenPlugin"),lw()}})[uw]=void 0,aw);var dw;let hw,pw,vw;dw=class extends Oo{constructor(e,t,n,r,i,a){super(),this.timer=(hw(this),null),this.__forcedPlayback=!1,this.__playbackRate=null,this.__isLongPress=Mr.box(!1),this.__needToPreventClick=Mr.box(!1),this.__longPressStat=Mr.box(!1),this.__playback=void 0,this.__infoLayer=void 0,this.__controlsPlugin=void 0,this.__data=void 0,this.__pip=void 0,this.__context=void 0,this.__playback=e,this.__infoLayer=n,this.__controlsPlugin=t,this.__data=r,this.__pip=i,this.__context=a,Ca(this,{isLongPress:Hr,longPressStat:Hr,needToPreventClick:Hr,clearPressTime:Bi.bound,startPressTimer:Bi.bound})}initContextIsOpen(){return $i((()=>{var e;return null===(e=this.__context)||void 0===e?void 0:e.isOpen}),(e=>{e&&(this.needToPreventClick=!0)}))}clearPressTime(){var e;this.isLongPress&&(this.__playback.playbackRate=null!==(e=this.playbackRate)&&void 0!==e?e:1,this.__infoLayer.setActiveInfo(null),this.longPressStat=!1);this.timer&&(clearTimeout(this.timer),this.timer=null,this.isLongPress=!1)}startPressTimer(e){var t,n;const r=e.target;Kf(r)||this.__playback.isLive||this.__playback.ended||!this.__playback.wasStarted||null!==(t=this.__data.data)&&void 0!==t&&t.is_spatial||null!==(n=this.__pip)&&void 0!==n&&n.isInPiP&&jc.isMobile||(this.timer=setTimeout((()=>{Vi((()=>{this.isLongPress=!0,this.__controlsPlugin.hideControls(!0),this.__playback.isPlaying||(this.__playback.play(),this.forcedPlayback=!0),this.__playback.playbackRate<2&&(this.__infoLayer.isInfoPrevented=!1,this.__infoLayer.setActiveInfo({label:"x2",shortLabel:"x2",labelIcon:Yd.FORWARD_FAST,withoutAnimation:!0,persistent:!0}),this.__playback.playbackRate=2,this.longPressStat=!0)}))}),500))}set playbackRate(e){this.__playbackRate=e}get playbackRate(){return this.__playbackRate}get activePlaybackRate(){return this.__playback.playbackRate}get forcedPlayback(){return this.__forcedPlayback}set forcedPlayback(e){this.__forcedPlayback=e}get needToPreventClick(){return this.__needToPreventClick.get()}set needToPreventClick(e){this.__needToPreventClick.set(e)}get isLongPress(){return this.__isLongPress.get()}set isLongPress(e){this.__infoLayer.forceToShow=e,this.__isLongPress.set(e)}get longPressStat(){return this.__longPressStat.get()}set longPressStat(e){this.__longPressStat.set(e)}},({e:[hw],c:[vw,pw]}=en(dw,[To({implement:"ILongPressSeekPlugin",ctor_args:["IPlayback","IControlsPlugin","IInfoLayerPlugin","IDataPlugin",{implement:"PictureInPicturePlugin",optional:!0},{implement:"IContextMenuPlugin",optional:!0}]})],[[Lo(),2,"initContextIsOpen"]],0,void 0,Oo)),pw();const mw=()=>Tc().resolve("ILongPressSeekPlugin"),fw=e=>{let{onClick:t,preventEvents:n=!1}=e;const r=mw(),i=zm(),a=Ld(),{comparePlayers:o,pause:s,isPlaying:l}=i.playback,{startPressTimer:u,clearPressTime:c,activePlaybackRate:d,isLongPress:h,forcedPlayback:p,needToPreventClick:v}=r;return(0,st.useEffect)((()=>{const e=e=>{n||0===(null==e?void 0:e.button)&&(r.forcedPlayback&&(s(),r.forcedPlayback=!1),r.isLongPress&&o(e.target)&&(r.needToPreventClick=!0),r.clearPressTime())};return window.addEventListener("mouseup",e),()=>{window.removeEventListener("mouseup",e)}}),[r,o,s,n,a]),{isLongPress:h,handlers:{onMouseDown:function(e){n||0===e.button&&(r.playbackRate=d,u(e))},onClick:function(e){0===e.button&&v?r.needToPreventClick=!1:t&&"function"==typeof t&&t(e)},onTouchStart:function(e){var t,i;n||(1===(null==e||null===(t=e.touches)||void 0===t?void 0:t.length)?(h||(r.playbackRate=d),u(e)):(null==e||null===(i=e.touches)||void 0===i?void 0:i.length)>1&&c())},onTouchEnd:function(e){var t;if(!n)return 0===(null==e||null===(t=e.touches)||void 0===t?void 0:t.length)&&(p&&(s(),r.forcedPlayback=!1),h&&(r.needToPreventClick=!0),c(),l&&h&&i.setHideControlsTimer()),r.needToPreventClick?(i.hideControls(),void(r.needToPreventClick=!1)):void 0}}}},_w=lc((e=>{let{_allowVerticalTouchScroll:t,children:n,mount:r}=e;const i=zm(),{isPlaying:a}=qp(),o=Ay(),{data:s,showPoster:l,playback:u,isFullScreen:c,isTouchDevice:d,backgroundStyles:h}=o,{isPlayerReady:p,isPlaying:v,playWithHandlePermissions:m}=u,{isShowOnboarding:f}=F_()||{},_=mw(),g=ey(),y=Rc("IDomNodeTrackerPlugin"),{visible:b}=cw.useEndScreenOptional()||{};let E=i.isShowControls?"Скрыть панель управления плеером":"Показать панель управления плеером";E+=c?" в полноэкранном режиме":"";const w=(0,st.useMemo)((()=>d?{tabIndex:0,role:"button","aria-label":E}:{}),[E,d]);if(l||!p&&s.poster)return st.createElement("div",{className:cl()([Lb,Fb]),style:{backgroundImage:`url(${s.poster})`}},p&&st.createElement("div",{style:{width:"48px",height:"48px"},onClick:m},st.createElement(Fd,null)));if(!p)return st.createElement("div",{className:Lb,style:{display:"flex",alignItems:"center",justifyContent:"center"}},st.createElement(op,null));const S=o.isTouchDevice?{}:{onMouseMove:()=>{_.isLongPress||a||b||(i.showControls(),v&&""===i.activePanel&&i.setHideControlsTimer())},onMouseLeave:()=>{!v||i.isProgressBarClicked||f||i.hideControls()},onFocus:()=>{i.showControls(),i.setHideControlsTimer()},onBlur:()=>{requestAnimationFrame((()=>{var e;!i.isShowControls||null!==(e=document.getElementById(M_.RAICHU_CONTAINER_WITH_PLAYER))&&void 0!==e&&e.contains(document.activeElement)||i.setHideControlsTimer()}))}};return st.createElement("div",ll({className:cl()(Lb,Nb,{[Mb]:!i.isShowControls,[Db]:c,[Ob]:!t}),style:Ft({display:r?"flex":"none",justifyContent:"center"},h),ref:e=>{e&&(o.wrapperRef=e,g.wrapperRef=e,y.node=e)},onClick:e=>{if(o.isUserInteracted=!0,d)return void(e.target===o.wrapperRef&&(i.isShowControls?i.hideControls():(i.showControls(),requestAnimationFrame((()=>bb(M_.PLAY_BUTTON))))));const t=0!==e.detail&&0!==e.nativeEvent.offsetX&&0!==e.nativeEvent.offsetY,n=e.currentTarget.querySelector(".front-control:focus");n&&"blur"in n&&"function"==typeof n.blur&&t&&(n.blur(),bb(M_.RAICHU_CONTAINER_WITH_PLAYER))},id:M_.RAICHU_CONTAINER_WITH_PLAYER,"data-testid":"layout-loader"},S,w),n)})),gw=()=>Tc().resolve("IPlayerConfigPlugin"),yw="top-controls-module__wrapper___mPW53",bw="top-controls-module__item___t1uCK",Ew=lc((e=>{let{shareButton:t,settingsButton:n}=e;const{endScreen:r,isShowSettings:i}=zm(),{isShowPreview:a}=Cy();return a&&jc.isMobile||null!=r&&r.visible?null:st.createElement("div",{className:yw},t&&st.createElement(t,{size:jc.isMobile?"XXL":"XL"}),i&&n&&st.createElement("div",{className:bw},st.createElement(n,{buttonsSize:"XXL"})))})),ww="mobile-preview-tips-module__tipsContainer___iYrXT",Sw="mobile-preview-tips-module__doubleTap___aO1tE",Cw="mobile-preview-tips-module__isEmbed___yLgMx",kw="mobile-preview-tips-module__triangles___zW6As",Aw="mobile-preview-tips-module__rotated___U9UdN",Pw=()=>st.createElement("svg",{width:"7",height:"8",viewBox:"0 0 7 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.07098 3.99998C7.07098 3.37302 6.71293 2.92887 6.33854 2.59841C5.98517 2.2865 5.48037 1.95868 4.90546 1.58534L4.45451 1.29244C3.7769 0.852255 3.19386 0.473506 2.70923 0.251768C2.21004 0.0233663 1.58636 -0.146654 0.970897 0.187484C0.355434 0.521621 0.158295 1.13727 0.0779271 1.68032C-9.51181e-05 2.20751 -5.11007e-05 2.90276 0 3.71078V4.28913C-5.11007e-05 5.09715 -9.51181e-05 5.79244 0.0779271 6.31963C0.158295 6.86268 0.355434 7.47833 0.970897 7.81246C1.58636 8.1466 2.21004 7.97658 2.70923 7.74818C3.19386 7.52644 3.77689 7.1477 4.45449 6.70752L4.90545 6.41462C5.48035 6.04128 5.98518 5.71344 6.33854 5.40154C6.71293 5.07108 7.07098 4.62693 7.07098 3.99998Z",fill:"#FFFFFF"})),Iw=e=>{let{isRotated:t}=e;return st.createElement("div",{className:cl()(kw,{[Aw]:t})},st.createElement(Pw,null),st.createElement(Pw,null))},Tw=e=>{let{type:t,isEmbed:n}=e;return st.createElement("div",{className:cl()(ww,{[Cw]:n})},"long-press"===t&&st.createElement("p",null,"Нажмите и удерживайте, чтобы ускорить воспроизведение до x2"),"double-tap"===t&&st.createElement("div",{className:Sw},st.createElement(Iw,{isRotated:!0}),st.createElement("p",null,"Дважды коснитесь видео справа или слева, ",st.createElement("br",null)," чтобы перемотать его на 10 сек. вперёд или назад"),st.createElement(Iw,null)))},Rw="mobile-preview-module__wrapper___QLR5p",xw="mobile-preview-module__preview___IBFHA",Lw=lc((()=>{const{url:e,isAllowedToShowPreview:t,time:n,tipType:r,isEmbed:i}=Cy(),a=zm(),o=Cy(),{isFullScreen:s}=Ay(),l=(0,st.useMemo)((()=>({width:"100%",height:s||i?void 0:"100%",aspectRatio:s||i?"16/9":void 0})),[s,i]);return(0,st.useLayoutEffect)((()=>(a.preventHideControls=!0,()=>{o.setAnotherTip(),a.preventHideControls=!1})),[o,a]),t&&jc.isMobile?st.createElement("div",{className:Rw,id:M_.RAICHU_MOBILE_PREVIEW},r&&null!==n&&st.createElement(Tw,{key:r,type:r,isEmbed:i}),null!==n&&st.createElement("img",{src:e,style:l,"aria-label":`mobile-preview-at-${n||0}`,"aria-describedby":"mobile-preview",className:xw,fetchPriority:"high",loading:"lazy"})):null})),Ow=lc((e=>{let{controlsComponent:t,playbackComponent:n,endScreenComponent:r,settingsComponent:i,captionsComponent:a,cinemaModeButtonComponent:o,pauseScreenComponent:s,seasonsFullScreenComponent:l,seasonsWidgetComponent:u,stubComponent:c,infoLayerComponent:d,captionsButtonComponent:h,contextMenuComponent:p,statsForNerdsComponent:v,advertComponent:m,removeAdsButtonComponent:f,notificationsComponent:_,channelSubscriptionComponent:g,sharePopupComponent:y,shareButtonComponent:b,pictureInPictureButtonComponent:E,pictureInPictureOverlayComponent:w,replayWidgetComponent:S,posterComponent:C,video360Component:k,activitiesComponent:A,chaptersButtonComponent:P,chaptersPopupComponent:I,communicationBannerComponent:T,counterHelper:R,snapshotButton:x,children:L}=e;const[O,N]=(0,st.useState)(!1),{isTouchDevice:M,isVideo360:D,isControlsForcedHidden:F,playback:{waiting:B,isFrameless:H}}=Ay(),{isShowPreview:V}=Cy(),U=gw().get("chaptersComponent"),j=(0,st.useCallback)((()=>{null==R||R.get("mainStatusUnload")()}),[R]);return(0,st.useEffect)((()=>(window.addEventListener("beforeunload",j),()=>{window.removeEventListener("beforeunload",j)})),[R,j]),(0,st.useEffect)((()=>{N(!0)}),[]),st.createElement(c,null,st.createElement(_w,{_allowVerticalTouchScroll:!1,mount:O},st.createElement(Pb,null,w&&st.createElement(w,null),C&&st.createElement(C,null),y&&st.createElement(y,null),st.createElement(Yy,{pipControl:E},!F&&st.createElement(Ew,{shareButton:b,settingsButton:i}),x&&st.createElement(x,null)),st.createElement(xb,{frameless:H},V&&jc.isMobile&&st.createElement(Lw,null),D&&k&&st.createElement(k,null),st.createElement(n,{waiting:B})),T&&st.createElement(T,null),a&&st.createElement(a,null),r&&st.createElement(r,null),t&&!F&&st.createElement(t,{components:{settingsComponent:i,captionsButtonComponent:h,cinemaModeButtonComponent:o,pictureInPictureButtonComponent:E,seasonsWidgetComponent:u,chaptersButtonComponent:P}},st.createElement("div",{style:{position:"relative"}},S&&st.createElement(S,null))),s&&!M&&!F&&st.createElement(s,null),l&&st.createElement(l,null),!F&&st.createElement(_,null),m&&st.createElement(m,{removeAdsButton:f}),st.createElement(d,null),st.createElement(p,null),st.createElement(v,null),A&&st.createElement(A,null),g&&st.createElement(g,null),L),U&&I&&st.createElement(I,{Component:U})))}));var Nw;let Mw,Dw,Fw;Nw=class extends Oo{constructor(e,t,n,r,i,a,o,s,l,u,c,d,h,p,v){var m,f;super(),this._wrapperRef=(Mw(this),Mr.box(null)),this._isTouchDevice=Mr.box(!1),this._isTablet=Mr.box(!1),this._isSmallDesktop=Mr.box(!1),this._onScreen=Mr.box(!1),this._hasBackButton=Mr.box(!1),this._isDisclaimersVisible=Mr.box(!0),this._showPoster=Mr.box(!1),this._isUserInteracted=Mr.box(!1),this._wideMode=Mr.box(!1),this._isPlayPauseSwitchingAvailable=Mr.box(!0),this._isEmbed=void 0,this._counterHelper=void 0,this._data=e,this._playback=t,this._pip=n,this._playerSize=r,this._appearance=i,this._fullscreen=a,this._channelSubscription=o,this._advertPlugin=s,this._preview=l,this.saveModePlugin=d,this._cinemaMode=h,this._controlsPlugin=p,this.trackingLinks=v,this.isTouchDevice=jc.isMobile,this.isSmallDesktop=!(null===(m=this._playerSize)||void 0===m||null===(m=m.size)||void 0===m||!m.width)&&(null===(f=this._playerSize.size)||void 0===f?void 0:f.width)<=480,this.isTablet=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(window.navigator.userAgent),this._isEmbed=c.value,this._counterHelper=u&&u instanceof Mv?u.counterHelper:void 0,"true"===eb("wideMode")?this.wideMode=!0:this.wideMode=!1,Ca(this,{data:Hr,wrapperRef:Hr,playerMode:Hr,isFullScreen:Hr,isCinema:Hr,isMini:Hr,isTouchDevice:Hr,isTablet:Hr,isSmallDesktop:Hr,isShowHeader:Hr,isDisclaimersVisible:Hr,isShowDisclaimers:Hr,showPoster:Hr,isUserInteracted:Hr,wideMode:Hr,isPlayPauseSwitchingAvailable:Hr}),this.pause=this.pause.bind(this),this.handleFullscreen=this.handleFullscreen.bind(this)}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.set(e),this._fullscreen.screenfullElement=e}get wideMode(){return this._wideMode.get()}set wideMode(e){this._wideMode.set(e)}get playerMode(){var e,t;return this._fullscreen.isFullscreen?"fullscreen":null!==(e=this._pip)&&void 0!==e&&e.isInPiP?"mini":null!==(t=this._cinemaMode)&&void 0!==t&&t.isCinema?"cinema":"default"}get isFullScreen(){return Boolean(this._fullscreen.isFullscreen)}get isCinema(){var e;return Boolean(null===(e=this._cinemaMode)||void 0===e?void 0:e.isCinema)}get isMini(){var e;return Boolean(null===(e=this._pip)||void 0===e?void 0:e.isInPiP)}get onScreen(){return this._onScreen.get()}set onScreen(e){this._onScreen.set(e)}get hasBackButton(){return this._hasBackButton.get()}set hasBackButton(e){this._hasBackButton.set(e)}get showAvatar(){var e;return!this.hideAvatarOnFullScreenForSubscribers&&(jc.isMobile&&this._appearance.showAvatar||!jc.isMobile&&this._appearance.showAvatar&&!(null!==(e=this._channelSubscription)&&void 0!==e&&e.isShowSubscribe))}get hideAvatarOnFullScreenForSubscribers(){var e;return this.isFullScreen&&Boolean(null===(e=this._channelSubscription)||void 0===e?void 0:e.isUserSubscribed)}get availableLogoClick(){return this._appearance.availableLogoClick}get availableTitleClick(){return this._appearance.availableTitleClick&&this._isEmbed}get showTitle(){return this._appearance.showTitle}get showPoster(){return this._showPoster.get()}set showPoster(e){this._showPoster.set(e)}get data(){return this._data}set isPlayPauseSwitchingAvailable(e){this._isPlayPauseSwitchingAvailable.set(e)}get isPlayPauseSwitchingAvailable(){return this._isPlayPauseSwitchingAvailable.get()}init(){return $i((()=>{var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}),(e=>{this.isTouchDevice=jc.isMobile,this.isSmallDesktop=!!e&&e<=480}))}initPoster(){return $i((()=>({isSaveMode:this.saveModePlugin.isSaveMode,hasBeenInteractive:this.saveModePlugin.hasBeenInteracted})),(e=>{let{isSaveMode:t,hasBeenInteractive:n}=e;this.showPoster=!(!t||n)}))}initStats(){return $i((()=>this.playerMode),(e=>{var t;null===(t=this.counterHelper)||void 0===t||t.get("mainPlayerModeChange")("mini"===e?"w_in_w":e)}))}get isTouchDevice(){return this._isTouchDevice.get()}set isTouchDevice(e){this._isTouchDevice.set(e)}get isTablet(){return this._isTablet.get()}set isTablet(e){this._isTablet.set(e)}get isSmallDesktop(){return this._isSmallDesktop.get()}set isSmallDesktop(e){this._isSmallDesktop.set(e)}get authorData(){return this._data.author}get authorUrl(){var e,t;return this._isEmbed?null==this||null===(e=this.trackingLinks)||void 0===e?void 0:e.generateTrackingLink({campaign:"channel_left",type:"channel"}):null===(t=this._data.author)||void 0===t?void 0:t.url}get playback(){return this._playback}get videoUrl(){var e;return this._isEmbed?(null==this||null===(e=this.trackingLinks)||void 0===e?void 0:e.generateTrackingLink({id:String(this.data.video_id),campaign:"title"}))||"":this._data.videoUrl}get title(){return this._data.title}get isPlaying(){return this._playback.isPlaying}get autoPlayWithMute(){return this._playback.autoPlayWithMute}get counterHelper(){return this._counterHelper}set isDisclaimersVisible(e){this._isDisclaimersVisible.set(e)}get isDisclaimersVisible(){return this._isDisclaimersVisible.get()}get isVideo360(){var e;return!(null===(e=this._data.data)||void 0===e||!e.is_spatial)}get isShowDisclaimers(){var e,t;const n=(null===(e=this._preview)||void 0===e?void 0:e.isShowPreview)&&jc.isMobile,r="show"===(null===(t=this._advertPlugin)||void 0===t?void 0:t.currentState);return!this.isMini&&this._playback.wasStarted&&!r&&!this._playback.ended&&!n}get isShowHeader(){return!this._playback.ended&&(this._isEmbed||this._fullscreen.isFullscreen)}get isEmbed(){return this._isEmbed}set isUserInteracted(e){this._isUserInteracted.set(e)}get isUserInteracted(){return this._isUserInteracted.get()}get isInPiP(){var e;return Boolean(null===(e=this._pip)||void 0===e?void 0:e.isInPiP)}get isShowStartScreen(){return!1}get playerSize(){return this._playerSize.size}handleFullscreen(){return this._fullscreen.handleFullscreen()}pause(){this._playback.pause()}get isControlsForcedHidden(){var e;return(null===(e=this._controlsPlugin)||void 0===e?void 0:e.isControlsForcedHidden)||!1}get backgroundStyles(){var e;const t={backgroundColor:"black",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};var n,r;return null!==(e=this._playerSize.size)&&void 0!==e&&e.width&&this._data.poster&&(t.backgroundImage=(n=this._data.poster,r=this._playerSize.size.width,`-webkit-image-set(${[1,1.5,2,3].map((e=>`url("${n}?width=${Math.floor(r*e)}") ${e}x`)).join(", ")})`)),t}},({e:[Mw],c:[Fw,Dw]}=en(Nw,[To({implement:"IVideoLayoutPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"PictureInPicturePlugin",optional:!0},"IPlayerSizePlugin","IAppearancePlugin","IFullscreenPlugin",{implement:"IChannelSubscriptionPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"IStatisticState",optional:!0},"IsEmbed","ISaveModePlugin",{implement:"CinemaModePlugin",optional:!0},{implement:"IControlsPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0}]})],[[Lo(),2,"init"],[Lo(),2,"initPoster"],[Lo(),2,"initStats"]],0,void 0,Oo)),Dw();const Bw=cv(),Hw=e=>{switch(e){case"fullscreen":return"FS";case"mini":return Bw?"F":"M";case"cinema":return"W";default:return"S"}};let Vw=function(e){return e.PLAY="PL",e.STOP="STP",e.REWIND_FORWARD="RWF",e.REWIND_BACKWARD="RWB",e.X_REWIND="XRW",e.REWIND_FROM_CHAPTERS="RWE",e.REWIND_FROM_DESCRIPTION="RWD",e.REWIND_HOTKEY_FRAME="RWH",e.SKIP_TITLES="SKP",e}({});class Uw{constructor(e,t,n){this.__statisticStore=void 0,this.__hbIntervalEvents=[],this.__startTimer=null,this.__scheduledEvent=null,this.__completeInterval=void 0,this.__send=void 0,this.__statisticStore=e,this.__completeInterval=n,this.__send=t}prepareIntervals(){return $i((()=>this.__statisticStore.hbIntervalEvents),(e=>{this.__hbIntervalEvents=e.sort(((e,t)=>e.start-t.start)).reduce(((e,t)=>{if(t.count){const n=[...Array(t.count).keys()].map((()=>Ft({},t)));return e.concat(n)}return e.concat(t)}),[])}))}scheduleNext(){const[e]=this.__hbIntervalEvents;e&&(this.schedule(e,1e3*e.start),e.count>0&&this.__hbIntervalEvents.splice(0,1))}stop(){this.__startTimer&&(clearTimeout(this.__startTimer),this.__startTimer=null)}schedule(e,t){this.__scheduledEvent=e,this.__startTimer&&clearTimeout(this.__startTimer),this.__startTimer=setTimeout((()=>{this.__send(e),this.__startTimer=null,this.__scheduledEvent=null,this.__completeInterval()}),t)}get startTimer(){return this.__startTimer}get scheduledEvent(){return this.__scheduledEvent}}var jw,Ww;let zw,$w,Gw;class Kw extends(jw=Oo){static pushUnique(e,t){e[e.length-1]!==t&&e.push(t)}constructor(e,t,n,r,i){super(),this._playerStore=void zw(this),this.__counterHelper=void 0,this.__statisticWatchTime=void 0,this._hbIntervals=void 0,this.__data=void 0,this._startRanges=[],this._endRanges=[],this._actions=[],this.__volumeChanges=[],this.__playbackRate=[],this.__final=!1,this.__destructionComplete=!1,this.__tvStreamDelta=0,this._playerStore=e,this.__statisticWatchTime=r,this._hbIntervals=new Uw(t,this.send.bind(this),this.completeInterval.bind(this)),this.__counterHelper=n instanceof sl?n.counterHelper:void 0,this.__data=i,this.handleSeek=Vh(this.handleSeek.bind(this),500),this.handleVolumeChange=Vh(this.handleVolumeChange.bind(this),500)}init(){const e=this._hbIntervals.prepareIntervals();this.handlePlaybackRateChange(this._playerStore.playbackRate);const t=(()=>(this.handleVolumeChange(this._playerStore.volume),this.subscribePlaybackEvent(Rd.volumeChange,(e=>this.handleVolumeChange(e)))))(),n=this.subscribePlaybackEvent(Rd.mute,(e=>this.handleVolumeChange(e?0:this._playerStore.volume))),r=this.subscribePlaybackEvent(Rd.playbackRate,this.handlePlaybackRateChange.bind(this)),i=$i((()=>this._playerStore.ended),(e=>{e&&this.lastEventAction!==Vw.STOP&&(this._actions.push(Vw.STOP),this.lastEventAction&&this._endRanges.push(this.currentTime),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime),this.__final=!0)}));return window.addEventListener("beforeunload",this.unloadHandler.bind(this)),()=>[t,n,r,i,e,()=>{this._hbIntervals.stop()},()=>{this.unloadHandler()},()=>{window.removeEventListener("beforeunload",this.unloadHandler.bind(this))}].forEach((e=>e()))}initIsPlayingDisposer(){return this.initIsPlayingDisposerHandler()}initIsPlayingDisposerHandler(){return $i((()=>[this._playerStore.isPlaying,this._playerStore.wasStarted]),(e=>{let[t,n]=e;n&&(t?(this.handlePlay(),null===this._hbIntervals.startTimer&&this._hbIntervals.scheduleNext()):this.handlePause())}))}initSeekDisposer(){return this.initSeekDisposerHandler()}initSeekDisposerHandler(){return this.subscribePlaybackEvent(Rd.seek,(e=>{let{from:t,to:n,source:r}=e;return"skip"===r?this.handleSkipTitles(t,n):this.handleSeek(t,n)}))}handlePlay(){if(this.__data.isTVStream&&0===this.__tvStreamDelta&&(this.__tvStreamDelta=this._playerStore.currentTime),this.lastEventAction!==Vw.PLAY){const e=!this._startRanges.length&&this.currentTime<1?0:this.currentTime;this._startRanges.push(e),this._actions.push(Vw.PLAY)}}handlePause(){this.lastEventAction&&this.lastEventAction!==Vw.STOP&&(this._endRanges.push(this.currentTime),this._actions.push(Vw.STOP),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime))}handleSeek(e,t){this._actions.push(Vw.REWIND_HOTKEY_FRAME),this._playerStore.isPlaying&&this._endRanges.push(e),this._startRanges.push(e||0),this._endRanges.push(t),this._playerStore.isPlaying&&(this._actions.push(Vw.PLAY),this._startRanges.push(t))}handleSkipTitles(e,t){this._actions.push(Vw.SKIP_TITLES),this._startRanges.push(e||0),this._endRanges.push(t),this._playerStore.isPlaying&&(this._actions.push(Vw.PLAY),this._startRanges.push(t))}handleVolumeChange(e){Gw.pushUnique(this.__volumeChanges,e)}handlePlaybackRateChange(e){Gw.pushUnique(this.__playbackRate,e)}send(e){var t;this._endRanges.length<this._startRanges.length&&this._endRanges.push(this.currentTime),null===(t=this.__counterHelper)||void 0===t||t.get("mainIntervalHbIntervalsStat")({urlTemplate:e.url_template,delay:e.delay,count:e.count,start:e.start})}completeInterval(){this.clearRanges(),this._playerStore.isPlaying&&(this._startRanges.push(this.currentTime),this._actions.push(Vw.PLAY),this._hbIntervals.scheduleNext())}clearRanges(){this._startRanges=[],this._actions=[],this._endRanges=[],this.__volumeChanges=this.__volumeChanges.slice(-1),this.__playbackRate=this.__playbackRate.slice(-1)}unloadHandler(){this.__destructionComplete||(this.__final=!0,this._hbIntervals.scheduledEvent&&this.send(this._hbIntervals.scheduledEvent),this.lastEventAction!==Vw.STOP&&(this._actions.push(Vw.STOP),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime)),this.__destructionComplete=!0)}get lastStartRange(){if(!this._startRanges.length)return"";const[e]=this._startRanges.slice(-1);return Math.floor(1e3*e).toString()}get startRanges(){return this._startRanges.map((e=>Math.floor(1e3*e))).join(",")}get lastEndRange(){if(!this._endRanges.length)return"";const[e]=this._endRanges.slice(-1);return Math.floor(1e3*e).toString()}get endRanges(){return this._endRanges.map((e=>Math.floor(1e3*e))).join(",")}get lastEventAction(){const[e]=this._actions.slice(-1);return e}get eventActionsRange(){return this._actions.join(",")}get volumeChanges(){return this.__volumeChanges.map((e=>Math.floor(100*e))).join(",")}get playbackRate(){return this.__playbackRate.join(",")}get watchTime(){return String(Math.round(this.__statisticWatchTime.watchTime/1e3))}get tenSecPassed(){return this.__statisticWatchTime.tenSecPassed}set final(e){this.__final=e}get final(){return this.__final}subscribePlaybackEvent(e,t){return this._playerStore.on(e,t),()=>{this._playerStore.off(e,t)}}get currentTime(){return 0!==this.__tvStreamDelta?this._playerStore.currentTime-this.__tvStreamDelta:this._playerStore.currentTime}}Ww=Kw,({e:[zw],c:[Gw,$w]}=en(Ww,[To({implement:"IStatisticAggregatorPlugin",ctor_args:["IPlayback","IStatisticStore","IStatisticState","IStatisticWatchTimePlugin","IDataPlugin"]})],[[Lo(),2,"init"],[Lo(),2,"initIsPlayingDisposer"],[Lo(),2,"initSeekDisposer"]],0,void 0,jw)),$w();const qw={144:"144p",240:"240p",360:"360p",480:"480p",720:"720p",1080:"1080p",1440:"1440p",2160:"2160p"},Yw="auto",Qw=["144p","240p","360p","480p","720p","1080p","1440p","2160p"];var Zw,Xw;let Jw,eS,tS,nS;new(Xw=class extends Gw{constructor(e,t,n,r,i,a,o,s,l,u,c){super(e,t,n,r,s),this.__qualityValues=(Jw(this),[]),this.__playerModes=[],this.__captionLanguages=[],this.__isAutoQualityInited=!1,this.__videoLayout=void 0,this.__captions=void 0,this.__longPressSeekPlugin=void 0,this.__videoCounterHelper=void 0,this._statistic=n,this._statisticWatchTime=r,this._qualitiesPlugin=l,this._advert=u,this._config=c,this.__videoLayout=i,this.__captions=a,this.__longPressSeekPlugin=o,this.__videoCounterHelper=n&&n instanceof Mv?n.counterHelper:void 0}initPlugin(){Gw.pushUnique(this.__playerModes,Hw(this.__videoLayout.playerMode)),this.handleCaptionsLanguageChange(this.__captions.captionLanguage,this.__captions.isShowCaptions);const e=$i((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>{var e,t;this._endRanges.length<this._startRanges.length&&this._endRanges.push(this.currentTime),null===(e=this.__videoCounterHelper)||void 0===e||e.get("mainStatusUnload")(),this._hbIntervals.scheduledEvent&&(this.final=!0,this.send(this._hbIntervals.scheduledEvent),this.clearRanges(),this._hbIntervals.stop(),this.final=!1),null===(t=this._statistic)||void 0===t||t.refreshLoadedTimeStamp(),this._statisticWatchTime.resetWatchTime(),this.__isAutoQualityInited=!1})),t=$i((()=>({activeQualityValue:this._qualitiesPlugin.activeQualityValue,activeQualityIndex:this._qualitiesPlugin.activeQualityIndex,isAutoQuality:this._qualitiesPlugin.autoQuality})),(e=>{let{activeQualityValue:t,activeQualityIndex:n,isAutoQuality:r}=e;!this.__isAutoQualityInited&&n&&(this.__qualityValues=[r?Yw:t],this.__isAutoQualityInited=!0)})),n=$i((()=>this._qualitiesPlugin.manuallySettedQuality),(e=>{e&&Gw.pushUnique(this.__qualityValues,e)})),r=$i((()=>this.__videoLayout.playerMode),(e=>{Gw.pushUnique(this.__playerModes,Hw(e))})),i=$i((()=>({captionLanguage:this.__captions.captionLanguage,isShowCaptions:this.__captions.isShowCaptions})),(e=>{let{captionLanguage:t,isShowCaptions:n}=e;this.handleCaptionsLanguageChange(t,n)})),a=$i((()=>this.__longPressSeekPlugin.longPressStat),(e=>{this.handleLongPressSeek(e)})),o=[];return o.push(e,n,r,i,a,t),()=>{var e;null===(e=this.__videoCounterHelper)||void 0===e||e.get("mainStatusUnload")(),o.forEach((e=>e()))}}clearRanges(){super.clearRanges(),this.__qualityValues=this.__qualityValues.slice(-1),this.__playerModes=this.__playerModes.slice(-1),this.__captionLanguages=this.__captionLanguages.slice(-1)}handleCaptionsLanguageChange(e,t){const n=t?e:"0";Gw.pushUnique(this.__captionLanguages,n)}handleLongPressSeek(e){e?(this._playerStore.isPlaying&&this._endRanges.push(this._playerStore.currentTime),this._actions.push(Vw.X_REWIND),this._startRanges.push(this._playerStore.currentTime)):(this._endRanges.push(this._playerStore.currentTime),this._actions.push(Vw.PLAY),this._startRanges.push(this._playerStore.currentTime))}get qualityValues(){return this.__qualityValues.join(",")}get playerModes(){return this.__playerModes.join(",")}get captionLanguages(){return this.__captionLanguages.join(",")}initSeekDisposerHandler(){return this.subscribePlaybackEvent(Rd.seek,(e=>{let{from:t,to:n,source:r}=e;return this.handleSeek(t,n,r)}))}handleSeek(e,t,n){n?this._actions.push(nS.ACTION_MAP[n]):t>e?this._actions.push(Vw.REWIND_FORWARD):this._actions.push(Vw.REWIND_BACKWARD),this._playerStore.isPlaying&&this._endRanges.push(e),this._startRanges.push(e||0),this._endRanges.push(t),this._playerStore.isPlaying&&(this._actions.push(Vw.PLAY),this._startRanges.push(t))}initIsPlayingDisposerHandler(){return $i((()=>{var e;return{isPlaying:this._playerStore.isPlaying,wasStarted:this._playerStore.wasStarted,advert:null===(e=this._advert)||void 0===e?void 0:e.currentAdvert}}),(e=>{let{isPlaying:t,wasStarted:n,advert:r}=e;n&&!r&&(t?(this.handlePlay(),null===this._hbIntervals.startTimer&&this._hbIntervals.scheduleNext()):this.handlePause())}))}},({e:[Jw],c:[nS,eS]}=en(Xw,[To({implement:"IStatisticAggregatorPlugin",ctor_args:["IPlayback","IStatisticStore","IStatisticState","IStatisticWatchTimePlugin","IVideoLayoutPlugin","ICaptionsPlugin","ILongPressSeekPlugin","IDataPlugin","IQualitiesPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0}]})],[[Lo(),2,"initPlugin"]],0,void 0,Gw)),tS=Xw,(Zw=class extends jo{constructor(){super(nS),this.ACTION_MAP={chapters:Vw.REWIND_FROM_CHAPTERS,description:Vw.REWIND_FROM_DESCRIPTION,hotkey:Vw.REWIND_HOTKEY_FRAME,skip:Vw.SKIP_TITLES},eS()}})[tS]=void 0,Zw);const rS=e=>{const t=e("IStatisticAggregatorPlugin");return t instanceof nS?t:null},iS=[{names:["{{screen_size}}"],cyclic:{selector:e=>{var t;return(null===(t=rS(e))||void 0===t?void 0:t.playerModes)||""}},selector:e=>document.pictureInPictureElement?"P":Hw(Py(e).playerMode)},{names:["{{screen_mode}}"],selector:e=>String(Py(e).playerMode)},{names:["{{player_size}}"],selector:e=>{return(t=e,t("IPlayerSizePlugin")).sizeIdForStats||"";var t}}],aS=lc((e=>{let{className:t,margin:n}=e;const{playback:r,data:i,counterHelper:a,setIsProgressBarClicked:o,tempTime:s,setTempTime:l}=zm(),{duration:u,progress:c,currentTime:d,isOutdated:h,isTvStream:p}=r,{isLive:v,isDVR:m}=i,{wrapperRef:f}=Ay(),_=(0,st.useRef)(null),g=(0,st.useRef)(null),y=(0,st.useMemo)((()=>{let e=0;return e=!v||h||s?null!==s?s/u*100:c:100,Math.min(e,100)}),[s,u,c,v,h]),b=(0,st.useRef)(!1),E=(0,st.useCallback)((e=>{b.current=e,o(e)}),[o]),w=(0,st.useCallback)((e=>{if(e.preventDefault(),!b.current)return;const t=Jg(e,g),n=Math.floor(u*t*10)/1e3;l(n)}),[u,l]),S=(0,st.useCallback)((()=>{var e;p||(b.current&&"number"==typeof s&&(r.seek(s),r.wasStarted&&l(null),null==a||a.get("mainContentPlaybackSeek")()),E(!1),null===(e=document)||void 0===e||e.removeEventListener("mousemove",w),null==f||f.removeEventListener("touchmove",w))}),[p,E,w,f,s,r,l,a]);return(0,st.useEffect)((()=>{var e;return null===(e=document)||void 0===e||e.addEventListener("mouseup",S),()=>{var e;null===(e=document)||void 0===e||e.removeEventListener("mouseup",S)}}),[S]),(0,st.useEffect)((()=>{if(!_.current)return;const e=_.current,t=e=>{var t;e.preventDefault(),e.stopPropagation(),E(!0),w(e),null===(t=document)||void 0===t||t.addEventListener("mousemove",w)},n=e=>{e.stopPropagation(),E(!0),w(e),null==f||f.addEventListener("touchmove",w)};return e.addEventListener("mousedown",t),e.addEventListener("touchstart",n),()=>{e.removeEventListener("mousedown",t),e.removeEventListener("touchstart",n)}}),[S,E,w,f]),st.createElement("div",ll({ref:_,className:t,tabIndex:0,role:"slider","aria-label":"Ползунок временной шкалы","aria-valuemin":0,"aria-valuemax":Math.floor(u),"aria-valuenow":Math.floor(d),"aria-valuetext":`${Zg(d)} (общая длительность ${Zg(u)})`,onMouseUp:S,onTouchEnd:S,style:{margin:n}},jf),st.createElement(ky,{progress:y,barRef:g,isTouchable:!(v&&!m)}))})),oS="time-block-module__time___U2oUw",sS="time-block-module__hidden___lrRzJ",lS="time-block-module__currentTime___yvJci",uS="time-block-module__duration___nlCmg",cS="time-block-module__separator___Gl5id",dS=lc((e=>{let{children:t}=e;const n=zm(),{tempTime:r,isTimeHidden:i}=n,{currentTime:a,duration:o}=n.playback;return st.createElement("div",{className:cl()(oS,{[sS]:i})},st.createElement("div",{className:lS},Xg({value:r||a})),st.createElement("div",{className:cS},"/"),st.createElement("div",{className:uS},Xg({value:o})),t)})),hS="tv-time-block-module__time___PiSWt",pS="tv-time-block-module__hidden___JpYeK",vS="tv-time-block-module__currentTime___U4pO3",mS=lc((()=>{const{tvSchedule:e,playback:t,isTimeHidden:n}=zm(),r=(0,st.useRef)(0);if((0,st.useEffect)((()=>{r.current=(e=>{const t=sg(e);return null!=t&&t.stop?1e3*t.stop-Date.now():0})(t.tvSchedule)}),[t.duration,e,t.tvSchedule]),e&&r.current&&t.isPlaying)return st.createElement("div",{className:cl()(hS,{[pS]:n}),"aria-label":`Ещё ${lg(r.current)}`},st.createElement("span",{className:vS},"Ещё ",lg(r.current)))})),fS="raichu-progress-bar-module__progressBar___Bf90v",_S="raichu-progress-bar-module__progressBarThumb___QebiO",gS="raichu-progress-bar-module__progressBarBefore____vUf8",yS="raichu-progress-bar-module__progressBarClickArea___TAMzG",bS=e=>{let{value:t,background:n,barRef:r,margin:i,fullWidth:a=!1,isTouchable:o=!0,color:s="rgba(246, 246, 246, 0.3)",onProgressMove:l,handleProgressBarClick:u,buffered:c=0}=e;return st.createElement("div",ll({"data-testid":"ui-progress",className:fS,style:{width:a?"100%":"initial",background:s,margin:null!=i?i:"0 12px 0 12px"},ref:r,onClick:u},jf),st.createElement("div",{className:yS,onMouseDown:l,onTouchStart:l,onTouchMove:l}),st.createElement("div",{className:gS,style:{width:`${t}%`,background:n}}),st.createElement("div",{className:gS,style:{width:`${c}%`,background:n,opacity:"0.3"}}),o&&st.createElement("div",{className:_S,style:{left:`calc(${t}% - 6px)`,background:n},onMouseDown:l,onTouchStart:l,onTouchMove:l}))},ES="volume-controls-module__wrapperControlsVolume___btD1C",wS="volume-controls-module__wrapperControlsVolumeBtn___losUF",SS="volume-controls-module__volumeProgress___vNN6o",CS="volume-controls-module__volumeProgressVisible___BubfS",kS=lc((e=>{let{size:t,panelRef:n}=e;const r=!!Ak(),{color:i}=If(),[a,o]=(0,st.useState)(!1),{playback:s,setIsVolumeShow:l,isVolumeShow:u}=zm(),{isTouchDevice:c}=Ay(),{muted:d,volume:h}=s,p=(0,st.useRef)(null),v=e=>{if(a){const t=Jg(e.nativeEvent,p,"horizontal");s.handleVolume(t)}},m=(0,st.useCallback)((()=>o(!0)),[]),f=(0,st.useCallback)((()=>d||0===h?st.createElement(Wd,null):st.createElement(jd,{low:h<=.5})),[d,h]);(0,st.useEffect)((()=>{if(!n)return;const e=()=>o(!1),t=()=>{o(!1),l(!1)};return n.addEventListener("mouseup",e),n.addEventListener("mouseleave",t),()=>{n.removeEventListener("mouseup",e),n.removeEventListener("mouseleave",t)}}),[n,l]);const _=()=>l(!0);return st.createElement("div",{className:ES,onPointerDown:jc.isMobile?void 0:m,onPointerMove:jc.isMobile?void 0:v,"data-testid":"ui-volume"},st.createElement("div",null,st.createElement(Xf,{tabIndex:0,role:"button",color:"white",className:wS,icon:f,onClick:e=>{e.stopPropagation(),s.isInfoPrevented=!1,s.handleMuted()},"aria-label":k_(!d&&h>0?"Убрать звук":"Включить звук","M",!0)+" ",onPointerEnter:_,onFocus:()=>{var e;c||u||(_(),null===(e=document.getElementById(M_.VOLUME_BAR))||void 0===e||e.focus({preventScroll:!0}))},onPointerDown:e=>e.stopPropagation(),tooltipTitle:!d&&h>0?kt.VolumeOff:kt.VolumeOn,tooltipPlacement:"top",tooltipZIndex:kt.ControlsTooltipZIndex,size:t})),!c&&st.createElement("div",{tabIndex:0,id:M_.VOLUME_BAR,role:"slider","aria-label":"Ползунок громкости","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":d?0:Math.floor(100*h),"aria-valuetext":`${d?0:Math.floor(100*h)}%${d?" (Звук отключён)":""}`,className:cl()(SS,{[CS]:u}),onClick:e=>{if(p.current){const t=Jg(e.nativeEvent,p,"horizontal");s.handleVolume(t)}}},st.createElement(bS,{value:d?0:100*h,background:r&&i?i:"var(--pen-accent)",fullWidth:!0,barRef:p,onProgressMove:v,margin:"0 12px 0 0"})))})),AS=["played","ended","live","isAudio","tooltipDisabled"],PS=e=>{let{played:t=!1,ended:n=!1,live:r=!1,isAudio:i=!1,tooltipDisabled:a=!1}=e,o=bp(e,AS),s=Fd,l=kt.Play,u="Воспроизвести";return!r&&t?(s=Bd,u="Приостановить",l=kt.Pause):r&&t&&(s=Hd,u="Остановить",l=kt.Stop),!r&&n&&(s=Kc,u="Повторить",l=i?kt.RepeatAudio:kt.Repeat),st.createElement(Xf,ll({tabIndex:0,"data-testid":"ui-play","aria-label":k_(u,"K",!0)},o,{tooltipTitle:a?void 0:l,tooltipZIndex:kt.ControlsTooltipZIndex,icon:s}))},IS=e=>st.createElement(Vg,ll({classNames:"raichu-fade"},e),e.children),TS=e=>{let{color:t="white"}=e;return st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},st.createElement("path",{fill:t,fillRule:"evenodd",d:"M4.43 12.24c.03.07.07.14.13.2l5 5a.62.62 0 1 0 .88-.88L6.5 12.62H19a.62.62 0 1 0 0-1.24H6.5l3.94-3.94a.62.62 0 1 0-.88-.88l-5 5a.62.62 0 0 0-.13.68Z",clipRule:"evenodd"}))},RS=e=>{let{color:t="white"}=e;return st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},st.createElement("path",{fill:t,fillRule:"evenodd",d:"M19.57 12.24a.62.62 0 0 1-.13.2l-5 5a.62.62 0 1 1-.88-.88l3.94-3.94H5a.62.62 0 1 1 0-1.24h12.5l-3.94-3.94a.62.62 0 0 1 .88-.88l5 5a.62.62 0 0 1 .13.68Z",clipRule:"evenodd"}))},xS="pause-screen-recommendations-wrapper-module__pauseRecsList___zSHHs",LS="pause-screen-recommendations-wrapper-module__pauseRec___hx2Tr",OS=e=>{let{count:t,loading:n,mode:r="grid",width:i,titleRows:a,descriptionRows:o,className:s}=e;const l=Array.from(Array(t).keys());return st.createElement(st.Fragment,null,l.map((e=>st.createElement("div",{key:e,className:cl()(LE,GE,s,{[OE]:"grid"===r,[ME]:"vertical_list"===r,[KE]:n}),style:{minWidth:i,"--rec-title-rows":a,"--rec-description-rows":o}},st.createElement("div",{className:DE},st.createElement("div",{className:IE},st.createElement("div",{className:TE},"grid"===r&&st.createElement("div",{className:BE},st.createElement("div",{className:VE}),st.createElement("div",{className:UE}))))),"grid"!==r&&st.createElement("div",{className:cl()(BE,{[HE]:"horizontal_list"===r,[ME]:"vertical_list"===r})},st.createElement("div",{className:VE}),st.createElement("div",{className:UE}))))))},NS=lc((()=>{const e=(0,st.useRef)(null),t=uC.usePauseScreen(),{items:n,visible:r,config:{perPage:i},onClick:a,fixFocus:o}=t,{viewedItems:s}=ZE({wrapper:e,items:n,enabled:r,options:{rootMargin:"100%"}});return st.createElement("div",{className:xS,ref:n=>{n&&(t.wrapperRef=n,e.current=n)}},n.map(((e,t)=>st.createElement(QE,{key:e.id,id:e.id,title:e.title,thumbnailUrl:e.thumbnail_url,age:e.pg_rating.age,duration:Xg({value:e.duration}),isLiveStream:e.is_livestream,hidden:!s[e.id],mode:"horizontal_list",width:`${(100/i).toFixed(2)}%`,className:LS,onClick:()=>a(e,t+1),onFocus:()=>o(t)}))))})),MS="paused-covers-module__pausedCoversWrapper___atFzB",DS="paused-covers-module__pausedCover___XPPNg",FS=(0,st.memo)((e=>{let{items:t}=e;const[n,r]=t;return null!=n&&n.thumbnail_url&&null!=r&&r.thumbnail_url?st.createElement("div",{className:MS},st.createElement("img",{className:`${DS}`,src:n.thumbnail_url,alt:n.title,loading:"lazy"}),st.createElement("img",{className:`${DS}`,src:r.thumbnail_url,alt:r.title,loading:"lazy"})):null})),BS="pause-screen-module__pauseRecsBlock___jF1A4",HS="pause-screen-module__pauseRecs___D0t7J",VS="pause-screen-module__isVisible___c4VzA",US="pause-screen-module__pauseRecsInner___e1YuQ",jS="pause-screen-module__barActive___eZ9cN",WS="pause-screen-module__pauseRecsTitle___nfXi1",zS="pause-screen-module__pauseRecsWrapper___FalyM",$S="pause-screen-module__pauseRecsControl___jDduz",GS="pause-screen-module__pauseRecsButton___LmkKP",KS="pause-screen-module__pauseRecsPrev___WbvvF",qS="pause-screen-module__pauseRecsNext___wtWgk",YS="pause-screen-module__buttonClose____DPSm",QS="pause-screen-module__buttonShow___UPNzK",ZS="pause-screen-module__hidden___KiFYk",XS="text-button-module__textButton___dknPs",JS=["children","className"],eC=e=>{let{children:t,className:n}=e,r=bp(e,JS);return st.createElement("button",ll({className:cl()(XS,n)},r),t)},tC=lc((()=>{const e=(0,st.useRef)(null),t=uC.usePauseScreen(),{items:n,page:r,pagesTotal:i,imageHeight:a,moreRecommendationClick:o,allowed:s,visible:l,show:u,hide:c,isBarActive:d,available:h}=t;return s?st.createElement("div",{className:BS},h&&st.createElement(eC,{className:cl()(QS,{[ZS]:l}),onClick:()=>{var e;null===(e=t.counterHelper)||void 0===e||e.get("mainRecommendationButtonClick")(),u(!0)},"aria-label":"Показать рекомендации","aria-haspopup":"true","aria-controls":"raichuPauseRecs","aria-expanded":l,"data-testid":"recommendations-btn"},st.createElement(FS,{items:n}),"Рекомендации"),st.createElement(IS,{appear:!0,in:l,nodeRef:e,timeout:150,unmountOnExit:!0},st.createElement("div",{id:"raichuPauseRecs","data-testid":"recommendations-list",className:cl()(HS,{[VS]:l}),"aria-label":"Рекомендации",ref:e},st.createElement("div",{className:cl()(US,{[jS]:d})},st.createElement("div",{className:WS},"Рекомендации"),st.createElement(Xf,{className:YS,icon:Ub,onClick:()=>c(!0),"aria-label":"Закрыть рекомендации","data-testid":"recommendations-close-btn"}),st.createElement("div",{className:zS},st.createElement("div",{className:cl()($S,KS),style:{height:`${a}px`}},r>1&&st.createElement("button",{"data-testid":"recommendations-left-arrow-btn","aria-hidden":"true",className:GS,onClick:()=>o("left",!0)},st.createElement(TS,null))),st.createElement(NS,null),st.createElement("div",{className:cl()($S,qS),style:{height:`${a}px`}},r<i&&st.createElement("button",{"data-testid":"recommendations-right-arrow-btn","aria-hidden":"true",className:GS,onClick:()=>o("right",!0)},st.createElement(RS,null)))))))):null})),nC={perPage:0,total:0},rC={xxs:{perPage:1,total:5},xs:{perPage:3,total:18},sm:{perPage:4,total:16},md:{perPage:4,total:16},lg:{perPage:6,total:18},xlg:{perPage:8,total:16}};var iC,aC;let oC,sC,lC,uC;new(aC=class extends Oo{constructor(e,t,n,r,i,a,o,s,l,u,c,d){super(),this._wrapperRef=(oC(this),Mr.box(null)),this._config=Mr.box({perPage:0,total:0}),this._imageHeight=Mr.box(0),this._page=Mr.box(1),this._items=Mr.box([]),this._allowed=Mr.box(!1),this._isEmbed=Mr.box(!1),this._visible=Mr.box(!1),this._hiddenByDefault=Mr.box(!1),this.counterHelper=void 0,this.advert=void 0,this.moreRecommendationClick=(e,t)=>{this.changePage(e),this.show(t)},this.changePage=e=>{this.page="left"===e?this.page-1:this.page+1,this.scrollTo(this.page)},this.fixFocus=e=>{const t=e+1,n=this.page*this.config.perPage;t>n&&this.changePage("right");t<n-this.config.perPage&&this.changePage("left")},this.show=e=>{var t,n,r;e?(this.hiddenByDefault=!1,null===(n=this.counterHelper)||void 0===n||n.get("mainPauseScreenAction")({action:"show_rec"})):null===(r=this.counterHelper)||void 0===r||r.get("mainPauseScreenAction")({action:"show",list_of_cards:this.items.map(((e,t)=>({title:e.title,url:e.video_url,position:(t+1).toString()})))});null===(t=this.counterHelper)||void 0===t||t.get("mainPauseScreenShow")(),this.visible=!0},this.hide=e=>{var t,n;e&&(this.hiddenByDefault=!0,null===(t=this.counterHelper)||void 0===t||t.get("mainPauseScreenAction")({action:"hide_rec"}),null===(n=this.counterHelper)||void 0===n||n.get("mainRecommendationButtonShow")());this.visible=!1,this.scrollTo(1,!1)},this.onClick=(e,t)=>{var n,r;null===(n=this.counterHelper)||void 0===n||n.get("mainPauseScreenAction")({action:"click",clicked_url:e.video_url,position:t.toString()}),null===(r=this.counterHelper)||void 0===r||r.get("mainPauseScreenClick")(),this.isEmbed?window.open(this.trackingLinks.generateTrackingLink({id:String(e.id),campaign:"pausescreen"})):Fp.emit(Nh.RECOMMENDED_VIDEO,{video:e})},this._playerSize=t,this._playback=n,this.endScreen=r,this._watchTime=i,this._data=a,this._controls=o,this._replayWidget=s,this._preview=l,this.trackingLinks=d,this.counterHelper=u&&u instanceof Mv?u.counterHelper:void 0,this.hiddenByDefault="1"===de(Rh),this.advert=c,this.isEmbed=e.value,Ca(this,{wrapperRef:Hr,config:Hr,items:Hr,imageHeight:Hr,page:Hr,pagesTotal:Hr,fixFocus:Bi,allowed:Hr,visible:Hr,show:Bi,hide:Bi,onClick:Bi,available:Hr})}init(){const e=[];return e.push($i((()=>({sizeId:this._playerSize.sizeId,items:this.endScreen.recommendations})),(e=>{let{sizeId:t,items:n}=e;this.config=t?rC[t]:nC,this.items=n.slice(0,this.config.total).map((e=>e.video)),this.page>this.pagesTotal&&this.scrollTo(this.pagesTotal,!1)}))),e.push($i((()=>{var e;return{layoutWidth:null===(e=this._playerSize.size)||void 0===e?void 0:e.width,wrapper:this.wrapperRef,visible:this.visible}}),(e=>{let{wrapper:t,visible:n}=e;n&&setTimeout((()=>{const e=null==t?void 0:t.clientWidth;e&&(this.imageHeight=Math.round((e/this.config.perPage-16)/Oh));const n=this.pagesTotal<this.page?this.pagesTotal:this.page;n!==this.page&&(this.page=n),this.scrollTo(n,!1)}))}))),e.push($i((()=>({wasStarted:this._playback.wasStarted,isLive:this._data.isLive,isPauseScreenAvailable:this._watchTime.isPauseScreenAvailable,items:this.endScreen.recommendations,isShowingReplyWidget:this.isShowingReplyWidget,endScreenVisible:this.endScreen.visible,config:this.config})),(e=>{let{wasStarted:t,isPauseScreenAvailable:n,items:r,isLive:i,isShowingReplyWidget:a,endScreenVisible:o,config:s}=e;this.allowed=t&&!(this._isEmbed&&i)&&n&&r.length>0&&!a&&!o&&s.perPage>0}))),e.push($i((()=>({available:this.available})),(e=>{let{available:t}=e;if(this.allowed&&!jc.isMobile)if(!t&&this.visible)this.hide(!1);else if(t){var n,r;if(this.visible)return;if("show"===(null===(n=this.advert)||void 0===n?void 0:n.currentState))return;if(this.hiddenByDefault)null===(r=this.counterHelper)||void 0===r||r.get("mainRecommendationButtonShow")();else this.show(!1)}}))),()=>e.forEach((e=>e()))}get isEmbed(){return this._isEmbed.get()}set isEmbed(e){this._isEmbed.set(e)}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.get()!==e&&this._wrapperRef.set(e)}get config(){return this._config.get()}set config(e){this._config.set(e)}get items(){return this._items.get()}set items(e){this._items.set(e)}get imageHeight(){return this._imageHeight.get()}set imageHeight(e){this._imageHeight.set(e)}get page(){return this._page.get()}set page(e){this._page.set(e)}get allowed(){return this._allowed.get()}set allowed(e){this._allowed.set(e)}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get hiddenByDefault(){return this._hiddenByDefault.get()}set hiddenByDefault(e){he(Rh,e?"1":""),this._hiddenByDefault.set(e)}get pagesTotal(){return this.config.perPage&&this.items.length?Math.ceil(this.items.length/this.config.perPage):1}get playback(){return this._playback}get isShowingReplyWidget(){var e,t;return Boolean((null===(e=this._replayWidget)||void 0===e?void 0:e.isReplayWidgetAvailable)&&!(null!==(t=this._replayWidget)&&void 0!==t&&t.isReplayWidgetAlreadyShowed))}get isBarActive(){var e,t;return Boolean((null===(e=this._preview)||void 0===e?void 0:e.isAllowedToShowPreview)&&null!==(null===(t=this._preview)||void 0===t?void 0:t.previewPosition)&&!jc.isMobile)}get available(){return!this._playback.isPlaying&&(!this._playback.waiting||this._playback.paused)&&this._controls.isShowControls}scrollTo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.wrapperRef){const n=this.wrapperRef.clientWidth;this.wrapperRef.scrollTo({top:0,left:n*(e-1),behavior:t?"smooth":"auto"})}}},({e:[oC],c:[uC,sC]}=en(aC,[To({implement:"IPauseScreenPlugin",ctor_args:["IsEmbed","IPlayerSizePlugin","IPlayback","IEndScreenPlugin","IStatisticWatchTimePlugin","IDataPlugin","IControlsPlugin",{implement:"ReplayWidgetPlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0}]})],[[Lo(),2,"init"]],0,void 0,Oo)),lC=aC,(iC=class extends jo{constructor(){super(uC),this.PauseScreen=tC,this.usePauseScreen=()=>Rc("IPauseScreenPlugin"),this.usePauseScreenOptional=()=>xc("IPauseScreenPlugin"),this.getPauseScreen=e=>e("IPauseScreenPlugin"),sC()}})[lC]=void 0,iC);const cC="buttons-block-module__btn___vnXoe",dC=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M16.43 6v12",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M7 18V6l8.57 6L7 18Z",fill:t,stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("rect",{x:"15",y:"5",width:"2",height:"14",rx:"1",fill:t}))},hC="video-preview-module__wrapper___gcX6w",pC="video-preview-module__tooltip___sLchn",vC="video-preview-module__tooltipInner___ld9jE",mC="video-preview-module__tooltipImg___aY1OK",fC="video-preview-module__tooltipDesc___UFg3E",_C="video-preview-module__tooltipTitle___InxZF",gC="video-preview-module__tooltipVideoTitle___Gcl3A",yC=e=>{let{video:t,tooltipHidden:n,children:r,tooltipTitle:i}=e;return null!=t&&t.id?st.createElement("div",{className:hC},r,!n&&st.createElement("div",{className:pC},st.createElement("div",{className:vC},st.createElement("div",{className:mC},st.createElement("img",{src:t.thumbnail_url,alt:t.title})),st.createElement("div",{className:fC},st.createElement("div",{className:_C},i),st.createElement("div",{className:gC},t.title))))):st.createElement(st.Fragment,null,r)};var bC,EC;let wC,SC,CC;new(EC=class extends Oo{constructor(e,t,n){super(),this.counterHelper=void 0,this._endScreen=e,this._advert=n,this.counterHelper=t&&t instanceof Mv?t.counterHelper:void 0,Ca(this,{nextVideo:Hr,onClick:Bi})}onClick(){var e,t;!this.nextVideo||null!==(e=this._advert)&&void 0!==e&&e.isPlaying||(null===(t=this.counterHelper)||void 0===t||t.get("mainNextVideoClick")({next_video_id:this.nextVideo.id,clicked_url:this.nextVideo.video_url}),Fp.emit(Nh.NEXT_VIDEO,{video:this.nextVideo}))}get nextVideo(){var e;return(null===(e=this._endScreen)||void 0===e?void 0:e.nextVideo)||null}},[CC,wC]=en(EC,[To({implement:"INextVideoPlugin",ctor_args:["IEndScreenPlugin",{implement:"IStatisticState",optional:!0},{implement:"IAdvertPlugin",optional:!0}]})],[],0,void 0,Oo).c,SC=EC,(bC=class extends jo{constructor(){super(CC),this.useNextVideo=()=>Rc("INextVideoPlugin"),this.useNextVideoOptional=()=>xc("INextVideoPlugin"),this.getNextVideo=e=>e("INextVideoPlugin"),wC()}})[SC]=void 0,bC);const kC=()=>Rc("IPlaylistPlugin"),AC=lc((e=>{let{previewTooltipHidden:t,tooltipTitle:n,size:r}=e;const i=kC(),a=CC.useNextVideoOptional(),{nextVideo:o,isShowPlaylistButtons:s,onClickNext:l}=i||{},{isLive:u}=Ym();if(!a)return null;const{nextVideo:c,onClick:d}=a,h=!u&&Boolean(o||c);if(!s&&!h)return null;const p=s?o:c,v=s?l&&l.bind(i):d.bind(a),m=s&&(!c||!o);return st.createElement("div",{className:cC},st.createElement(yC,{video:p,tooltipHidden:t||!p,tooltipTitle:kt.NextVideo},st.createElement(Xf,{"data-testid":"ui-next-video",tabIndex:0,role:"button","aria-label":"Переключить на следующее видео (сочетание клавиш Shift+N)",icon:dC,onClick:v,disabled:m,tooltipPlacement:"top",tooltipTitle:n,style:{position:"relative"},size:r})))})),PC=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M7 6v12",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("path",{d:"M16.43 18V6l-8.57 6 8.57 6Z",fill:t,stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("rect",{x:"6",y:"5",width:"2",height:"14",rx:"1",fill:t}))},IC=lc((e=>{let{previewTooltipHidden:t,tooltipTitle:n,size:r}=e;const i=kC(),{prevVideo:a,isShowPlaylistButtons:o,onClickPrev:s}=i;return o?st.createElement("div",{className:cC},st.createElement(yC,{video:a,tooltipHidden:t||!a,tooltipTitle:kt.PrevVideo},st.createElement(Xf,{size:r,"data-testid":"ui-prev-video",action:"prevPlaylistVideo",tabIndex:0,role:"button","aria-label":"Переключить на предыдущее видео (сочетание клавиш Shift+P)",icon:PC,onClick:s.bind(i),disabled:!a,tooltipPlacement:"top",tooltipTitle:n,style:{position:"relative"}}))):null})),TC=lc((()=>{const{isSmallDesktop:e}=Ay(),t=zm(),n=(()=>{const e=Tc().resolve("IStatisticState");return e instanceof sl?e:null})(),{data:r,playback:i,needToHideTooltips:a,isEmbed:o,isFullScreen:s}=t,{isLive:l,isTVStream:u}=r,{isPlaying:c,ended:d}=i,h=!(l||jc.isMobile||e||o),{visible:p}=cw.useEndScreenOptional()||{},{visible:v}=uC.usePauseScreenOptional()||{},m=p||v,f=s?"XXL":"XL";return st.createElement("div",{style:{display:"flex"}},h&&st.createElement(IC,{previewTooltipHidden:m||a,tooltipTitle:m&&kt.PrevVideo,size:f}),!u&&!e&&st.createElement("div",{className:cC},st.createElement(Xf,{"data-testid":"ui-prev-10sec",color:"white",icon:Ud,onClick:()=>{null==t||t.handleSeek("back")},tooltipTitle:kt.PrevSeek,tooltipPlacement:"top-start",tooltipHidden:a,"aria-label":k_("Отмотать на 10 секунд назад","J"),tabIndex:0,size:f,role:"button"})),st.createElement("div",{className:cC},st.createElement(PS,{id:M_.PLAY_BUTTON,played:c,live:u,color:"white",ended:d,onClick:()=>{c?i.pause():(d&&(null==n||n.incrementViewCount(),i.isStatStartSent=!1),i.play(),r.isTVStream&&i.goLive())},tooltipPlacement:"top",tooltipHidden:a,tabIndex:0,role:"button",size:f})),!u&&!e&&st.createElement("div",{className:cC},st.createElement(Xf,{"data-testid":"ui-next-10sec",color:"white",icon:Vd,onClick:()=>{d||null==t||t.handleSeek("forward")},"aria-label":k_("Перемотать на 10 секунд вперед","L",!0),tooltipTitle:kt.NextSeek,tooltipPlacement:"top",tooltipHidden:a,tabIndex:0,role:"button",size:f})),h&&st.createElement(AC,{previewTooltipHidden:m||a,tooltipTitle:m&&kt.NextVideo,size:f}))})),RC="desktop-controls-layout-module__desktopControlsLayout___zI6le",xC="desktop-controls-layout-module__hidden___DT3mD",LC="desktop-controls-layout-module__desktopButtonsBlock___y4LUa",OC="desktop-controls-layout-module__desktopButtonsBlockLeft___AZD2d",NC="desktop-controls-layout-module__desktopButtonsBlockRight___rpcdH",MC="desktop-controls-layout-module__desktopButtonsBlockRightLogo___PMWPt",DC=()=>st.createElement("svg",{width:"103",height:"24",viewBox:"0 0 103 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M11.432 6.2207H0V18.9292H3.1819V14.7947H9.27894L12.0608 18.9292H15.6237L12.5561 14.7756C13.5088 14.6232 14.1947 14.2612 14.6139 13.6896C15.033 13.118 15.2426 12.2034 15.2426 10.984V10.0314C15.2426 9.30733 15.1664 8.73576 15.033 8.29749C14.8996 7.85928 14.671 7.47821 14.3471 7.13526C14.0041 6.81135 13.6231 6.58271 13.1659 6.43029C12.7086 6.29691 12.1369 6.2207 11.432 6.2207ZM10.9176 11.9938H3.1819V9.02151H10.9176C11.3558 9.02151 11.6606 9.09774 11.8131 9.2311C11.9654 9.36446 12.0608 9.61217 12.0608 9.97421V11.0412C12.0608 11.4223 11.9654 11.67 11.8131 11.8033C11.6606 11.9367 11.3558 11.9938 10.9176 11.9938Z",fill:"white"}),st.createElement("path",{d:"M19.9241 15.1757V6.2207H16.7422V15.0995C16.7422 15.8235 16.7993 16.4142 16.9327 16.8524C17.0661 17.3097 17.2947 17.6908 17.6377 18.0147C17.9616 18.3576 18.3427 18.5863 18.7999 18.7196C19.2572 18.8721 19.8288 18.9292 20.5529 18.9292H28.1742C28.8791 18.9292 29.4508 18.8721 29.908 18.7196C30.3653 18.5863 30.7464 18.3576 31.0893 18.0147C31.4132 17.6908 31.6419 17.3097 31.7752 16.8524C31.9086 16.4142 31.9848 15.8235 31.9848 15.0995V6.2207H28.8029V15.1757C28.8029 15.5568 28.7076 15.8045 28.5553 15.9379C28.4028 16.0712 28.098 16.1284 27.6598 16.1284H21.0673C20.61 16.1284 20.3052 16.0712 20.1527 15.9379C20.0003 15.8045 19.9241 15.5568 19.9241 15.1757Z",fill:"white"}),st.createElement("path",{d:"M42.7501 18.9292V9.02151H48.9044V6.2207H33.4141V9.02151H39.5682V18.9292H42.7501Z",fill:"white"}),st.createElement("path",{d:"M53.51 15.1757V6.2207H50.3281V15.0995C50.3281 15.8235 50.3853 16.4142 50.5187 16.8524C50.6521 17.3097 50.8807 17.6908 51.2236 18.0147C51.5476 18.3576 51.9286 18.5863 52.3859 18.7196C52.8432 18.8721 53.4148 18.9292 54.1388 18.9292H61.7601C62.4651 18.9292 63.0367 18.8721 63.494 18.7196C63.9513 18.5863 64.3323 18.3576 64.6753 18.0147C64.9992 17.6908 65.2278 17.3097 65.3612 16.8524C65.4946 16.4142 65.5708 15.8235 65.5708 15.0995V6.2207H62.3889V15.1757C62.3889 15.5568 62.2936 15.8045 62.1412 15.9379C61.9887 16.0712 61.6839 16.1284 61.2457 16.1284H54.6532C54.1959 16.1284 53.8911 16.0712 53.7386 15.9379C53.5863 15.8045 53.51 15.5568 53.51 15.1757Z",fill:"white"}),st.createElement("path",{d:"M81.6966 9.91701V9.66937C81.6966 8.48806 81.3918 7.61159 80.7816 7.05905C80.172 6.5065 79.2004 6.2207 77.905 6.2207H67.1016V18.9292H78.5336C79.8291 18.9292 80.8006 18.6625 81.4109 18.1099C82.0204 17.5574 82.3252 16.6809 82.3252 15.4997V15.2329C82.3252 14.0516 82.0204 13.2133 81.4109 12.7179C81.2963 12.6416 81.1818 12.5845 81.0679 12.5274C80.9534 12.4701 80.7816 12.394 80.5722 12.3178C80.9916 12.0891 81.2772 11.7842 81.4484 11.4413C81.6011 11.0983 81.6966 10.5839 81.6966 9.91701ZM70.2836 11.3079V9.02151H77.3902C77.8477 9.02151 78.1525 9.09774 78.3052 9.2311C78.4572 9.36446 78.5336 9.61217 78.5336 9.97421V10.3553C78.5336 10.7364 78.4572 10.984 78.3052 11.1174C78.1525 11.2508 77.8477 11.3079 77.3902 11.3079H70.2836ZM70.2836 16.1284V13.842H78.0379C78.4763 13.842 78.7811 13.9182 78.9338 14.0516C79.0859 14.185 79.1813 14.4327 79.1813 14.7947V15.1757C79.1813 15.5568 79.0859 15.8045 78.9338 15.9379C78.7811 16.0712 78.4763 16.1284 78.0379 16.1284H70.2836Z",fill:"white"}),st.createElement("path",{d:"M86.643 9.02151H97.0462V6.2207H83.4609V18.9292H97.5603V16.1284H86.643V13.9754H96.798L97.0462 11.1746H86.643V9.02151Z",fill:"white"}),st.createElement("path",{d:"M100.047 5.45287C101.276 5.45287 102.273 4.45606 102.273 3.22644C102.273 1.99681 101.276 1 100.047 1C98.8171 1 97.8203 1.99681 97.8203 3.22644C97.8203 4.45606 98.8171 5.45287 100.047 5.45287Z",fill:"#F41240"})),FC=()=>st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M19.582 5.996a1.418 1.418 0 1 0 0-2.836 1.418 1.418 0 0 0 0 2.836Z",fill:"#F41240"}),st.createElement("path",{d:"M14.688 5.998H3.273V18.76H6.45v-4.152h6.088l2.777 4.152h3.558l-3.063-4.172c.951-.153 1.636-.516 2.055-1.09.418-.574.627-1.493.627-2.718v-.956c0-.727-.076-1.302-.209-1.742a2.913 2.913 0 0 0-.685-1.167 3.094 3.094 0 0 0-1.18-.708c-.456-.134-1.027-.21-1.73-.21Zm-.514 5.798H6.45V8.81h7.724c.437 0 .742.077.894.211.152.134.247.383.247.746v1.072c0 .383-.095.631-.247.765s-.457.192-.894.192Z",fill:"#E1E5EA"})),BC="logo-control-button-module__logo___MvUVG",HC="logo-control-button-module__small___OPP32",VC="logo-control-button-module__big___ChnCr",UC="logo-control-button-module__sizeXL___DK4ze",jC="logo-control-button-module__sizeXXL___x0Ap3",WC=lc((e=>{let{onClick:t,isMobile:n=!1,size:r}=e;const{generateTrackingLink:i}=zy(),{size:a}=ey(),{pauseVideo:o}=zm(),s=(null==a?void 0:a.width)||0,l=!n&&s>=570,u=e=>{("click"===(null==e?void 0:e.type)||"auxclick"===(null==e?void 0:e.type)&&1===(null==e?void 0:e.button)||"contextmenu"===(null==e?void 0:e.type)&&2===(null==e?void 0:e.button))&&(null==e||e.preventDefault(),t&&t(),window.open(e.currentTarget.href),o())},c=cl()(BC,{[VC]:l,[HC]:!l,[UC]:"XL"===r,[jC]:"XXL"===r}),d=st.createElement("a",{tabIndex:0,role:"button","aria-label":"Смотреть на RUTUBE",href:i({campaign:"logo"}),target:"_blank",className:c,rel:"noreferrer",onClick:u,onAuxClick:u,onContextMenu:u},l?st.createElement(DC,null):st.createElement(FC,null));return n?d:st.createElement(Qf,{title:kt.WatchOnRUTUBE,placement:"top",offset:24,zIndex:kt.ControlsTooltipZIndex},d)})),zC=lc((e=>{let{components:t,children:n}=e;const[r,i]=(0,st.useState)(null),{hasCaptions:a}=e_()||{},{isFullscreen:o,appearance:s,endScreen:l,isEmbed:u,isShowControls:c,data:d,onClickLogoStat:h,tvSchedule:p}=zm(),{isLive:v}=d,m=Wu(),f=(0,st.useRef)(null),{currentAdvert:_,isPlaying:g}=qp(),y=_&&g,b=o?"XXL":"XL";return st.createElement(st.Fragment,null,!(null!=l&&l.visible)&&c&&st.createElement(qg,{isTouchDevice:jc.isMobile}),st.createElement("section",{"data-testid":"video-ui",ref:f,className:cl()(RC,{[xC]:!c||y})},n,st.createElement(aS,{margin:"0 12px"}),st.createElement("div",{className:LC,ref:i},st.createElement(ed,{boundary:r},st.createElement("div",{className:OC},st.createElement(TC,null),v?st.createElement(Cg,{buttonSize:b}):null,st.createElement(kS,{size:b,panelRef:null==f?void 0:f.current}),!v&&st.createElement(dS,null,t.chaptersButtonComponent&&st.createElement(t.chaptersButtonComponent,{buttonSize:b})),v&&!!p&&st.createElement(mS,null)),st.createElement("div",{className:NC},u&&s.showLogotype&&st.createElement("div",{className:MC},st.createElement(WC,{size:b,onClick:h})),t.seasonsWidgetComponent&&st.createElement(t.seasonsWidgetComponent,{buttonSize:b}),a&&t.captionsButtonComponent&&st.createElement(t.captionsButtonComponent,{size:b}),t.settingsComponent&&st.createElement(t.settingsComponent,{buttonsSize:b}),t.pictureInPictureButtonComponent&&st.createElement(t.pictureInPictureButtonComponent,{size:b,placement:"top",onboardingPlacement:"top"}),!o&&!m&&!u&&t.cinemaModeButtonComponent&&st.createElement(t.cinemaModeButtonComponent,{size:b}),st.createElement(fg,{size:b}))))))})),$C="tap-rewind-animation-module__tapAnimationBlock___a6rhh",GC="tap-rewind-animation-module__tapAnimationBlockReverse___beROe",KC="tap-rewind-animation-module__rippleCircle___MYimQ",qC="tap-rewind-animation-module__rippleCircleVertical___Ltgt_",YC=e=>{let{reverse:t=!1,isVerticalView:n=!1}=e;return st.createElement("div",{className:cl()($C,{[GC]:t})},st.createElement("div",{className:cl()(KC,{[qC]:n})}),st.createElement("div",{className:cl()(KC,{[qC]:n})}),st.createElement("div",{className:cl()(KC,{[qC]:n})}))},QC="mobile-button-block-module__hidden___JtEMD",ZC="mobile-button-block-module__buttonsWrapperWhileSeeking___Ci2Ie",XC="mobile-button-block-module__centerControls___yBb0C",JC="mobile-button-block-module__controlBtn___zbs5n",ek="mobile-button-block-module__isHidden___nZoP1",tk="mobile-button-block-module__allowScroll___R0ybq",nk="mobile-button-block-module__buttonsWrapper___DCg5p",rk="mobile-button-block-module__seekContainer___QsosD",ik="mobile-button-block-module__leftSeek___UXXNQ",ak="mobile-button-block-module__rightSeek___Tl7z7",ok="mobile-button-block-module__seekLabelBoxLeft___MKAh4",sk="mobile-button-block-module__seekLabelBoxRight___h3hDj",lk="mobile-button-block-module__seekLabelNumber___DTWC3",uk="mobile-button-block-module__seekLabelText___0xW1j",ck="mobile-button-block-module__seekIsInProgress___S8FIy",dk=lc((e=>{let{hidden:t}=e;const n=kC(),r=CC.useNextVideoOptional(),{onClickNext:i,nextVideo:a,isShowPlaylistButtons:o}=n,{nextVideo:s,onClick:l}=r||{},u=o?a:s,c=o&&!u;return st.createElement("div",{className:cl()(JC,{[ek]:t,[tk]:t})},st.createElement(Xf,{"data-testid":"ui-next",action:"nextVideo",icon:dC,withBg:!0,onClick:()=>{u&&(o?i&&i.apply(n):null==l||l.apply(r))},disabled:c,"aria-label":"Переключить на следующее видео",tabIndex:0,size:"XL"}))})),hk=lc((e=>{let{hidden:t}=e;const n=kC(),{onClickPrev:r,prevVideo:i,isShowPlaylistButtons:a}=n;return st.createElement("div",{className:cl()(JC,{[ek]:!a||t,[tk]:t})},st.createElement(Xf,{"data-testid":"ui-prev",icon:PC,withBg:!0,onClick:()=>{i&&r&&r.apply(n)},disabled:!i,tabIndex:0,"aria-label":"Переключить на предыдущее видео",size:"XL"}))})),pk=lc((e=>{const{hidden:t=!0}=e,[n,r]=(0,st.useState)(0),[i,a]=Gu(!1,300),o=(0,st.useRef)(null),s=()=>{o.current&&clearTimeout(o.current)},[l,u]=(0,st.useState)(null),c=Ak(),d=zm(),{playback:h}=d,{isPlaying:p,ended:v}=h,{isTVStream:m,isLive:f}=Ym(),_=!f&&!c,g=!f&&!c,y=!m&&!v,{isShowControls:b,hideControls:E,isShowSettingsPannel:w}=zm(),S=(0,st.useCallback)((e=>{if(!w&&(e.target instanceof HTMLElement||e.target instanceof SVGElement)){null===e.target.closest(`[${Uf}=true]`)&&b&&E()}}),[E,b,w]);(0,st.useEffect)((()=>{i||(o.current&&clearTimeout(o.current),o.current=setTimeout((()=>{0!==n&&d.hideControls(),r(0),u(null)}),200))}),[d,i,n]),(0,st.useEffect)((()=>{0!==n&&d.showControls()}),[n,d]),(0,st.useEffect)((()=>s),[]);const{isVerticalView:C}=(()=>{const{width:e,height:t}=ey().size||{width:1,height:1};return{isVerticalView:t/e>1}})(),k=(e,t)=>c=>{const h=null===l||t===l;i&&h&&(s(),e>0?null==d||d.handleSeek("forward",e,J_.TAP):null==d||d.handleSeek("back",Math.abs(e),J_.TAP),u(t),r(n+e)),a(h),o.current=setTimeout((()=>S(c)),300)};return st.createElement("div",{className:XC},y&&st.createElement("div",ll({},n?jf:{},zf,{className:rk}),st.createElement("div",ll({},n?jf:{},{className:cl()(ik,{[ck]:n<0}),onMouseDown:k(-10,"backward")}),st.createElement(YC,{isVerticalView:C}),st.createElement("div",{className:ok},n<0&&st.createElement(st.Fragment,null,st.createElement("p",{className:lk},n),st.createElement("p",{className:uk},"секунд")))),st.createElement("div",ll({},n?jf:{},{className:cl()(ak,{[ck]:n>0}),onMouseDown:k(10,"forward")}),st.createElement(YC,{isVerticalView:C,reverse:!0}),st.createElement("div",{className:sk},n>0&&st.createElement(st.Fragment,null,st.createElement("p",{className:lk},"+",n),st.createElement("p",{className:uk},"секунд"))))),st.createElement("div",ll({className:cl()(nk,{[QC]:t,[ZC]:Boolean(n)})},zf),!c&&st.createElement(hk,{hidden:!_||t}),st.createElement("div",{className:cl()(JC,{[tk]:t})},st.createElement(PS,{id:M_.PLAY_BUTTON,action:"play",played:p,live:m,ended:v,withBg:!0,big:!0,onClick:()=>{p?h.pause():(h.play().catch(console.warn),d.setHideControlsTimer(),m&&h.goLive())}})),!c&&st.createElement(dk,{hidden:!g||t})))})),vk="mobile-controls-module__mobileControlsLayout___eY9qR",mk="mobile-controls-module__mobileControlsBottomBlock___G4Mta",fk="mobile-controls-module__mobileControlsLine___qWnVO",_k="mobile-controls-module__mobileControlsLineLeft___pV1sI",gk="mobile-controls-module__disabled___j50t6",yk="mobile-controls-module__mobileControlsLineRight___jj6lY",bk="mobile-controls-module__hidden___zFNyt",Ek=lc((e=>{let{components:t}=e;const{isShowControls:n,isFullscreen:r,isEmbed:i,showControls:a,hideControls:o,setHideControlsTimer:s,onClickLogoStat:l,tvSchedule:u,playback:c,endScreen:d,appearance:h,isTVPosterVisible:p}=zm(),v=Wu(),{seeking:m,waiting:f,ended:_}=c,{isLive:g}=Ym(),[y,b]=(0,st.useState)(null),{hasCaptions:E}=e_()||{},{isShowPreview:w}=Cy(),{currentAdvert:S,isPlaying:C}=qp(),k=Boolean(!n||S&&C),A=f||w||p,P="XL";return(0,st.useEffect)((()=>{!_||null!=d&&d.visible||n?null!=d&&d.visible&&o():a()}),[null==d?void 0:d.visible,n,_,a,o]),st.createElement("section",{className:cl()(vk,{[bk]:k}),ref:b,onMouseDown:()=>{n||(a(),s())},"aria-hidden":k},st.createElement(ed,{boundary:y},st.createElement(qg,{isTouchDevice:!0,hidden:w||p,lightMode:m}),st.createElement(pk,{hidden:A}),st.createElement("section",{"data-testid":"video-ui",className:mk},!w&&st.createElement("section",{className:fk},st.createElement("div",{className:cl()(_k,{[gk]:!n})},g?st.createElement(Cg,{buttonSize:"XL"}):st.createElement(dS,null,t.chaptersButtonComponent&&st.createElement(t.chaptersButtonComponent,null)),g&&!!u&&st.createElement(mS,null)),st.createElement("div",{className:yk},i&&h.showLogotype&&st.createElement(WC,{isMobile:!0,onClick:l}),t.seasonsWidgetComponent&&st.createElement(t.seasonsWidgetComponent,{buttonSize:P}),E&&t.captionsButtonComponent&&st.createElement(t.captionsButtonComponent,{size:P}),st.createElement(kS,{size:P}),!r&&!v&&!i&&t.cinemaModeButtonComponent&&st.createElement(t.cinemaModeButtonComponent,{size:P}),st.createElement(fg,{size:P}))),st.createElement(aS,null))))})),wk=lc((e=>{const{components:t,children:n}=e,{isAllowControls:r,playback:i}=zm(),{autoPlayWithMute:a}=i;return jc.isMobile&&"Enabled"===a||!r?null:jc.isMobile?st.createElement(Ek,{components:t}):st.createElement(zC,{components:t},n)}));var Sk;let Ck,kk;Sk=class extends pg{static get Controls(){return wk}constructor(e,t,n,r,i,a,o,s,l,u,c){super(e,t,n,r,i,a,o,s,l,u,c),this.playback=e,this.data=t,this._isEmbedResolvable=s}},[kk,Ck]=en(Sk,[To({implement:"IControlsPlugin",ctor_args:["IPlayback","IDataPlugin","IFullscreenPlugin","IPlayerSizePlugin","IAppearancePlugin",{implement:"IEndScreenPlugin",optional:!0},{implement:"IStatisticState",optional:!0},"IsEmbed",{implement:"IAdvertPlugin",optional:!0},"IQualitiesPlugin",{implement:"IPosterPlugin",optional:!0}]})],[],0,void 0,pg).c,Ck();n(6417);const Ak=()=>xc("IEmbedPlugin"),Pk=e=>e("IEmbedPlugin");var Ik;let Tk,Rk,xk;Ik=class extends Oo{constructor(e,t,n){super(),this._params=(Tk(this),Mr.box({})),this._trackId=Mr.box(),this._loading=Mr.box(!0),this._allowed=Mr.box(!1),this._visible=Mr.box(!1),this._isNakedMode=Mr.box(!1),this._onRecommendedClick=e=>{const{video:t,resourceId:n}=e.data;if(null!=t&&t.video_url)try{const e=new URL(t.video_url);n&&e.searchParams.append("resource_id",n.toString()),window.open(e.toString(),"_blank")}catch(e){console.error(e)}},this._appearance=e,this._qualities=t,this._config=n,Ca(this,{params:Hr,trackId:Hr,loading:Hr,allowed:Hr,visible:Hr,isNakedMode:Hr})}init(){return this._prepareParams(),this._initEmbed(),Fp.subscribe(Nh.RECOMMENDED_VIDEO,this._onRecommendedClick),()=>{Fp.unsubscribe(Nh.RECOMMENDED_VIDEO,this._onRecommendedClick)}}async _initEmbed(){var e,t,n;if(this.trackId=Lt(),null===(e=this.params)||void 0===e||!e.idWebsite)return this.allowed=!0,void(this.loading=!1);try{const e=await(t=gd(),n=this.params.idWebsite,fetch(`https://distribution.rutube.ru/api/distribution/distributors/websites/?url=${t}&id_website=${n}`,{method:"get"}).then((e=>e.json())));this.allowed=Boolean(e.is_reproduce)}catch(e){this.allowed=!1}this.loading=!1}_prepareParams(){if(window.location.search){const e=Rt(window.location.href,!0);this.params={urlPepper:e.p,platform:e.platform,adminMode:e.admin_mode,quality:e.q||e.quality,resourceId:e.resource_id,idWebsite:e.id_website,idDistribution:e.id_distribution,yclidP:e.yclid_p,skinColor:e.skinColor,versionId:e.visitor_id,naked:e.naked},e.skinColor&&(this._appearance.skinColor=e.skinColor),this.params.quality&&(this._qualities.embedQuality=this.params.quality),"true"===this.params.naked&&(this.isNakedMode=!0),e.visitor_id&&(ch.assertInstance(this._config),this._config.set("visitorId",e.visitor_id))}}get params(){return this._params.get()}set params(e){this._params.set(e)}get trackId(){return this._trackId.get()}set trackId(e){this._trackId.set(e)}get loading(){return this._loading.get()}set loading(e){this._loading.set(e)}get allowed(){return this._allowed.get()}set allowed(e){this._allowed.set(e)}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get isNakedMode(){return this._isNakedMode.get()}set isNakedMode(e){this._isNakedMode.set(e)}},({e:[Tk],c:[xk,Rk]}=en(Ik,[To({implement:"IEmbedPlugin",ctor_args:["IAppearancePlugin","IQualitiesPlugin","IPlayerConfigPlugin"]})],[[Lo(),2,"init"]],0,void 0,Oo)),Rk();const Lk="embed-wrapper-module__wrapper___RPyEt",Ok=["qa.rutube.ru","aq.rutube.ru","qaq.rutube.ru"],Nk="https://static.rutube.ru/webconfigs/player-embed-config.json",Mk="https://static.rutube.dev/webconfigs/player-embed-config.json";const Dk=(e,t)=>0===e.length||e.includes(t);var Fk;let Bk,Hk,Vk;Fk=class extends Oo{constructor(e,t,n,r){super(),this.__embedConfig=(Bk(this),Mr.box(null)),this.__loading=Mr.box(!0),this._config=e,this._playback=t,this._playerSize=n,this._advert=r,Ca(this,{fetchEmbedConfig:Bi,embedConfig:Hr,loading:Hr,windowWidth:Hr,isExperimentEnabled:Hr,isShowAdvert:Hr,minEmbedWidth:Hr,link:Hr})}init(){this.fetchEmbedConfig()}async fetchEmbedConfig(){try{const t="rutube.ru"===(e=window.location.hostname)||Ok.includes(e)?Nk:Mk,n=6e5*Math.floor(Date.now()/6e5),r=await fetch(`${t}?t=${n}`);if(!r.ok)throw new Error(`HTTP ${r.status}`);const i=await r.json();Vi((()=>this.__embedConfig.set(i)))}catch(e){console.warn("Error fetching embed config",e),Vi((()=>this.__embedConfig.set(null)))}finally{Vi((()=>this.__loading.set(!1)))}var e}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}get disableOnAd(){var e,t;return null!==(e=null===(t=this.__embedConfig.get())||void 0===t?void 0:t.disableExperimentForAd)&&void 0!==e&&e}get minEmbedWidth(){var e;return null===(e=this.__embedConfig.get())||void 0===e?void 0:e.minEmbedWidth}get embedConfig(){return this.__embedConfig.get()}get loading(){return this.__loading.get()}get windowWidth(){return this._playerSize.windowWidth}get domain(){return _d()}get videoId(){return this._config.get("videoId")}get queryParams(){return Rt(window.location.href)}get matchedExperiment(){const e=this.__embedConfig.get();if(e)return e.experiments.find((e=>{return t=e.conditions,n=this.domain,r=this.videoId,i=this.queryParams,Dk(t.domains,n)&&Dk(t.videoIds,r)&&((e,t)=>0===e.length||e.some((e=>{let{parameter:n,values:r}=e;const i=t[n];return!!i&&r.includes(i)})))(t.queryParams,i);var t,n,r,i}))}get isExperimentEnabled(){return!(void 0!==this.minEmbedWidth&&this.windowWidth<this.minEmbedWidth)&&((!this.disableOnAd||!this.isShowAdvert)&&!!this.matchedExperiment)}get link(){const e=this.matchedExperiment;if(!e)return"";const{utm_source:t,utm_medium:n,utm_campaign:r,utm_term:i}=e.config,a=((e,t)=>"string"==typeof e?e:t?e.mob:e.web)(r,jc.isMobile),o=`${window.location.origin}/video/${this.videoId}`,s=new URLSearchParams({utm_source:t,utm_medium:n,utm_campaign:a,utm_content:this.videoId});return i&&s.set("utm_term",new URL(this.domain).host),((e,t)=>{const n=e.includes("?")?"&":"?";return`${e}${n}${t.toString()}`})(o,s)}redirectClick(e){e.preventDefault(),e.stopPropagation(),this._playback.pause();const t=this._playback.currentTime,n=new URL(this.link),r=new URLSearchParams(Ft({t:t.toString()},Object.fromEntries(n.searchParams)));n.search=r.toString(),window.open(n.toString(),"_blank")}},({e:[Bk],c:[Vk,Hk]}=en(Fk,[To({implement:"IRedirectExperimentPlugin",ctor_args:["IPlayerConfigPlugin","IPlayback","IPlayerSizePlugin",{implement:"IAdvertPlugin",optional:!0}]})],[[Lo(),2,"init"],[[Bi,Bi.bound],18,"redirectClick"]],0,void 0,Oo)),Hk();function Uk(e){let{wrapperRef:t}=e;const n=(0,st.useRef)(!1),{isExperimentEnabled:r,redirectClick:i}=Rc("IRedirectExperimentPlugin");(0,st.useEffect)((()=>{const e=t.current;if(!e||!r)return;const a=e=>{n.current||(i(e),n.current=!0)};return e.addEventListener("click",a),e.addEventListener("touchend",a),e.addEventListener("contextmenu",a),()=>{e.removeEventListener("click",a),e.removeEventListener("touchend",a),e.removeEventListener("contextmenu",a)}}),[r,i,t])}const jk=lc((e=>{let{children:t}=e;const n=Rc("IEmbedPlugin"),{loading:r}=n,[i,a]=Xb(void 0,!0,.01);return(0,st.useEffect)((()=>{n.visible=a||!1}),[n,a]),Uk({wrapperRef:i}),st.createElement("div",{ref:i,className:Lk,"data-testid":"embed-wrapper"},r?st.createElement(op,null):t)}));class Wk{constructor(e){this.__name=void 0,this.__messagesAtom=void 0,this.__type=void 0,this.__data=void 0,this.onMessage=e=>{var t,n;if("string"!=typeof e.data)return;let r;try{r=JSON.parse(e.data)}catch(e){return}this.hasEvent(null===(t=r)||void 0===t?void 0:t.type)&&(this.__type=r.type,this.__data=r.data,null===(n=this.__messagesAtom)||void 0===n||n.reportChanged())},this.__name=e,this.__messagesAtom=qn("postMessages",(()=>{window.addEventListener("message",this.onMessage)}),(()=>{window.removeEventListener("message",this.onMessage)}))}get __events(){return{pause:`${this.__name}:pause`,play:`${this.__name}:play`,setCurrentTime:`${this.__name}:setCurrentTime`,seek:`${this.__name}:relativelySeek`,mute:`${this.__name}:mute`,unmute:`${this.__name}:unMute`,setVolume:`${this.__name}:setVolume`,stop:`${this.__name}:stop`,suspend:`${this.__name}:suspend`,wakeUp:`${this.__name}:wakeup`,changeVideo:`${this.__name}:changeVideo`,setSkinColor:`${this.__name}:setSkinColor`,refetchPlayOptions:"frame:checkOptions",iframeLoaded:"frame:loaded",bitrateSwitch:`${this.__name}:bitrateSwitch`,fullscreen:`${this.__name}:changeFullscreen`,jwt:`${this.__name}:setJwt`,uuid:`${this.__name}:setUuid`,profile:`${this.__name}:profile`,userData:`${this.__name}:setUserData`,showControls:`${this.__name}:showControls`,hideControls:`${this.__name}:hideControls`,changeQuality:`${this.__name}:changeQuality`,platformSubscriptionStart:`${this.__name}:subscriptionStart`,platformSubscriptionCancel:`${this.__name}:subscriptionCancel`,enterToPiP:`${this.__name}:enterToPiP`,exitFromPiP:`${this.__name}:exitFromPiP`,getStatisticsRequest:`${this.__name}:getStatisticsRequest`,enterFullscreen:`${this.__name}:enterFullscreen`,exitFullscreen:`${this.__name}:exitFullscreen`}}hasEvent(e){return Object.values(this.__events).includes(e)}subscribe(e,t){return $i((()=>(this.__messagesAtom.reportObserved(),{isNeedToHandleMessage:this.__events[e]===this.__type})),(e=>{let{isNeedToHandleMessage:n}=e;n&&t(this.__data||{})}))}}var zk;let $k,Gk,Kk;var qk;let Yk,Qk,Zk;zk=class extends Oo{constructor(e,t,n){super(),this.__playback=void $k(this),this._videoId=void 0,this._events=void 0,this._videoId=e.value,this.__playback=t,this._events=new Wk(n.value)}playSubscribe(){return this._events.subscribe("play",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.play()}))}init(){const e=this.playSubscribe(),t=this._events.subscribe("pause",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.pause()})),n=this._events.subscribe("stop",(()=>{this.__playback.seek(this.__playback.duration+1)})),r=this._events.subscribe("seek",(e=>{let{videoId:t,time:n}=e;t&&t!==this._videoId||(n>=0?this.__playback.seekForward(n):this.__playback.seekBack(Math.abs(n)))})),i=this._events.subscribe("mute",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.muted||this.__playback.handleMuted()})),a=this._events.subscribe("unmute",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.muted&&this.__playback.handleMuted()})),o=this._events.subscribe("setVolume",(e=>{let{videoId:t,change:n,volume:r}=e;t&&t!==this._videoId||(r&&this.__playback.handleVolume(100*r),n&&this.__playback.handleVolume(Math.max(Math.min(100*((this.__playback.volume||0)+n),100),0)))})),s=[];return s.push(t,e,n,r,i,a,o),()=>{s.forEach((e=>e()))}}initCurrentTime(){return this.initCurrentTimeHandler()}initCurrentTimeHandler(){return this._events.subscribe("setCurrentTime",(e=>{let{videoId:t,time:n}=e;if(!t||t===this._videoId){const e=this.__playback.duration;if(n>=0&&e){const t=n>e?e-.1:n;this.__playback.seek(t)}}}))}},({e:[$k],c:[Kk,Gk]}=en(zk,[To({implement:"IExternalEventsPlugin",ctor_args:["VideoId","IPlayback","ExternalEventsNamespace"]})],[[Lo(),2,"init"],[Lo(),2,"initCurrentTime"]],0,void 0,Oo)),Gk();function Xk(e){return e(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IDataPlugin")}qk=class extends Kk{constructor(e,t,n,r,i,a,o,s,l,u,c,d,h,p){var v;super((v=o.get("videoId"),{get value(){return v}}),r,c),this.__playOptions=void Yk(this),this.__appearance=void 0,this.__stubPlugin=void 0,this.__controls=void 0,this.__provider=void 0,this.__config=void 0,this.__sharePlugin=void 0,this.__advert=void 0,this.__pip=void 0,this.__counterHelper=void 0,this.__infoLayer=void 0,this.__isWaitingPlaybackPlugin=void 0,this.__playback=void 0,this._fullscreen=p,this.__config=o,this.__playOptions=e,this.__appearance=t,this.__stubPlugin=n,this.__playback=r,this.__controls=a,this.__provider=i,this.__sharePlugin=l,this.__advert=s,this.__pip=u,this.__counterHelper=d&&d instanceof Mv?d.counterHelper:void 0,this.__infoLayer=h}playSubscribe(){return this._events.subscribe("play",(e=>{let{videoId:t}=e;if(!t||t===this._videoId){const e=()=>{var e,t;return Boolean((null===(e=this.__playback)||void 0===e?void 0:e.duration)&&!isNaN(null===(t=this.__playback)||void 0===t?void 0:t.duration))};e()?this.__playback.play():(this.__isWaitingPlaybackPlugin=va(e),this.__isWaitingPlaybackPlugin.then((()=>{this.__playback.play()})).catch(console.error))}}))}initPlugin(){const e=$i((()=>this.__config.get("videoId")),(e=>{this._videoId=e})),t=this._events.subscribe("refetchPlayOptions",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(null===(n=this.__playOptions)||void 0===n||n.fetchPlayOptions(!1))})),n=this._events.subscribe("iframeLoaded",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__stubPlugin.stub&&"iframe"===this.__stubPlugin.stub.type&&this.__stubPlugin.setStub("iframe",Ft(Ft({},this.__stubPlugin.stub.params),{},{isIframeLoaded:!0}))})),r=this._events.subscribe("setSkinColor",(e=>{let{color:t,videoId:n}=e;n&&n!==this._videoId||(this.__appearance.skinColor=t)})),i=this._events.subscribe("showControls",(()=>{this.__controls.isAllowControls=!0})),a=this._events.subscribe("hideControls",(()=>{this.__controls.isAllowControls=!1})),o=this._events.subscribe("suspend",(()=>{var e;null!==(e=this.__provider.provider)&&void 0!==e&&e.instance&&"stopLoad"in this.__provider.provider.instance&&(this.__playback.pause(),this.__provider.provider.instance.stopLoad())})),s=this._events.subscribe("wakeUp",(()=>{var e;null!==(e=this.__provider.provider)&&void 0!==e&&e.instance&&"startLoad"in this.__provider.provider.instance&&(this.__provider.provider.instance.startLoad(),this.__playback.play())})),l=this._events.subscribe("changeQuality",(e=>{let{quality:t}=e;const n=this.__provider.qualities.find((e=>t===Yw&&e.value===t||e.value===t+"p"));n&&n.index&&this.__provider.changeQuality(n.index,n.level)})),u=this._events.subscribe("changeVideo",(e=>{let{id:t,params:n}=e;const{hash:r,p:i,quality:a}=n||{},o=t||r,s=()=>{if(i&&void 0!==this.__sharePlugin&&(this.__sharePlugin.pepper=i),a){const e=this.__provider.qualities.find((e=>a===Yw&&e.value===a||e.value===a+"p"));e&&e.index&&this.__provider.changeQuality(e.index,e.level)}};if(o&&o!==this._videoId){const e=$i((()=>({videoId:this.__config.get("videoId"),isProviderInit:this.__provider.isProviderInit,isPlayerReady:this.__playback.isPlayerReady})),(t=>{let{isProviderInit:n,isPlayerReady:r}=t;n&&r&&(s(),e())}))}else s()})),c=this._events.subscribe("platformSubscriptionStart",(()=>{var e;null===(e=this.__advert)||void 0===e||e.disableAdvertPlaying()})),d=this._events.subscribe("platformSubscriptionCancel",(()=>{var e;null===(e=this.__advert)||void 0===e||e.enableAdvertPlaying()})),h=this._events.subscribe("enterToPiP",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(null===(n=this.__pip)||void 0===n||n.enterToPiP())})),p=this._events.subscribe("exitFromPiP",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(null===(n=this.__pip)||void 0===n||n.exitFromPiP())})),v=this._events.subscribe("enterFullscreen",(()=>{this._fullscreen&&this._fullscreen.enterFullscreen()})),m=this._events.subscribe("exitFullscreen",(()=>{this._fullscreen&&this._fullscreen.exitFullscreen()}));return()=>{[e,t,n,r,i,a,o,s,l,u,c,d,h,p,v,m].forEach((e=>e())),this.__isWaitingPlaybackPlugin&&(this.__isWaitingPlaybackPlugin.cancel(),this.__isWaitingPlaybackPlugin=void 0)}}initCurrentTimeHandler(){return this._events.subscribe("setCurrentTime",(e=>{let{videoId:t,time:n,source:r}=e;if((!t||t===this._videoId)&&(this.__playback.seek(n,r),this.__controls.activeChapter)){var i;const{start:e,name:t}=this.__controls.activeChapter,n=`${Xg({value:e})} — ${t}`;var a;if(null===(i=this.__infoLayer)||void 0===i||i.setActiveInfo({label:n}),r&&["chapters","description"].includes(r))null===(a=this.__counterHelper)||void 0===a||a.get("chapters"===r?"mainChaptersMenuClick":"mainChaptersDescriptionClick")()}}))}},({e:[Yk],c:[Zk,Qk]}=en(qk,[To({implement:"IExternalEventsPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IAppearancePlugin","IStubPlugin","IPlayback","IProviderPlugin","IControlsPlugin","IPlayerConfigPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"ISharePlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},"ExternalEventsNamespace",{implement:"IStatisticState",optional:!0},{implement:"IInfoLayerPlugin",optional:!0},"IFullscreenPlugin"]})],[[Lo(),2,"initPlugin"]],0,void 0,Kk)),Qk();const Jk=[{names:["{{authorid}}"],selector:e=>{var t;return String((null===(t=Xk(e))||void 0===t||null===(t=t.author)||void 0===t?void 0:t.id)||"")}},{names:["{{trackid}}"],selector:e=>String(Xk(e).id||"")},{names:["{{dl}}"],selector:e=>{var t;return String((null===(t=Xk(e))||void 0===t?void 0:t.referer)||"")}},{names:["{{video_id}}"],selector:e=>{var t;return String((null===(t=Xk(e))||void 0===t?void 0:t.video_id)||"")}},{names:["{{live}}"],selector:()=>"0"},{names:["{{viewer_id}}","{{viewer}}"],selector:e=>{var t;return String((null===(t=Xk(e))||void 0===t?void 0:t.viewer)||"")}},{names:["{{full_referer}}"],selector:e=>{var t;return(null===(t=Xk(e))||void 0===t?void 0:t.referer)||""}}],eA=e=>e("IStatisticAggregatorPlugin"),tA=e=>e("IPlayback"),nA=[{names:["{{fts}}"],selector:e=>String(Math.floor(tA(e).currentTime||0))},{names:["{{contentCurrentPosition}}","{{playback.position}}"],selector:e=>String(Math.floor(tA(e).currentTime||0))},{names:["{{final}}"],selector:e=>eA(e).final?"1":"0"},{names:["{{audio_vol}}"],cyclic:{selector:e=>eA(e).volumeChanges},selector:e=>{const t=tA(e),n=t.muted?0:t.volume;return n>=0?String(Math.round(100*n)):""}},{names:["{{play_speed}}"],cyclic:{selector:e=>eA(e).playbackRate},selector:e=>tA(e).playbackRate.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:0})||"1"},{names:["{{player_width}}"],selector:e=>{const t=tA(e).player.offsetWidth||0;return String(t)}},{names:["{{player_height}}"],selector:e=>{const t=tA(e).player.offsetHeight||0;return String(t)}}],rA=[{cyclic:{selector:e=>eA(e).eventActionsRange},selector:e=>eA(e).lastEventAction,names:["{{event_action}}"]},{names:["{{range_start}}"],cyclic:{selector:e=>eA(e).startRanges},selector:e=>eA(e).lastStartRange},{names:["{{range_end}}"],cyclic:{selector:e=>eA(e).endRanges},selector:e=>eA(e).lastEndRange},{names:["{{watchtime}}"],selector:e=>eA(e).watchTime}];class iA{constructor(){this.__puidSegments="",this._inited=!1}init(){if(this._inited)throw new Error("[PuidSegments] has already been initialized.");return this.setPuidSegments()}async setPuidSegments(){try{const e=we.get("puid_segments");if(e)this.__puidSegments=e;else{const e=await(async()=>{try{const e=await fetch("https://pretarg.adhigh.net/v1/segs",{credentials:"include"});return(await e.json()).segs}catch(e){return console.warn("fetchSegments",e),[]}})();this.__puidSegments=e.join(":"),we.set("puid_segments",this.__puidSegments,{expires:1})}this._inited=!0}catch(e){console.warn("PUID segments fetch error",e)}}get puidSegments(){return this.__puidSegments}}new _s("Audio Metrics");var aA,oA;let sA,lA,uA,cA;new(oA=class extends Oo{constructor(e){super(),this._resolve=void sA(this),this._stat=Mr.box([]),this._statApi=Mr.box([]),this._statAdditional=Mr.box([]),this._followedLink=Mr.box(""),this._rlineId=Mr.box(""),this._viewId=Mr.box(),this._gaCid=void 0,this._puidSegments=void 0,this._resolve=e.value,Vi((()=>this._viewId.set(Math.trunc(Math.random()*Math.pow(10,10))+""+Math.trunc(Date.now()/1e3)))),this._puidSegments=new iA,Ca(this,{stat:Hr,statApi:Hr,statistics:Hr,intervalEvents:Hr,followedLink:Hr,rlineId:Hr,hbIntervalEvents:Hr,statAdditional:Hr})}init(){this._puidSegments.init().catch(console.error),this.setGaCid()}setGaCid(){try{const e=(we.get("_ga")||"").match(/(\d+\.\d+)$/);this._gaCid=e?e[1]:""}catch(e){console.error("_ga cookie error",e)}}get stat(){return this._stat.get()}set stat(e){this._stat.set(e)}get statApi(){return this._statApi.get()}set statApi(e){this._statApi.set(e)}get statAdditional(){return this._statAdditional.get()}set statAdditional(e){this._statAdditional.set(e)}get rawStatistic(){return[...this.stat,...this.statApi,...this.statAdditional]}get statistics(){return this.rawStatistic.reduce(((e,t)=>(e[t.name]=e[t.name]||[],e[t.name].push(t),e)),{})}get statEvents(){return this.statistics.statevent?this.statistics.statevent:[]}get loadEvents(){return this.statistics.statload?this.statistics.statload:[]}get intervalEvents(){let e=[];return this.statistics.heartbeat&&(e=[...this.statistics.heartbeat]),this.statistics.watchtime&&(e=[...e,...this.statistics.watchtime]),this.statistics.video_heartbeat&&(e=[...this.statistics.video_heartbeat]),e}get hbIntervalEvents(){return this.statistics.hb_intervals_stat}get followedLink(){return this._followedLink.get()}set followedLink(e){this._followedLink.set(e)}get rlineId(){return this._rlineId.get()}set rlineId(e){this._rlineId.set(e)}get viewId(){return this._viewId.get()}get gaCid(){return this._gaCid}get puidSegments(){return this._puidSegments.puidSegments}},({e:[sA],c:[cA,lA]}=en(oA,[To({implement:"IStatisticStore",ctor_args:["Resolve"]})],[[Lo(),2,"init"]],0,void 0,Oo)),uA=oA,(aA=class extends jo{constructor(){super(cA),this.useStatisticStore=()=>Rc("IStatisticStore"),this.getStatisticStore=e=>e("IStatisticStore"),lA()}})[uA]=void 0,aA);const dA=[{names:["{{cid}}"],selector:e=>ep.getStatisticStore(e).uuid},{names:["{{viewer_id}}","{{view_id_loc}}"],selector:e=>{var t;return(null===(t=ep.getStatisticStore(e).userId)||void 0===t?void 0:t.toString())||"na"}},{names:["{{playlist_id}}"],selector:e=>{var t;return(null===(t=ep.getStatisticStore(e).playlistId)||void 0===t?void 0:t.toString())||""}},{names:["{{resource_id}}"],selector:e=>{var t;return String((null===(t=ep.getStatisticStore(e))||void 0===t?void 0:t.followedResourceId)||"")}},{names:["{{pid}}"],selector:e=>{var t;return String((null===(t=ep.getStatisticStore(e))||void 0===t?void 0:t.guid)||"")}},{names:["{{is_backgr_player}}"],selector:e=>{var t;return String(null!==(t=ep.getStatisticStore(e))&&void 0!==t&&t.isBackground?1:0)}}],hA=new _s("Audio Metrics");const pA=[{getter:fe,names:["{{fingerprint_id}}"]},{names:["{{url_location}}","{{full_url}}","{{referer_loc}}"],getter:()=>window.location.href},{names:["{{ru_session_id}}","{{session_id}}"],getter:()=>Qe(at(),(e=>hA.log(`New session_id generated. sessionId: '${e}'`)))},{names:["{{ru_cid}}","{{user_agent_id}}"],getter:at},{names:["{{user_agent_cl}}"],getter:()=>{var e;return null!==(e=window.navigator.userAgent)&&void 0!==e?e:"na"}},{names:["{{VTSmmm}}"],getter:()=>(new Date).getTime().toString()},{names:["{{time_zone}}"],getter:pb},{names:["{{event_source}}"],getter:()=>"rutube"},{names:["{{device_orientation}}"],getter:()=>{try{return window.matchMedia("(orientation: landscape)").matches?"H":window.matchMedia("(orientation: portrait)").matches?"V":"N"}catch(e){return"N"}}},{names:["{{random_int}}"],getter:()=>String(cm())},{names:["{{random}}"],getter:()=>String(Math.random())},{names:["{{yclid}}"],getter:tl},{names:["{{vts}}","{{vision_time_stamp}}"],getter:()=>String(Math.floor(Date.now()/1e3))},{names:["{{toggle}}"],selector:()=>parseInt(Xy("raichu-autoplay-next")||"",10)?"on":"off"},{names:["{{position}}"],getter:()=>""},{names:["{{ab_tag}}"],getter:()=>(e=>{const t=we.get(e),n=[];if(t)try{const e=JSON.parse(t);for(const t in e){var r;n.push({id:t,group:null===(r=e[t])||void 0===r?void 0:r.active})}}catch(e){console.error("statistics",e)}return JSON.stringify(n)})("canary1")},{names:["{{player_name}}"],getter:()=>"raichu"},{names:["{{screen_name}}"],getter:()=>window.location.pathname},{names:["{{aOris}}"],getter:function(){return Array.isArray(window.location.ancestorOrigins)?[...window.location.ancestorOrigins].map((e=>encodeURIComponent((null==e?void 0:e.toString())||""))).join(","):""}},{names:["{{cvid}}"],selector:e=>{const t=at(),{loadedTimeStamp:n,viewCount:r}=(e=>{const t=e("IStatisticState");return t instanceof sl?t:null})(e)||{};return`${t}_${String(n)}_${String(r)}`}},{names:["{{doc_ref}}"],getter:()=>document.referrer||""}],vA=["names","cyclic"];var mA;let fA,_A;mA=class extends Oo{constructor(e,t){super(),this.__resolve=void 0,this._playerVersion=t,this.__resolve=e.value,this.resolveCommonPlaceholders=this.resolveCommonPlaceholders.bind(this)}getPlaceholders(){return pA.concat((e=>{let{versionName:t}=e;return[{names:["{{ga_cid}}"],selector:e=>{var t;return String((null===(t=cA.getStatisticStore(e))||void 0===t?void 0:t.gaCid)||"")}},{names:["{{puid50}}"],selector:e=>cA.getStatisticStore(e).puidSegments},{names:["{{appv}}"],getter:()=>t}]})({versionName:this._playerVersion.value})).concat(dA).concat(Jk).concat(nA).concat(rA)}makePlaceholderResolvers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getPlaceholders().map((t=>{let{names:n,cyclic:r}=t,i=bp(t,vA);const{selector:a,getter:o}=e&&r?r:i;return{names:n,value:o?o():a?a(this.__resolve):""}}))}resolveCommonPlaceholders(e){const t=this.makePlaceholderResolvers();return Vs(e,t,!0)}},[_A,fA]=en(mA,[To({implement:"IPlaceholdersState",ctor_args:["Resolve","PlayerVersion"]})],[],0,void 0,Oo).c,fA();n(9139);const gA=[{criteria:{name:"blocking_rule_11520617"},data:{fatal:!1,type:"pending_stream",message:"Stream is going to be started in time"}},{criteria:{type:"source_deactivated"},data:{fatal:!0,type:"source_deactivated",message:"Video is not available anymore"}},{criteria:{type:"paid_access"},data:{fatal:!0,type:"payment_required",message:"This video is available for users with paid subscription only"}},{criteria:{name:"user_deleted_video"},data:{fatal:!0,type:"deleted_by_user",message:"This video was deleted by user"}},{criteria:{name:"moder_deleted_video"},data:{fatal:!0,type:"deleted_by_platform_support",message:"This video was deleted by platform support team"}},{criteria:{type:"blocking_rule"},data:{fatal:!0,type:"blocked_by_copyright",message:"This video was hidden because of copyright reasons (please check your VPN connection)."}},{criteria:{name:"delete_roskomnadzor"},data:{fatal:!0,type:"deleted_by_rkn",message:"This video was deleted automatically because of RKN rules"}},{criteria:{name:"stream_access_fail"},data:{fatal:!1,type:"stream_not_started",message:"Stream is not started yet, please wait a bit"}},{criteria:{name:"stream_yet_finished"},data:{fatal:!1,type:"stream_finished",message:"Stream has been finished just yet. You need to wait some time and refresh the page in order to get VOD"}}],yA=["xmltimeout","adtimeout"];var bA;let EA,wA,SA;bA=class extends qm{constructor(e){super(void 0),this.__movieIndex=(EA(this),0),this.__hasLoadError=Mr.box(!1),this.__loadError=Mr.box(""),this.__isPlayOptionsLoaded=Mr.box(!1),this.__autoplay=Mr.box(!0),this.__playOptionsRequested=Mr.box(!1),this._config=e,Ca(this,{autoplay:Hr,isPlayOptionsLoaded:Hr,playOptionsRequested:Hr,fetchPlayOptions:Bi})}init(){return $i((()=>({videoId:this._config.get("videoId"),subscriptions:this._config.get("userPaidSubscription")})),(e=>{let{videoId:t}=e;t&&(this.data=null,Vi(this.fetchPlayOptions.bind(this)))}),{fireImmediately:!0})}initErrorInfo(){return $i((()=>({data:this.data})),(e=>{var t,n;let{data:r}=e;if(!r)return;const i=((e,t)=>{const n=gA.find((n=>{let{criteria:r}=n;return r.type&&r.type===t||r.name&&r.name===e}));return null==n?void 0:n.data})(null==r||null===(t=r.detail)||void 0===t?void 0:t.name,null==r||null===(n=r.detail)||void 0===n?void 0:n.type);i&&Fp.emit(Nh.ERROR,i)}))}setIsPlayOptionsLoaded(e){this.__isPlayOptionsLoaded.set(e)}setPlayOptionsRequested(e){this.__playOptionsRequested.set(e)}setAutoplay(e){this.__autoplay.set(e)}setHasLoadError(e){this.__hasLoadError.set(e)}setLoadError(e){this.__loadError.set(e)}async fetchPlayOptions(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=tl();try{var n,r,i;this.setIsPlayOptionsLoaded(!1),this.setPlayOptionsRequested(!0),this.setAutoplay(!1);const a=await(async(e,t)=>{const n=Rt(window.location.href),r=n.hasOwnProperty("referer")?n.referer||"":gd(),i={no_404:!0,p:n.p,quality:n.quality?1:void 0,admin_mode:n.admin_mode?1:void 0,platform:n.platform,referer:r,pver:"v2",client:"wdp"};t&&(i.yclid=t);const a=xt(i);return(await fetch(`${mb()}/api/play/options/${e}/?${a.toString()}`,{headers:{ClientIP_TZ:pb()}})).json()})(this._config.get("videoId"),t),o=a;o.color=a.appearance?`#${a.appearance.color}`:"",o.stat_api=Zs(o.stat_api||[]),o.advert=null!==(n=null===(r=o.advert)||void 0===r?void 0:r.map((e=>{let{xmltimeout:t,adtimeout:n}=e,r=bp(e,yA);return Ft({xmltimeout:Math.max(3.2,t||0),adtimeout:Math.max(3.2,n||0)},r)})))&&void 0!==n?n:[],this.setAutoplay(!0===(null===(i=o.appearance)||void 0===i?void 0:i.auto_start)),el(o.stat_api),this.setIsPlayOptionsLoaded(!0),this.setPlayOptionsRequested(!1),Fp.emit(Nh.PLAYOPTIONS_LOADED,{videoId:this._config.get("videoId"),playOptions:a}),this.data=o,e&&(this.__movieIndex+=1)}catch(e){this.setHasLoadError(!0),(e instanceof Error||"string"==typeof e)&&this.setLoadError(e.toString()),console.error("Player fail to fetch PlayOptions",e)}}get movieIndex(){return this.__movieIndex}get hasLoadError(){return this.__hasLoadError.get()}get loadError(){return this.__loadError.get()}get isPlayOptionsLoaded(){return this.__isPlayOptionsLoaded.get()}get autoplay(){return this.__autoplay.get()}get playOptionsRequested(){return this.__playOptionsRequested.get()}set playOptionsRequested(e){this.__playOptionsRequested.set(e)}get appearance(){var e;return(null===(e=this._data.get())||void 0===e?void 0:e.appearance)||null}get authorData(){if(this.author)return Ft(Ft({},this.author),{},{authorUrl:this.author.url})}},({e:[EA],c:[SA,wA]}=en(bA,[To({implement:"IDataPlugin",ctor_args:["IPlayerConfigPlugin"]})],[[Lo(),2,"init"],[Lo(),2,"initErrorInfo"],[Bi,2,"setIsPlayOptionsLoaded"],[Bi,2,"setPlayOptionsRequested"],[Bi,2,"setAutoplay"],[Bi,2,"setHasLoadError"],[Bi,2,"setLoadError"]],0,void 0,qm)),wA();const CA=e=>{const t=e("IDataPlugin");return t instanceof SA?t:null},kA=[{selector:e=>{var t;return(null===(t=Yp(e))||void 0===t||null===(t=t.currentAdvert)||void 0===t?void 0:t.type)||""},names:["{{format}}"]},{names:["{{hdom}}"],getter:()=>md().findLast((e=>!e.includes("localhost")))||"https://rutube.ru"},{names:["{{ad_safe_mode}}"],selector:e=>{var t;return String(null!==(t=Yp(e))&&void 0!==t&&t.isSafeMode?1:0)}},{names:["{{ads_rule_lim}}"],selector:e=>{var t;return String((null===(t=CA(e))||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.advert_limit_rule_id)||"")}}],AA=[{names:["{{subs_lang}}"],cyclic:{selector:e=>{var t;return(null===(t=rS(e))||void 0===t?void 0:t.captionLanguages)||""}},selector:e=>{var t,n;return(null===(t=(n=e,n("ICaptionsPlugin")).activeCaption)||void 0===t?void 0:t.langTitle)||"0"}}],PA=e=>{try{return e("IEndScreenPlugin")}catch(e){return null}},IA=[{names:["{{endscreen_videos}}"],selector:e=>{var t;return(null===(t=PA(e))||void 0===t||null===(t=t.nextVideo)||void 0===t?void 0:t.id)||""}},{names:["{{click_video}}"],selector:e=>{var t;return(null===(t=PA(e))||void 0===t||null===(t=t.nextVideo)||void 0===t?void 0:t.id)||""}},{names:["{{content_next_item_id}}"],selector:e=>{var t;return JSON.stringify((null===(t=PA(e))||void 0===t?void 0:t.recommendations.map((e=>e.video.id)))||[])}}],TA=e=>e("IPlatformSubscriptionPlugin"),RA="remove-ads-module__button___vFtJh",xA="remove-ads-module__small___w5csJ",LA=lc((()=>{const{requestSubscription:e,registerSubscriptionCTAShow:t,buttonProps:{isSmall:n,position:r},canDisableAds:i}=Tc().resolve("IPlatformSubscriptionPlugin");(0,st.useEffect)((()=>{i&&t()}),[t,i]);return i?st.createElement("button",{style:{bottom:r},className:cl()(RA,{[xA]:n}),onClick:t=>{t.preventDefault(),e(Mh.RUTUBE)}},"Отключить рекламу"):null})),OA=[657766,23460655,23606264,26302101,23178409];var NA,MA,DA;let FA,BA,HA;const VA={[Mh.PRY]:"/feeds/subs/1/",[Mh.RUTUBE]:"/feeds/subs/2/"};let UA;new(DA=class extends(NA=Oo){constructor(e,t,n,r,i,a,o){super(),this.__activeSubscriptions=void FA(this),this.__playOptions=void 0,this.__isOnPlatform=void 0,this.__counterHelper=void 0,this.__advert=void 0,this.__playerSize=void 0,this.fullscreen=n,this.__playOptions=a,this.__activeSubscriptions=Mr(e.get("userPaidSubscription")||[]),this.__isOnPlatform=!o,this.__counterHelper=t&&t instanceof Mv?t.counterHelper:void 0,this.__advert=r,this.__playerSize=i,Ca(this,{buttonProps:Hr})}get isSubscriptionActive(){return!!this.activeSubscriptions.length}get videoUrl(){var e;return(null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.video_url)||""}get activeSubscriptions(){return this.__activeSubscriptions.filter((e=>!0===e.is_active))}requestSubscription(e){var t,n,r,i;const a=null===(t=this.__advert)||void 0===t||null===(t=t.currentAdvert)||void 0===t?void 0:t.name;null===(n=this.__counterHelper)||void 0===n||n.get("mainPlatformSubscriptionClickRemoveAdsButton")({advertName:a});const o=null!==(r=null!=e?e:null===(i=this.__playOptions)||void 0===i||null===(i=i.data)||void 0===i||null===(i=i.detail)||void 0===i||null===(i=i.product_codes)||void 0===i?void 0:i[0])&&void 0!==r?r:null;if(o)if(this.__isOnPlatform){var s;this.fullscreen.isFullscreen&&this.fullscreen.handleFullscreen(),Fp.emit(Nh.SUBSCRIPTION_REQUEST,{productCode:o}),null===(s=this.__advert)||void 0===s||s.disableAdvertPlaying()}else{var l,u;const e=null!==(l=null===(u=this.__playOptions)||void 0===u||null===(u=u.data)||void 0===u||null===(u=u.detail)||void 0===u||null===(u=u.product_codes)||void 0===u?void 0:u[0])&&void 0!==l?l:null,t=e?VA[e]:null,n=bd(this.videoUrl);t&&window.open(`${n}${t}`,"_blank")}}handleStubSubscriptionRequest(e){var t;let{productCode:n,type:r}=e;const i=n?VA[n]:null,a=(null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.detail)||void 0===t?void 0:t.name)||"",o=bd(this.videoUrl),s={productCode:n,place:"stub",name:a};if("show"===r)Fp.emit(Nh.SUBSCRIPTION_BUTTON_SHOW,s);else this.__isOnPlatform?Fp.emit(Nh.SUBSCRIPTION_REQUEST,s):i&&window.open(`${o}${i}`,"_blank")}get canDisableAds(){var e;const t=(null===(e=this.__playOptions)||void 0===e||null===(e=e.author)||void 0===e?void 0:e.id)||null,n=t&&!OA.includes(t);return!this.isSubscriptionActive&&!!n}get buttonProps(){return UA.calculateButtonProps(this.__playerSize.size)}registerSubscriptionCTAShow(){var e,t;const n=null===(e=this.__advert)||void 0===e||null===(e=e.currentAdvert)||void 0===e?void 0:e.name;null===(t=this.__counterHelper)||void 0===t||t.get("mainPlatformSubscriptionShowRemoveAdsButton")({advertName:n})}static calculateButtonProps(e){return{position:(()=>{if(null==e||!e.height)return 140;const t=.1*e.height;return e.height>252?t+70:70})(),isSmall:!(null==e||!e.height)&&(null==e?void 0:e.height)<350}}},({e:[FA],c:[UA,BA]}=en(DA,[To({implement:"IPlatformSubscriptionPlugin",ctor_args:["IPlayerConfigPlugin","IStatisticState","IFullscreenPlugin",{implement:"IAdvertPlugin",optional:!0},"IPlayerSizePlugin",{implement:"IDataPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0}]})],[[Ro,2,"requestSubscription"],[Ro,2,"handleStubSubscriptionRequest"],[Ro,2,"registerSubscriptionCTAShow"]],0,void 0,NA)),HA=DA,(MA=class extends jo{constructor(){super(UA),this.RemoveAdsButton=LA,BA()}})[HA]=void 0,MA);const jA=e=>{let{subscription_id:t}=e;return t},WA=[{names:["{{cs_id_list}}"],selector:e=>{var t;return null===(t=TA(e))||void 0===t?void 0:t.activeSubscriptions.map(jA).join(",")}},{names:["{{cs_id_list_na}}"],selector:e=>{var t;return(null===(t=TA(e))||void 0===t?void 0:t.activeSubscriptions.map(jA).join(","))||"na"}},{names:["{{adformat}}"],selector:e=>{var t;return(null===(t=Yp(e))||void 0===t||null===(t=t.currentProvider)||void 0===t||null===(t=t.advert)||void 0===t?void 0:t.name)||""}},{names:["{{ad_dur}}"],selector:e=>{var t;return(null===(t=Yp(e))||void 0===t||null===(t=t.currentProvider)||void 0===t||null===(t=t.info)||void 0===t||null===(t=t.duration)||void 0===t?void 0:t.toString())||""}},{names:["{{ads_skipt}}"],selector:e=>{var t;return Number(null===(t=Yp(e))||void 0===t||null===(t=t.currentProvider)||void 0===t||null===(t=t.info)||void 0===t||null===(t=t.skipDuration)||void 0===t?void 0:t.toString())>0?"1":"0"}},{names:["{{ads_opt}}"],selector:e=>{var t,n;const r=Yp(e),i=CA(e);return JSON.stringify({advert:null==i||null===(t=i.data)||void 0===t?void 0:t.advert,limits:null==r?void 0:r.limits,meta:null==i||null===(n=i.data)||void 0===n?void 0:n.meta})}},{names:["{{ads_owner_id}}"],selector:e=>{var t;return(null===(t=Yp(e))||void 0===t||null===(t=t.currentProvider)||void 0===t?void 0:t.ownerId)||""}},{names:["{{ads_url_template}}"],selector:e=>{var t;return(null===(t=Yp(e))||void 0===t||null===(t=t.currentProvider)||void 0===t?void 0:t.advert.url_template)||""}},{names:["{{ad_id}}"],selector:e=>{var t;return(null===(t=Yp(e))||void 0===t||null===(t=t.currentProvider)||void 0===t?void 0:t.advertId)||""}}],zA=[{names:["{{mid}}"],selector:e=>{var t;return String((null===(t=CA(e))||void 0===t?void 0:t.movieIndex)||0)}},{names:["{{video_quality}}"],cyclic:{selector:e=>{var t;return(null===(t=rS(e))||void 0===t?void 0:t.qualityValues)||""}},selector:e=>{const{activeQualityValue:t,autoQuality:n}=Zm(e);return n?Yw:t}},{names:["{{playback_qualiti}}"],selector:e=>Zm(e).activeQualityValue},{names:["{{live}}"],selector:e=>{var t;return null!==(t=CA(e))&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&null!==(t=t.live_streams)&&void 0!==t&&t.hls?"1":"0"}},{names:["{{viewer_id_na}}"],selector:e=>{var t;return(null===(t=CA(e))||void 0===t||null===(t=t.viewer)||void 0===t?void 0:t.toString())||"na"}}];var $A;let GA,KA,qA;$A=class extends Oo{constructor(e){super(),this.__isAdultAllowed=(GA(this),Mr.box(!1)),this.__isAutoplayEnabled=Mr.box(!0),this._playOptions=e,Ca(this,{isAdultAllowed:Hr,isAutoplayEnabled:Hr})}init(){const e=Xy(xh),t="string"==typeof e&&"1"===e,n=Xy(Ah),r="string"!=typeof n||"1"===n;Vi((()=>{this.__isAdultAllowed.set(t),this.__isAutoplayEnabled.set(r)}))}get isAdultAllowed(){var e;return null===(e=this._playOptions.data)||void 0===e||!e.is_adult||this._playOptions.data.is_adult&&this.__isAdultAllowed.get()}set isAdultAllowed(e){this.__isAdultAllowed.set(e),Jy(xh,e?"1":"0")}get isAutoplayEnabled(){return this.__isAutoplayEnabled.get()}set isAutoplayEnabled(e){this.__isAutoplayEnabled.set(e),Jy(Ah,e?"1":"0")}},({e:[GA],c:[qA,KA]}=en($A,[To({implement:"IUserSettingsPlugin",ctor_args:["IDataPlugin"]})],[[Lo(),2,"init"]],0,void 0,Oo)),KA();const YA=[{names:["{{auto_play}}"],selector:e=>{var t;return null!==(t=$b(e))&&void 0!==t&&t.isAutoplayEnabled?"1":"0"}},{names:["{{toggle}}"],selector:e=>{var t;return null!==(t=$b(e))&&void 0!==t&&t.isAutoplayEnabled?"on":"off"}}],QA=[{names:["{{touch_point}}"],selector:()=>"embed"}];class ZA extends _A{getPlaceholders(){return super.getPlaceholders().concat([{names:["{{referral_rutube}}"],selector:e=>{var t;return(null===(t=ep.getStatisticStore(e))||void 0===t?void 0:t.followedLink)||""}}]).concat(zA).concat(YA).concat(IA).concat(QA).concat(iS).concat(AA).concat(kA).concat(WA)}}function XA(){return Tc().resolve("IVideoSettingsPlugin")}const JA=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M6.4 6.4V9.6L4 12L6.4 14.4V17.6H9.6L12 20L14.4 17.6H17.6V14.4L20 12L17.6 9.6V6.4H14.4L12 4L9.6 6.4H6.4Z",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),st.createElement("circle",{cx:"12.0001",cy:"11.9996",r:"2.4",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},eP="raichu-settings-module__wrapper___GUwi3",tP="raichu-settings-module__isTouch___xZYeV",nP="raichu-settings-module__settings___oOxR2",rP="raichu-settings-module__panelWrapper___A79sI",iP="raichu-settings-module__settingsList___e8gND",aP="raichu-settings-module__isEmbed___FDipZ",oP="raichu-settings-module__settingsItems___qJL30",sP="raichu-settings-module__settingsItemContainer___wnjyl",lP="raichu-settings-module__settingsItem___Tjywq",uP="raichu-settings-module__thumbSwitcher___MVqzh",cP="raichu-settings-module__settingsItemOption___LFyJV",dP="raichu-settings-module__settingsItemOptionActive___Gw8C0",hP="raichu-settings-module__settingsItemOptionTitle___yqJLa",pP="raichu-settings-module__settingsItemIcon___wxjpX",vP="raichu-settings-module__settingsNavigationIcon___wj9I8",mP="raichu-settings-module__title___qWoeC",fP="raichu-settings-module__colorInfoIcon___QtlQ0",_P="raichu-settings-module__settingsItemIconContainer___qTjVZ",gP="raichu-settings-module__whiteItem___x03y0",yP="raichu-settings-module__settingsItemIconContainerPrev___uMh9t",bP="raichu-settings-module__settingsItemIconClose___ufl3H",EP="raichu-settings-module__settingsItemActive___N0moK",wP="raichu-settings-module__settingsItemActiveExtra___xv9di",SP="raichu-settings-module__settingBtn___Rv8Wp",CP="raichu-settings-module__gear___WMgea",kP="raichu-settings-module__qualityMark___zim3g",AP="raichu-settings-module__hd___i9TR1",PP="raichu-settings-module__fourK___kBv7d",IP="raichu-settings-module__animationContainer___dql_U",TP="raichu-settings-module__animationContainerMobile___OvL4s",RP="raichu-settings-module__gearRotate___L76Li",xP="raichu-settings-module__settingsPaletteItem___mjhrT",LP="raichu-settings-module__paletteItems___VWnf1",OP="raichu-settings-module__paletteItemsActive___sJvdD",NP="raichu-settings-module__settingsItemSubtitleBackground___OZQYV",MP="raichu-settings-module__settingsSubtitleBackgroundOpacity___IA1v9",DP="raichu-settings-module__settingsSubtitleBackgroundOpacityRow___bVSev",FP="raichu-settings-module__settingsSubtitleBackgroundOpacityItem___wvuzR",BP="raichu-settings-module__settingsSubtitleBackgroundOpacityItemActive____4FAs",HP="raichu-settings-module__settingsItemPrev___BBpCC",VP=(e,t,n)=>{if(!e&&!t)return 0;return n&&e?e/Oh:(e&&(e&&t&&(e/t==.5625||t>e))?e:t)||0},UP=(e,t)=>{const n=Object.keys(qw),r=!(!t||!e)&&t/e>parseFloat(Oh.toFixed(1));for(let i=1;i<n.length;i++){const a=+n[i-1],o=+n[i];if(VP(t,e,r)<=a+(o-a)/2)return qw[a]}const i=Number(n[n.length-1]);return qw[i]};var jP;let WP,zP,$P;jP=class extends Oo{constructor(e){super(),this.__qualities=(WP(this),Mr.box([])),this.__activeQualityIndex=Mr.box(-1),this.__autoQuality=Mr.box(!1),this.__embedQuality=Mr.box(""),this.__manuallySettedQualityIndex=Mr.box(-1),this._config=e,Ca(this,{qualities:Hr,activeQualityIndex:Hr,manuallySettedQualityIndex:Hr,manuallySettedQuality:Hr,activeQualityValue:Hr,autoQuality:Hr,frameDuration:Hr})}init(){return $i((()=>({activeQualityIndex:this.activeQualityIndex,autoQuality:this.autoQuality})),(e=>{let{activeQualityIndex:t,autoQuality:n}=e;if(-1===t||n)Jy(Ih,Yw);else{const e=this.qualities.find((e=>e.index===t));e&&Jy(Ih,parseInt(e.value).toString())}}))}initQualityHistory(){return $i((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>{this.manuallySettedQualityIndex=null,this.activeQualityIndex=null}))}get qualities(){return ha(this.__qualities.get())}set qualities(e){const t=[{level:-1,value:Yw,index:-1}],n=e.filter((e=>e.height)),r=(n.length?(e=>e.map(((e,t)=>{let n;return n="number"==typeof e.qualityIndex?e.qualityIndex:"number"==typeof e.level?e.level:t,{value:UP(e.height,e.width),height:e.height,width:e.width,level:n,bitrate:e.bitrate,frameRate:e.frameRate,frameDuration:e.frameDuration,edge:e.edge,isAuto:e.isAuto}})))(n):(e=>e.filter((e=>e.bitrate)).map(((e,t)=>{let n;n="number"==typeof e.qualityIndex?e.qualityIndex:"number"==typeof e.level?e.level:t;const r={level:n,bitrate:e.bitrate,frameRate:e.frameRate,frameDuration:e.frameDuration,edge:e.edge,isAuto:e.isAuto};return e.bitrate&&e.bitrate>35e6?Ft(Ft({},r),{},{value:"2160p",height:2160,width:3840}):e.bitrate&&e.bitrate>16e6?Ft(Ft({},r),{},{value:"1440p",height:1440,width:2560}):e.bitrate&&e.bitrate>65e5?Ft(Ft({},r),{},{value:"1080p",height:1080,width:1920}):e.bitrate&&e.bitrate>45e5?Ft(Ft({},r),{},{value:"720p",height:720,width:1280}):e.bitrate&&e.bitrate>25e5?Ft(Ft({},r),{},{value:"480p",height:480,width:640}):e.bitrate&&e.bitrate>1e6?Ft(Ft({},r),{},{value:"360p",height:360,width:480}):Ft(Ft({},r),{},{value:"144p",height:144,width:256})})))(e)).sort(((e,t)=>{if(t.height&&e.height){if(e.height<t.height)return 1;if(t.height<e.height)return-1}return 0}));r.forEach(((e,t)=>{e.index=t+1})),t.push(...r),this.__qualities.set(t)}get activeQuality(){return this.qualities.find((e=>e.index===this.activeQualityIndex))}get activeQualityIndex(){return this.__activeQualityIndex.get()}set activeQualityIndex(e){this.__activeQualityIndex.set(e)}get activeQualityLevel(){const e=this.qualities.find((e=>e.index===this.activeQualityIndex));return e?e.level:-1}set activeQualityLevel(e){const t=this.qualities.find((t=>t.level===e));t&&void 0!==t.index&&(this.activeQualityIndex=t.index)}set manuallySettedQualityIndex(e){this.__manuallySettedQualityIndex.set(e)}get manuallySettedQualityIndex(){return this.__manuallySettedQualityIndex.get()}get manuallySettedQuality(){var e;const t=this.__manuallySettedQualityIndex.get();return null===t?null:(null===(e=this.qualities.find((e=>e.index===t)))||void 0===e?void 0:e.value)||Yw}get activeQualityValue(){const e=this.qualities.find((e=>e.index===this.activeQualityIndex));return(null==e?void 0:e.value)||Yw}get activeQualityTransferValue(){return this.activeQualityValue===Yw?this.activeQualityValue:parseInt(this.activeQualityValue).toString()}get autoQuality(){return this.__autoQuality.get()}get frameDuration(){var e;return null===(e=this.activeQuality)||void 0===e?void 0:e.frameDuration}set autoQuality(e){this.__autoQuality.set(e)}get embedQuality(){return this.__embedQuality.get()}set embedQuality(e){this.__embedQuality.set(e)}getUserQuality(){try{const e=Xy(Ih)||this.embedQuality;if("string"!=typeof e)return null;if(e===Yw)return-1;const t=this.qualities.find((t=>parseInt(t.value).toString()===e));return t?t.level:this.findFallbackQuality(e)}catch(e){return null}}findFallbackQuality(e){const t=Qw.findIndex((t=>t===e+"p"));if(-1===t)return-1;if(t<=3){for(let e=t-1;e>=0;e--){const t=this.qualities.find((t=>t.value===Qw[e]));if(t)return t.level}for(let e=1;e<=Qw.length-t;e++){const n=this.qualities.find((n=>n.value===Qw[t+e]));if(n)return n.level}}if(t>3){for(let e=1;e<=Qw.length-t;e++){const n=this.qualities.find((n=>n.value===Qw[t+e]));if(n)return n.level}for(let e=t-1;e>=0;e--){const t=this.qualities.find((t=>t.value===Qw[e]));if(t)return t.level}}return-1}},({e:[WP],c:[$P,zP]}=en(jP,[To({implement:"IQualitiesPlugin",ctor_args:[{implement:"IPlayerConfigPlugin",optional:!0}]})],[[Lo(),2,"init"],[Lo(),2,"initQualityHistory"]],0,void 0,Oo)),zP();const GP=e=>t=>{if(!t)return!1;const n=Object.entries(qw).find((e=>{let[,n]=e;return t.value===n}));return!(!n||-1===e.indexOf(n[1]))},KP=GP(["1080p","1440p"]),qP=GP(["2160p"]),YP=()=>Rc("IQualitiesPlugin"),QP=()=>{const e=!!Ak(),{activeQualityIndex:t,qualities:n}=YP(),r=n[null!=t?t:0],{color:i}=If(),a=KP(r),o=qP(r),s=e&&i?i:"#00A1E7";return st.createElement(st.Fragment,null,(a||o)&&st.createElement("div",{style:{backgroundColor:s},className:cl()(kP,{[AP]:a,[PP]:o})}))},ZP=lc((e=>{let{color:t,isActive:n}=e;return st.createElement(st.Fragment,null,st.createElement("div",{"aria-hidden":"true",className:cl()(CP,{[RP]:n})},st.createElement(JA,{color:t})))})),XP=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99397 8.54952C6.75184 8.79165 6.35928 8.79165 6.11715 8.54952L4.5616 6.99397C4.49362 6.92599 4.44473 6.84615 4.41492 6.76112C4.39761 6.71186 4.38635 6.65976 4.38202 6.6057C4.3795 6.57438 4.37934 6.54291 4.38156 6.51157C4.3861 6.44669 4.40063 6.38456 4.42362 6.32671C4.45142 6.25658 4.49252 6.19051 4.54691 6.13235C4.55231 6.12656 4.55783 6.12088 4.56345 6.1153L6.11715 4.5616C6.35928 4.31947 6.75184 4.31947 6.99397 4.5616C7.23609 4.80372 7.23609 5.19629 6.99397 5.43841L6.49684 5.93553H19C19.3424 5.93553 19.62 6.21312 19.62 6.55553V11.2222C19.62 11.5646 19.3424 11.8422 19 11.8422C18.6576 11.8422 18.38 11.5646 18.38 11.2222V7.17553H6.49679L6.99397 7.67271C7.23609 7.91483 7.23609 8.3074 6.99397 8.54952ZM5.62002 12.7778C5.62002 12.4354 5.34243 12.1578 5.00002 12.1578C4.6576 12.1578 4.38002 12.4354 4.38002 12.7778V17.4445C4.38002 17.7869 4.6576 18.0645 5.00002 18.0645H17.5033L17.0061 18.5617C16.7639 18.8038 16.7639 19.1963 17.0061 19.4385C17.2482 19.6806 17.6408 19.6806 17.8829 19.4385L19.4384 17.8829C19.5074 17.814 19.5567 17.7328 19.5864 17.6465C19.6027 17.5989 19.6135 17.5488 19.6178 17.4968C19.6205 17.4655 19.6207 17.434 19.6186 17.4027C19.6096 17.2678 19.5566 17.1353 19.4597 17.0284C19.4519 17.0199 19.444 17.0115 19.4358 17.0034L17.8829 15.4505C17.6408 15.2084 17.2482 15.2084 17.0061 15.4505C16.7639 15.6927 16.7639 16.0852 17.0061 16.3274L17.5032 16.8245H5.62002V12.7778Z",fill:t}))},JP=e=>{const t=xc("IDataPlugin"),n=zb(),r=(()=>{const e=xc("IStatisticState");return e instanceof Mv?e:null})(),{isLive:i}=t||{},{isEmbed:a}=$y();return(0,st.useMemo)((()=>a||i?null:{title:"Автовоспроизведение",type:"switcher",active:n.isAutoplayEnabled,navigationIcon:XP,onClick:()=>{const t=!e;n.isAutoplayEnabled=t,null==r||r.counterHelper.get("mainSettingsAutoplay")({action:t?"on":"off"})}}),[a,i,n,e,null==r?void 0:r.counterHelper])},eI=e=>{let{color:t="white"}=e;return st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},st.createElement("path",{fill:t,d:"M8.8 11c0 .4-.4.8-.8.8H5a.8.8 0 0 1 0-1.6h3c.4 0 .8.4.8.8Zm11 4c0 .4-.4.8-.8.8h-3a.8.8 0 0 1 0-1.6h3c.4 0 .8.4.8.8Zm0-4c0 .4-.4.8-.8.8h-7a.8.8 0 0 1 0-1.6h7c.4 0 .8.4.8.8Zm-7 4c0 .4-.4.8-.8.8H5a.8.8 0 0 1 0-1.6h7c.4 0 .8.4.8.8Z"}),st.createElement("path",{fill:t,d:"M1.3 8c0-2.6 2-4.8 4.7-4.8h12c2.6 0 4.8 2.2 4.8 4.8v8c0 2.6-2.2 4.8-4.8 4.8H6A4.7 4.7 0 0 1 1.2 16V8ZM6 4.7A3.2 3.2 0 0 0 2.7 8v8c0 1.8 1.5 3.3 3.3 3.3h12c1.8 0 3.3-1.5 3.3-3.3V8c0-1.8-1.5-3.3-3.3-3.3H6Z"}))},tI=e=>{const{options:t,activeColor:n,setPanel:r,hidePanel:i,isTouchDevice:a,captionsStore:o,settingsStore:s}=e;return[{title:"Цвет текста",type:"prev",onClick:()=>{r(t.current,"prev")}},{title:"",type:"palette",activeColor:n,onItemClick:e=>{o.captionsColor=e;const n=tI({options:t,activeColor:e,setPanel:r,hidePanel:i,isTouchDevice:a,captionsStore:o,settingsStore:s});a||(s.activePanel=n),a&&i()}}]},nI=e=>{const{options:t,size:n,setPanel:r,hidePanel:i,isTouchDevice:a,settingsStore:o,captionsStore:s}=e,l=(e,t)=>{s.captionsTextSize=e,o.activePanel=t,a&&i()};return[{title:"Размер текста",type:"prev",onClick:()=>{r(t.current,"prev")}},{title:"Уменьшенный",type:"option",active:"small"===n,onClick:()=>{l("small",nI({options:t,size:"small",setPanel:r,settingsStore:o,hidePanel:i,isTouchDevice:a,captionsStore:s}))}},{title:"Стандартный",type:"option",active:"medium"===n,onClick:()=>{l("medium",nI({options:t,size:"medium",setPanel:r,hidePanel:i,settingsStore:o,isTouchDevice:a,captionsStore:s}))}},{title:"Увеличенный",type:"option",active:"large"===n,onClick:()=>{l("large",nI({options:t,size:"large",setPanel:r,hidePanel:i,isTouchDevice:a,settingsStore:o,captionsStore:s}))}}]},rI=(e,t,n)=>{const r=(0,st.useRef)([]),i=Jf(),a=$y(),{captions:o,captionsTextSize:s,captionsColor:l,captionsBackgroundColor:u,onCaptionsSettingsClick:c}=i,d=gw().get("videoId");return(0,st.useMemo)((()=>{const h=o&&Object.keys(o).length;if(!h)return null;r.current=[];const p=tI({options:r,activeColor:l,setPanel:e,hidePanel:t,isTouchDevice:n,settingsStore:a,captionsStore:i}),v=nI({options:r,size:s,settingsStore:a,setPanel:e,hidePanel:t,isTouchDevice:n,captionsStore:i}),m=[{title:"Цвет фона",type:"prev",onClick:()=>{e(r.current,"prev")}},{title:"",type:"subtitleBg",onPaletteItemClick:e=>{i.captionsBackgroundColor=e,n&&t()},onBackgroundOpacityClick:e=>{i.captionsBackgroundOpacity=e,n&&t()}}];if(r.current.push({title:"Субтитры",type:"prev",onClick:()=>{e("default","prev")}}),o&&h>1){const n=(e=>{const{hidePanel:t,setPanel:n,options:r,onCaptionsSettingsClick:i,captionsStore:a,videoId:o}=e,{captions:s,activeCaption:l}=a,u=[];return u.push({title:"Язык",type:"prev",onClick:()=>{n(r.current,"prev")}}),Object.keys(s).forEach((e=>{var n;const r=e;u.push({title:null===(n=s[r])||void 0===n?void 0:n.langTitle,type:"option",active:(null==l?void 0:l.langTitle)===r,onClick:()=>{var e;a.activeCaption=s[r],a.setSavedSubs(o,{sub_id:r,expire:Date.now()+6048e5}),i.bind(a,null===(e=s[r])||void 0===e?void 0:e.langTitle),t()}})})),u})({settingsStore:a,captionsStore:i,hidePanel:t,videoId:d,setPanel:e,options:r,onCaptionsSettingsClick:c});r.current.push({title:"Язык",type:"next",options:n,innerOption:!0,onClick:()=>{e(n,"next")}})}return r.current.push({title:"Цвет текста",type:"color",activeColor:l,innerOption:!0,options:p,onClick:()=>{e(p,"next",276)}}),r.current.push({title:"Цвет фона",type:"color",activeColor:u,options:m,innerOption:!0,onClick:()=>{e(m,"next",294)}}),r.current.push({title:"Размер текста",type:"next",innerOption:!0,options:v,onClick:()=>{e(v,"next")}}),r.current.push({title:"Сбросить настройки",type:"option",active:!1,innerOption:!0,onClick:()=>{i.resetCaptionSettings(),t()}}),{title:"Субтитры",type:"next",options:r.current,navigationIcon:eI,onClick:()=>{e(r.current,"next")}}}),[o,u,l,i,s,t,n,c,e,a,d])},iI=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M12 2.5C11.3895 2.5 10.7854 2.56034 10.1954 2.6777C9.78916 2.75851 9.39431 2.49469 9.3135 2.08844C9.23268 1.68218 9.4965 1.28734 9.90276 1.20652C10.5885 1.07012 11.2906 1 12 1C13.4117 1 14.8096 1.27806 16.1139 1.8183C17.4181 2.35853 18.6032 3.15037 19.6014 4.1486C20.5996 5.14683 21.3915 6.3319 21.9317 7.63615C22.4719 8.9404 22.75 10.3383 22.75 11.75C22.75 13.1617 22.4719 14.5596 21.9317 15.8638C21.3915 17.1681 20.5996 18.3532 19.6014 19.3514C18.6032 20.3496 17.4181 21.1415 16.1138 21.6817C14.8096 22.2219 13.4117 22.5 12 22.5C11.2906 22.5 10.5885 22.4299 9.90276 22.2935C9.4965 22.2127 9.23268 21.8178 9.3135 21.4116C9.39431 21.0053 9.78916 20.7415 10.1954 20.8223C10.7854 20.9397 11.3895 21 12 21C13.2147 21 14.4176 20.7607 15.5398 20.2959C16.6621 19.831 17.6818 19.1497 18.5407 18.2907C19.3997 17.4318 20.081 16.4121 20.5459 15.2898C21.0107 14.1676 21.25 12.9647 21.25 11.75C21.25 10.5353 21.0107 9.33244 20.5459 8.21018C20.081 7.08792 19.3997 6.0682 18.5407 5.20926C17.6818 4.35032 16.6621 3.66897 15.5398 3.20411C14.4176 2.73926 13.2147 2.5 12 2.5Z",fill:t}),st.createElement("path",{d:"M7.06789 3.0186C7.29801 3.36301 7.20536 3.82876 6.86095 4.05888C6.3608 4.39306 5.89092 4.77761 5.45926 5.20926C5.02761 5.64092 4.64306 6.1108 4.30888 6.61095C4.07876 6.95536 3.61301 7.04801 3.2686 6.81789C2.92419 6.58777 2.83154 6.12202 3.06166 5.77761C3.45007 5.19629 3.89701 4.65019 4.3986 4.1486C4.90019 3.64701 5.44629 3.20007 6.02761 2.81166C6.37202 2.58154 6.83777 2.67419 7.06789 3.0186Z",fill:t}),st.createElement("path",{d:"M2.33844 9.0635C2.74469 9.14431 3.00851 9.53916 2.9277 9.94541C2.81034 10.5354 2.75 11.1395 2.75 11.75C2.75 12.3605 2.81034 12.9646 2.9277 13.5546C3.00851 13.9608 2.74469 14.3557 2.33844 14.4365C1.93218 14.5173 1.53734 14.2535 1.45652 13.8472C1.32012 13.1615 1.25 12.4594 1.25 11.75C1.25 11.0406 1.32012 10.3385 1.45652 9.65276C1.53734 9.2465 1.93218 8.98268 2.33844 9.0635Z",fill:t}),st.createElement("path",{d:"M3.2686 16.6821C3.61301 16.452 4.07876 16.5446 4.30888 16.8891C4.64306 17.3892 5.02761 17.8591 5.45926 18.2907C5.89092 18.7224 6.3608 19.1069 6.86095 19.4411C7.20536 19.6712 7.29801 20.137 7.06789 20.4814C6.83777 20.8258 6.37202 20.9185 6.02761 20.6883C5.44629 20.2999 4.90019 19.853 4.3986 19.3514C3.89701 18.8498 3.45007 18.3037 3.06166 17.7224C2.83154 17.378 2.92419 16.9122 3.2686 16.6821Z",fill:t}),st.createElement("path",{d:"M15.9142 11.75C15.9142 11.1591 15.5767 10.7405 15.2239 10.4291C14.8908 10.1351 14.4151 9.82616 13.8733 9.4743L13.4483 9.19825C12.8096 8.78339 12.2601 8.42643 11.8034 8.21745C11.3329 8.00219 10.7451 7.84196 10.1651 8.15687C9.58502 8.47178 9.39923 9.05201 9.32348 9.56381C9.24995 10.0607 9.24999 10.7159 9.25004 11.4774V12.0225C9.24999 12.784 9.24995 13.4393 9.32348 13.9362C9.39923 14.448 9.58502 15.0282 10.1651 15.3431C10.7451 15.658 11.3329 15.4978 11.8034 15.2826C12.2601 15.0736 12.8096 14.7166 13.4482 14.3018L13.8732 14.0257C14.4151 13.6739 14.8909 13.3649 15.2239 13.0709C15.5767 12.7595 15.9142 12.3409 15.9142 11.75ZM13.0092 10.7017C13.6122 11.0934 13.9917 11.3423 14.2313 11.5537C14.3445 11.6536 14.391 11.7156 14.4087 11.7457L14.4112 11.75L14.4087 11.7543C14.391 11.7844 14.3445 11.8464 14.2313 11.9463C13.9917 12.1578 13.6122 12.4066 13.0092 12.7983L12.6809 13.0115C11.9783 13.4678 11.5227 13.7614 11.1793 13.9185C11.0139 13.9942 10.9252 14.0143 10.8843 14.0183C10.8654 13.9818 10.834 13.8966 10.8073 13.7166C10.752 13.343 10.75 12.801 10.75 11.9632V11.5368C10.75 10.699 10.752 10.157 10.8073 9.78341C10.834 9.60344 10.8654 9.51821 10.8843 9.48168C10.9252 9.48574 11.0139 9.50576 11.1793 9.58146C11.5227 9.73857 11.9783 10.0322 12.6809 10.4885L13.0092 10.7017ZM10.8551 14.0172C10.8556 14.0166 10.8603 14.0166 10.868 14.0192C10.8585 14.0192 10.8547 14.0179 10.8551 14.0172ZM10.8925 14.0325C10.8988 14.0375 10.9014 14.0415 10.9011 14.0422C10.9008 14.0429 10.8977 14.0405 10.8925 14.0325ZM10.9011 9.4578C10.9014 9.45853 10.8988 9.46249 10.8925 9.46748C10.8977 9.45955 10.9008 9.45706 10.9011 9.4578ZM10.868 9.4808C10.8603 9.48337 10.8556 9.48339 10.8551 9.48276C10.8547 9.48212 10.8585 9.48084 10.868 9.4808Z",fill:t}))},aI=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M14.7074 2.33484C14.2058 1.81883 13.5168 1.5278 12.7971 1.52802H11.5431C10.8371 1.52801 10.1601 1.80936 9.66203 2.30983C9.166 2.80825 8.88813 3.48307 8.88923 4.18603C8.8771 4.81787 8.36235 5.32463 7.73017 5.32664C7.5412 5.32401 7.35625 5.27179 7.1937 5.17531L7.18375 5.16961C5.91258 4.44122 4.29245 4.87659 3.55715 6.14238L2.89323 7.23376L2.88414 7.24912C2.15201 8.51975 2.58492 10.1432 3.85252 10.8805C3.86035 10.8851 3.86826 10.8895 3.87625 10.8938L3.94465 10.9303C4.26109 11.1171 4.43617 11.4316 4.43617 11.889C4.43617 12.3045 4.21392 12.6888 3.85406 12.8966C2.58637 13.6299 2.15239 15.2516 2.88437 16.5201L2.88516 16.5215L3.51338 17.605C3.85727 18.2212 4.43178 18.6758 5.11079 18.8688C5.79232 19.0625 6.523 18.9767 7.14104 18.6303L7.15224 18.6237C7.41594 18.4699 7.73017 18.4277 8.02509 18.5066C8.32002 18.5856 8.57111 18.7791 8.72272 19.0441L8.72884 19.0544C8.82544 19.2172 8.87759 19.4024 8.8801 19.5916C8.88263 21.0602 10.0739 22.25 11.5431 22.25H12.7971C14.2629 22.25 15.4532 21.0655 15.4602 19.5997L15.4602 19.5925C15.4587 19.2845 15.5804 18.9888 15.7981 18.771C16.014 18.5552 16.3064 18.4337 16.6114 18.433C16.806 18.4396 16.9962 18.4934 17.1654 18.5899C18.4343 19.3201 20.0544 18.8891 20.7928 17.6255L21.4495 16.5312L21.4543 16.5228C21.8099 15.9125 21.9075 15.1856 21.7255 14.5031C21.5435 13.8205 21.0969 13.2387 20.4846 12.8865C20.2184 12.7333 20.0243 12.4804 19.9451 12.1836C19.866 11.8869 19.9084 11.5708 20.063 11.3055L20.0658 11.3007C20.1654 11.1268 20.3096 10.9827 20.4834 10.8831L20.4893 10.8796C21.7245 10.1572 22.1639 8.59197 21.4991 7.33626C21.4867 7.3064 21.4724 7.27727 21.4561 7.24908L20.8337 6.16904C20.1007 4.89682 18.4762 4.45788 17.2023 5.18787L17.1945 5.19245C16.9305 5.34798 16.6154 5.39211 16.3188 5.3151C16.0222 5.23809 15.7685 5.04626 15.6135 4.78192L15.6114 4.77852C15.5163 4.61819 15.4643 4.43602 15.4603 4.24975C15.4761 3.53661 15.205 2.84667 14.7074 2.33484ZM12.7974 3.02802C13.1118 3.02789 13.4128 3.15499 13.6319 3.38038C13.851 3.60577 13.9695 3.91025 13.9605 4.22445L13.9602 4.25377C13.9649 4.70753 14.0892 5.15201 14.3205 5.5424C14.6771 6.14948 15.2603 6.59 15.9419 6.76696C16.6223 6.94362 17.3449 6.84311 17.9512 6.48761C18.5071 6.17131 19.2145 6.3633 19.534 6.91789L20.1192 7.93327C20.1298 7.95755 20.1417 7.98131 20.1549 8.00445C20.4704 8.55735 20.2828 9.26101 19.7343 9.58349C19.3313 9.81515 18.997 10.1496 18.7656 10.5527C18.4111 11.1626 18.314 11.8885 18.4958 12.5701C18.6778 13.2526 19.1244 13.8344 19.7366 14.1867C20.0029 14.3398 20.197 14.5928 20.2762 14.8896C20.3549 15.185 20.3132 15.4995 20.1604 15.7641L19.5041 16.8578L19.499 16.8666C19.1769 17.4202 18.4679 17.6092 17.913 17.2895L17.9107 17.2882C17.524 17.0672 17.0886 16.9452 16.6433 16.9333L16.6268 16.9331C15.9186 16.9296 15.2383 17.2095 14.7375 17.7103C14.2377 18.2102 13.9579 18.8887 13.9602 19.5954C13.9556 20.2342 13.4364 20.75 12.7971 20.75H11.5431C10.9008 20.75 10.3801 20.2293 10.3801 19.5869L10.3801 19.5792C10.3754 19.1267 10.2518 18.6836 10.0218 18.294C9.67127 17.6844 9.09231 17.2395 8.41286 17.0576C7.73399 16.876 7.01084 16.972 6.403 17.3243C6.13404 17.4735 5.81685 17.5101 5.52087 17.426C5.22322 17.3414 4.97155 17.1416 4.82156 16.871L4.81438 16.8583L4.18359 15.7704C3.86591 15.2192 4.05465 14.5139 4.6052 14.1949C5.42882 13.7192 5.93617 12.8402 5.93617 11.889C5.93617 10.9839 5.5468 10.1232 4.68531 9.62583C4.67818 9.62171 4.67097 9.6177 4.6637 9.61382L4.59646 9.5779C4.05306 9.25444 3.86759 8.55524 4.17993 8.0048L4.84293 6.91495L4.85202 6.89958C5.1714 6.34528 5.87824 6.15319 6.43402 6.46882C6.82339 6.69851 7.26629 6.82195 7.71841 6.82664L7.72612 6.82664C9.18208 6.82679 10.3683 5.65763 10.3892 4.20182L10.3892 4.18745C10.3878 3.88046 10.5087 3.58554 10.7252 3.36794C10.9418 3.15034 11.2361 3.02801 11.5431 3.02802L12.7974 3.02802Z",fill:t}),st.createElement("path",{d:"M12.1746 10.0029C11.1329 10.0029 10.2885 10.8473 10.2885 11.889C10.2885 12.9307 11.1329 13.7752 12.1746 13.7752C13.2163 13.7752 14.0608 12.9307 14.0608 11.889C14.0608 10.8473 13.2163 10.0029 12.1746 10.0029ZM8.78845 11.889C8.78845 10.0189 10.3045 8.50287 12.1746 8.50287C14.0447 8.50287 15.5608 10.0189 15.5608 11.889C15.5608 13.7591 14.0447 15.2752 12.1746 15.2752C10.3045 15.2752 8.78845 13.7591 8.78845 11.889Z",fill:t}))},oI=(e,t,n)=>{const r=n.length-1>t&&n[t+1],i=t>0&&n[t-1];return!(!r||r.value!==e.value)||(!i||i.value!==e.value)},sI=()=>st.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7",strokeWidth:"1.5"}),st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17764 11.4276H10.6185V4H9.17764V6.91111H6.47776V4H5.03223V11.4276H6.47776V8.22187H9.17764V11.4276ZM17.5571 9.74093C17.8524 9.17869 18 8.47928 18 7.6427C18 6.84676 17.8555 6.17952 17.5664 5.64099C17.2773 5.09908 16.87 4.69094 16.3447 4.4166C15.8193 4.13887 15.1991 4 14.4841 4H12.3438V11.4276H14.2743C15.0577 11.4276 15.7276 11.2871 16.2841 11.006C16.8405 10.7215 17.2648 10.2998 17.5571 9.74093ZM16.2747 6.33194C16.4239 6.68418 16.4986 7.13465 16.4986 7.68334C16.4986 8.49283 16.326 9.10249 15.981 9.51231C15.639 9.92214 15.1152 10.127 14.4095 10.127H13.7894V5.29044H14.5587C14.9815 5.29044 15.3359 5.37511 15.6219 5.54446C15.911 5.71381 16.1286 5.9763 16.2747 6.33194Z",fill:"#00A1E7"})),lI=()=>st.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7",strokeWidth:"1.5"}),st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.65067 10.342H10.5346V9.02873H9.65067V4H8.21931L5 9.16553V10.342H8.13393V12H9.65067V10.342ZM8.13393 7.67168V9.02873H6.36607L7.71205 6.81259C7.8058 6.65937 7.88783 6.51345 7.95815 6.37483C8.02846 6.23256 8.09542 6.08664 8.15904 5.93707H8.19922C8.19587 5.99179 8.18917 6.08846 8.17913 6.22709C8.17243 6.36206 8.16574 6.5171 8.15904 6.6922L8.13895 7.21751C8.1356 7.39261 8.13393 7.544 8.13393 7.67168ZM15.7723 12H17.5402L14.9587 7.54036L17.5201 4H15.7924L13.8036 6.71956C13.6998 6.87643 13.5977 7.03329 13.4972 7.19015C13.3968 7.34701 13.2946 7.50388 13.1908 7.66074V4H11.6339V12H13.1908V9.14364L13.8488 8.62927L15.7723 12Z",fill:"#00A1E7"})),uI=e=>KP(e)?sI:qP(e)?lI:void 0,cI=["children"];function dI(e){const{children:t}=e,n=bp(e,cI);return st.createElement("span",ll({role:"listitem"},n),t)}const hI=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M9 18L15 12L9 6",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},pI=e=>{let{color:t="white"}=e;return st.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M6 12L10.3333 16L19 8",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))};var vI="freyja_char-palette-item__paletteItem_oGoN1",mI="freyja_char-palette-item__disabled_Ht1cw",fI="freyja_char-palette-item__active_8T-bD";const _I=e=>{const{onClick:t,color:n,isActive:r=!1,isDisabled:i=!1,itemClass:a,activeClass:o}=e,s=cl()(vI,a,{[fI]:r,[null!=o?o:""]:r,[mI]:i});return st.createElement("button",{className:s,onClick:t,style:{backgroundColor:`${n}`}})};var gI="freyja_char-palette__palette_u7AvW";const yI=["#e53935","#8e24aa","#5e35b1","#3949ab","#0e8dee","#00cbff","#00897b","#43a047","#7cb342","#fbf819","#fdd835","#ffb300","#d57700","#6d4c41","#000000","#9e9e9e","#e0e0e0","#ffffff"],bI=e=>{const{colors:t,onItemClick:n,activeColor:r,className:i,itemClass:a,itemActiveClass:o}=e,s=t||yI,l=cl()(gI,i);return st.createElement("div",{className:l},s.map((e=>st.createElement(_I,{key:e,color:e,onClick:t=>{n(e,t)},isActive:e===r,itemClass:a,activeClass:o}))))},EI=[{0:"Без фона",2:"20%",3:"30%",4:"40%",5:"50%"},{6:"60%",7:"70%",8:"80%",9:"90%",10:"100%"}],wI=e=>{let{onVariantClick:t,activeVariant:n,isTouchDevice:r}=e;return st.createElement(st.Fragment,null,st.createElement("p",null,"Прозрачность фона"),st.createElement("div",{"aria-label":"Прозрачность фона"},EI.map((e=>st.createElement("div",{className:DP},Object.keys(e).map((i=>{const a=parseFloat(i);return st.createElement("button",{tabIndex:0,"aria-label":e[a],className:cl()(FP,{[tP]:r,[BP]:a===n}),onClick:()=>{t&&t(a)}},e[a])})))))))},SI={switcher:e=>{let{active:t,onClick:n,title:r,navigationIcon:i}=e;return st.createElement(dI,{className:sP},st.createElement("button",{tabIndex:0,"aria-label":`${r} В${t?"ы":""}ключить`,className:lP,onClick:n,key:r},i&&st.createElement("div",{className:vP},st.createElement(i,{color:"currentColor"})),st.createElement("span",{className:mP},r),st.createElement(Cc,{onChange:n,size:Sc.SMALL,classNames:{placement:t?"":uP},isActive:!!t})))},next:e=>{const{activeValue:t,activeValueExtra:n,title:r,aria:i,onClick:a,activeValueIcon:o,navigationIcon:s,innerOption:l=!1}=e;return st.createElement(dI,{className:sP},st.createElement("button",{tabIndex:0,className:cl()(lP,{[cP]:l}),"aria-label":i||r,onClick:a,key:r},s&&st.createElement("div",{"aria-hidden":"true",className:vP},st.createElement(s,{color:"currentColor"})),st.createElement("span",{"aria-hidden":"true",className:mP},r),st.createElement("span",{"aria-hidden":"true",className:_P},st.createElement(st.Fragment,null,t&&st.createElement("span",{className:EP},t,n&&st.createElement("span",{className:wP},n),o&&st.createElement(o,null)),st.createElement("span",{className:pP},st.createElement(hI,null))))))},prev:e=>{const{title:t,onClick:n}=e;return st.createElement(dI,{className:cl()(sP,HP)},st.createElement("button",{tabIndex:0,"aria-label":t+" вернуться назад",className:lP,onClick:n,key:t},st.createElement("span",{"aria-hidden":"true",className:cl()(_P,yP)},st.createElement("span",{className:cl()(pP,bP)},st.createElement(hI,null)),st.createElement("span",null,t))))},option:e=>{const{active:t,title:n,onClick:r,icon:i}=e,a=n+(t?" Выбрано":"");return st.createElement(dI,{className:sP},st.createElement("button",{tabIndex:0,"aria-label":a,className:cl()(lP,cP,{[dP]:t}),onClick:()=>{r&&r()}},st.createElement("span",{"aria-hidden":"true",className:hP},n,i&&st.createElement(i,null)),st.createElement("span",{"aria-hidden":"true",className:_P},t&&st.createElement("span",{className:pP},st.createElement(pI,null)))))},palette:e=>{const{onItemClick:t,activeColor:n,isTouchDevice:r}=e;return st.createElement("div",{role:"listitem","aria-label":"Выбор цвета",className:cl()(lP,xP)},st.createElement(bI,{onItemClick:(e,n)=>{t&&t(e)},itemClass:cl()(LP,{[tP]:r}),itemActiveClass:OP,activeColor:n}))},color:e=>{const{activeColor:t,title:n,onClick:r,innerOption:i=!1}=e,a="#ffffff"===t;return st.createElement(dI,{className:sP},st.createElement("button",{tabIndex:0,"aria-label":n,className:cl()(lP,{[cP]:i}),onClick:r,key:n},st.createElement("span",{className:hP},n),st.createElement("span",{className:_P},st.createElement(st.Fragment,null,t&&st.createElement("span",{className:cl()(fP,{[gP]:a}),style:{backgroundColor:t}}),st.createElement("span",{className:pP},st.createElement(hI,null))))))},subtitleBg:lc((e=>{const{onPaletteItemClick:t,onBackgroundOpacityClick:n,isTouchDevice:r}=e,{captionsBackgroundColor:i,captionsBackgroundOpacity:a}=Jf(),o=t||((e,t)=>{});return st.createElement("div",{className:cl()(lP,NP),role:"listitem"},st.createElement("div",{className:xP,"aria-label":"Цвет фона"},st.createElement(bI,{onItemClick:o,itemClass:cl()(LP,{[tP]:r}),itemActiveClass:OP,activeColor:i})),st.createElement("div",{className:MP},st.createElement(wI,{activeVariant:a,onVariantClick:n,isTouchDevice:r})))})),action:e=>{const{title:t,onClick:n,navigationIcon:r}=e;return st.createElement(dI,{className:sP},st.createElement("button",{tabIndex:0,"aria-label":t,className:cl()(lP),onClick:e=>{n&&n(e)}},r&&st.createElement("div",{"aria-hidden":"true",className:vP},st.createElement(r,{color:"currentColor"})),st.createElement("span",{"aria-hidden":"true",className:mP},t)))}},CI=e=>{const t=SI[e.type]?SI[e.type]:null;return t&&st.createElement(t,e)},kI=e=>{let{listRef:t,enabled:n,items:r}=e;(0,st.useEffect)((()=>{const e=e=>{var n;if(!["ArrowUp","ArrowDown"].includes(e.key))return;e.preventDefault();const r=null===(n=t.current)||void 0===n?void 0:n.querySelectorAll("a, button"),i=r?Array.from(r):[];if(!i.length)return;const a=i.findIndex((e=>e===document.activeElement)),o=i[a+("ArrowUp"===e.key?-1:1)]||i[0];null==o||o.focus()};return n&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n,r,t])},AI=(0,st.forwardRef)(((e,t)=>{const{items:n,panelWidth:r,enableKeyboard:i}=e,{isTouchDevice:a,isEmbed:o}=Ay(),s=ey().size,l=(null==s?void 0:s.height)||0;let u=l?l-(a?60:70):300;a&&(u=Math.max(u,250));const c=(0,st.useCallback)((e=>{e.stopPropagation()}),[]),d=(0,st.useRef)(null);return kI({listRef:d,enabled:i}),st.createElement("div",{ref:t,className:cl()(nP,iP,{[tP]:a}),onTouchStart:c,style:{maxHeight:o?"calc(100vh - 60px)":`${u}px`}},st.createElement("div",{role:"list",ref:d,className:oP,style:{width:r.toString()+"px"}},null==n?void 0:n.map(((e,t)=>st.createElement(CI,ll({},e,{isTouchDevice:a,key:t.toString()+e.title}))))))})),PI=lc(AI),II=e=>{let{color:t="white"}=e;return st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},st.createElement("path",{fill:t,d:"M5 10.38a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Zm7 0a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Zm7 0a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Z"}))},TI=e=>{var t;let n,r;if(!e||!e.url)return{edge:"",dive:""};const i=null==e||null===(t=e.url)||void 0===t?void 0:t[0];try{r=new URL(i).hostname}catch(e){console.info(e)}if(-1!==i.indexOf("dive")){const e=i.split("/");n=e[e.indexOf("dive")+1]}return{edge:r,dive:n}};function RI(){var e;const t=navigator.userAgent.toLowerCase().includes("android"),n=Boolean(null===(e=window)||void 0===e||null===(e=e.screen.orientation)||void 0===e?void 0:e.lock);return t&&n}const xI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.round(e*t)/t},LI=e=>{if(!e)return"undefined";const[t=[],n,r]=e,i=t.map((e=>{let{start:t,end:n}=e;return`(${Math.round(t)}, ${Math.round(n)})`})).join(", ");return`${i} | ${Math.round(n)} | ${Math.round(r)}`},OI=(e,t)=>{var n,r;const{videoId:i,bufferedData:a,bandwidthEstimate:o,currentLevel:s,isLive:l,isDVR:u,isAutoQuality:c,activeQuality:d,currentTime:h,duration:p,volume:v,muted:m}=e,f=void 0!==(null==s?void 0:s.bitrate)?`${Math.round(s.bitrate/1024)} kb`:"undefined",{edge:_,dive:g}=TI(s),[y,b]=(()=>{var e,t;if(null===(e=window)||void 0===e||null===(e=e.navigator)||void 0===e||!e.userAgent)return["",""];const n=null===(t=window)||void 0===t||null===(t=t.navigator)||void 0===t||null===(t=t.userAgent)||void 0===t?void 0:t.split(") ");return[`${n[0]})`,n.slice(1).join(") ")]})();return[{label:"Video Id",value:i},{label:"Bandwidth",value:o?`${Math.round(o/1048576)} mbps`:"undefined"},{label:"Codecs",value:`${String(null==s?void 0:s.videoCodec)} | ${String(null==s?void 0:s.audioCodec)}`},{label:"Buffer",value:LI(a)},{label:"Screen Resolution",value:`${null===(n=window)||void 0===n||null===(n=n.screen)||void 0===n?void 0:n.width}x${null===(r=window)||void 0===r||null===(r=r.screen)||void 0===r?void 0:r.height}`},{label:"Video Quality",value:`${String(null==s?void 0:s.width)}x${String(null==s?void 0:s.height)} | ${f}`},{label:"Edge | Dive",value:`${String(_)} | ${String(g)}`},{label:"isLive | isDVR",value:`${String(l)} | ${String(u)}`},{label:"Auto Quality Enabled",value:c.toString()},{label:"Current Quality",value:d},{label:"Playback Position",value:`${h} / ${p}`},{label:"Last Ad Name"},{label:"Volume | Muted",value:`${xI(v)}% | ${m.toString()}`},{label:"Current Domain",value:_d()},{label:"Player Version",value:t.versionName},{label:"Current Date",value:(new Date).toString()},{label:"User Agent",value:`${y} ${b}`},{label:"Screen Lock API",value:String(RI())}]},NI=()=>Tc().resolve("IStatsForNerdsPlugin"),MI=()=>{const e=NI();return(0,st.useMemo)((()=>OI(e,{versionName:e.versionName})),[e])},DI=lc((e=>{let{hidePanel:t,onPanelResize:n}=e;const{isTouchDevice:r}=Ay(),i=r?297:268,a=$y(),{activePanel:o,prevPanel:s,nextPanel:l,settingsList:u,options:c}=a,{isAutoplayEnabled:d}=zb(),{isLive:h,isTVStream:p}=Ym(),v=(0,st.useRef)(null),m=!!Ak(),[f,_]=(0,st.useState)(""),[g,y]=(0,st.useState)(i),b=(0,st.useRef)(null),E=(0,st.useRef)(null);(0,st.useEffect)((()=>{v.current=u}),[u]);const w=(0,st.useCallback)(((e,t,n)=>{a.activePanel=null,a.prevPanel=b.current,"default"===e?(b.current=v.current,_(t),a.nextPanel=v.current,y(i)):(b.current=e,_(t),a.nextPanel=e,y(n||i))}),[]),S=!h&&((e,t)=>{const n=Zy,r=XA().playback,i=r.playbackRate,{counterHelper:a}=zm();return(0,st.useMemo)((()=>{const o=[];return null!=n&&n.length?(o.push({title:"Скорость",type:"prev",onClick:()=>{e("default","prev")}}),n.forEach((e=>{o.push({title:`${e}x`,type:"option",active:i===e,onClick:()=>{r.handlePlaybackRate(e),null==a||a.get("mainSettingsPlaybackRate")(e),t()}})})),{title:"Скорость",aria:`Скорость ${i}x`,type:"next",options:o,activeValue:`${i}x`,navigationIcon:iI,onClick:()=>{e(o,"next")}}):null}),[n,i,e,r,a,t])})(w,t),C=((e,t)=>{const n=Qm(),{activeQualityIndex:r,activeQualityLevel:i,autoQuality:a,qualities:o}=YP();return(0,st.useMemo)((()=>{if(!o||o.length<=0)return null;const s=[];s.push({title:"Качество",type:"prev",onClick:()=>{e("default","prev")}}),o.filter(oI).forEach(((e,i)=>{const o=((e,t,n)=>t?-1===e.level:n===e.index)(e,a,null!=r?r:-1);s.push({title:e.value===Yw?"Автоматически":`${e.value}${e.frameRate||""}`,type:"option",active:o,icon:uI(e),onClick:o?void 0:()=>{n.changeQuality(0===i?-1:i,e.level),t()}})}));const l={title:"Качество",type:"next",options:s,onClick:()=>{e(s,"next")},navigationIcon:aI},u=s.find((e=>e.active));if(u){const e=o.find((e=>e.level===i)),t=a&&(null==e?void 0:e.value)!==Yw;l.activeValue=u.title,t&&(l.activeValue=null!=e&&e.value?`${e.value}${e.frameRate||""}`:"",l.aria=`Качество ${u.title} ${l.activeValue}`),l.activeValueExtra=t?"(Авто)":void 0,l.activeValueIcon=u.icon}return l}),[o,i])})(w,t),k=e_()&&rI(w,t,jc.isMobile),A=c.isShowAutoPlay&&JP(d),P=c.isShowMore&&(e=>{let{isInteractive:t,isEmbed:n,setPanel:r,isLive:i,isTVStream:a,hidePanel:o}=e;const{sendStats:s,extraActions:l,playback:u}=$y(),c=MI();return(0,st.useMemo)((()=>{if(!l)return null;const e=[{title:Nc.More,type:"prev",onClick:()=>{r("default","prev")}},!a&&{title:Nc.Replay,type:"action",navigationIcon:Kc,onClick:()=>{l.replay(),o(),s("mainPlayerSettingsMoreMenuReplay")}},!n&&!i&&{title:Nc.LoopVideo,type:"switcher",navigationIcon:$c,active:u.isLooping,onClick:()=>{u.isLooping?s("mainPlayerSettingsMoreMenuReplayVideoOff"):s("mainPlayerSettingsMoreMenuReplayVideoOn"),u.isLooping=!u.isLooping,o()}},{title:Nc.CopyLink,type:"action",navigationIcon:Fc,onClick:()=>{l.copyLink(),o(),s("mainPlayerSettingsMoreMenuCopyLinkVideo")}},!t&&!a&&{title:Nc.CopyLinkAtTime,type:"action",navigationIcon:Fc,onClick:()=>{l.copyLinkAtTime(),o(),s("mainPlayerSettingsMoreMenuCopyLinkAtTime")}},{type:"action",title:Nc.CopyTag,navigationIcon:Vc,onClick:()=>{l.copyTag(),o(),s("mainPlayerSettingsMoreMenuCopyTag")}},{title:Nc.HotkeysManual,type:"action",navigationIcon:Uc,onClick:()=>{l.hotkeysManual(),o(),s("mainPlayerSettingsMoreMenuHotkeyManual")}},{type:"action",title:Nc.Info,navigationIcon:Wc,onClick:()=>{jc.isMobile?l.copyTechInfo():l.toggleTechInfo(),Ad(JSON.stringify(c)).catch(console.info),o(),s("mainPlayerSettingsMoreMenuCopyInfo")}},{type:"action",title:Nc.ReportError,navigationIcon:Yc,onClick:()=>{l.reportError(),o(),s("mainPlayerSettingsMoreMenuReportError")}},n&&{title:Nc.Claim,type:"action",navigationIcon:Mc,onClick:()=>{l.claim(),o(),s("mainPlayerSettingsMoreMenuReportVideo")}}].filter(Boolean);return{title:Nc.More,type:"next",actions:e,navigationIcon:II,onClick:()=>r(e,"next",280)}}),[l,a,n,i,u,t,r,o,s,c])})({isInteractive:!1,isEmbed:m,setPanel:w,hidePanel:t,isLive:h,isTVStream:p});(0,st.useEffect)((()=>{a.clearSettingsList(),S&&a.addSettingsItem(S),C&&a.addSettingsItem(C),k&&a.addSettingsItem(k),A&&a.addSettingsItem(A),P&&a.addSettingsItem(P)}),[A,r,S,C,a,k,P]),(0,st.useEffect)((()=>{b.current=v.current,a.activePanel=v.current}),[u,a]),(0,st.useEffect)((()=>{n()}),[g,n]);const I=(0,st.useCallback)((e=>{const t=null==e?void 0:e.querySelector('[tabindex="0"]');t&&t.focus()}),[]);return st.createElement("div",Gf,st.createElement("div",{id:"raichuSettingsPanel",className:cl()(rP,{[aP]:m}),style:{width:g.toString()+"px"}},s&&l&&st.createElement(Vg,{in:!(!s||!l),appear:!0,unmountOnExit:!0,onEntered:()=>{a.activePanel=l,a.prevPanel=null,a.nextPanel=null},nodeRef:E,classNames:`raichu-settings-animation-${f}`,timeout:300},st.createElement("div",{ref:E,className:cl()(IP,{[TP]:r})},s&&st.createElement(Vg,{in:!!s,timeout:300,appear:!0,unmountOnExit:!0,classNames:"raichu-settings-animation-prevItem"},st.createElement(PI,{items:s,panelWidth:g})),l&&st.createElement(PI,{items:l,panelWidth:g}))),o&&st.createElement(PI,{ref:I,items:o,panelWidth:g,enableKeyboard:!0})))})),FI="popper-panel-wrapper-module__preventTap___azySr",BI="popper-panel-wrapper-module__fullSizeOverlay___TyQx2",HI=e=>{let{size:t,coordinates:n}=e;const r=(0,st.useRef)(null),i=(0,st.useCallback)((e=>{if(r.current=e,e&&t&&n){const{width:r,height:i}=t,{x:a,y:o}=n,s=e.getBoundingClientRect(),l=`-${s.y-o}px`,u=`-${s.x-a}px`;e.style.top=l,e.style.left=u,e.style.width=`${r}px`,e.style.height=`${i}px`}}),[t,n]);return st.createElement("div",{ref:i,className:cl()(BI,FI)})},VI=e=>{let{className:t,popperOptions:n,visible:r,hidePanel:i,renderButton:a,renderPanel:o,testId:s,size:l,coordinates:u,portal:c=!1,portalContainer:d}=e;const h=(0,st.useRef)(null),p=(0,st.useRef)(null),v=(0,st.useRef)(null),m=(0,st.useCallback)((()=>{var e;(null===(e=h.current)||void 0===e?void 0:e.update)&&h.current.update().catch(console.error)}),[]);return zu(v,(e=>{const t=e.composedPath()||[];!!p.current&&t.includes(p.current)||v.current&&r&&(i(),e.preventDefault(),e.stopPropagation())})),(0,st.useEffect)((()=>{var e;(null===(e=h.current)||void 0===e?void 0:e.update)&&h.current.update().catch(console.error)}),[null==l?void 0:l.width]),st.createElement(st.Fragment,null,st.createElement("div",ll({"data-testid":s,className:t,role:"none",tabIndex:uv()?-1:void 0},jf),st.createElement(Vu,{anchorRef:p,hidePopperOnHidingElement:!1,isPopperShown:r,popperOptions:n,portal:c,portalContainer:d,popperKey:Mu,customPopperZIndex:1e3,instanceRef:h,renderPopperElements:()=>st.createElement("div",{ref:v},o({onResize:m}))},a(p))),jc.isMobile&&r&&st.createElement(HI,{size:l,coordinates:u}))},UI=lc((e=>{let{action:t,buttonsSize:n}=e;const r=Jc(),{isTouchDevice:i}=Ay(),a=zm(),{isShowSettingsPannel:o}=a,{size:s,coordinates:l}=XA(),u=i?void 0:kt.Settings,c=(0,st.useMemo)((()=>({placement:i?"bottom-end":"top",modifiers:[{name:"offset",options:{offset:i?[-6,0]:[0,23]}},{name:"preventOverflow",options:{boundary:r||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[i,r]),d=(0,st.useCallback)((()=>{a.activePanel="",a.setHideControlsTimer()}),[a]),h=(0,st.useCallback)((()=>{d(),a.preventHideControls=!1}),[a,d]),p="settings"===a.activePanel,v=(0,st.useCallback)((()=>{a.activePanel=p?"":"settings"}),[a,p]);return st.createElement(VI,{portal:!1,className:cl()(eP,{[tP]:i}),popperOptions:c,visible:o,hidePanel:d,size:s,coordinates:l,renderButton:e=>st.createElement(Xf,{ref:e,tabIndex:0,role:"button","aria-haspopup":"true","aria-controls":"raichuSettingsPanel","aria-expanded":o,"aria-label":(o?"Закрыть":"Открыть")+" настройки видеоплеера",action:t,className:SP,tooltipTitle:u,tooltipPlacement:"top",tooltipZIndex:kt.ControlsTooltipZIndex,onClick:v,iconSticker:st.createElement(QP,null),size:n},st.createElement(ZP,{color:"#fff",isActive:o})),renderPanel:e=>{let{onResize:t}=e;return st.createElement(DI,{hidePanel:h,onPanelResize:t})}})}));var jI,WI;let zI,$I,GI;new(WI=class extends Oo{constructor(e,t,n,r,i,a){super(),this._playerSize=void 0,this._settingsList=Mr.array([]),this._activePanel=Mr.box(null),this._nextPanel=Mr.box(null),this._prevPanel=Mr.box(null),this.__counterHelper=void 0,this._isEmbed=void 0,this._options={isShowMore:!0,isShowAutoPlay:!0},this.extraActions=n,this._playback=i,null!=r&&r.value&&(this._options=Ft(Ft({},this._options),r.value)),this.__counterHelper=t instanceof Mv?t.counterHelper:void 0,this._isEmbed=a.value,Ca(this,{activePanel:Hr,nextPanel:Hr,prevPanel:Hr,settingsList:Hr,addSettingsItem:Bi,clearSettingsList:Bi}),this._playerSize=e,this.sendStats=this.sendStats.bind(this)}sendStats(e){var t;null===(t=this.__counterHelper)||void 0===t||t.get(e)()}get activePanel(){return ha(this._activePanel.get())}set activePanel(e){this._activePanel.set(e)}get nextPanel(){return this._nextPanel.get()}set nextPanel(e){this._nextPanel.set(e)}get prevPanel(){return this._prevPanel.get()}set prevPanel(e){this._prevPanel.set(e)}get settingsList(){return ha(this._settingsList)}get size(){return this._playerSize.size}get coordinates(){return this._playerSize.coordinates}get options(){return this._options}get playback(){return this._playback}get isEmbed(){return this._isEmbed}addSettingsItem(e){this._settingsList.push(e)}clearSettingsList(){this._settingsList.clear()}},[GI,zI]=en(WI,[To({implement:"IVideoSettingsPlugin",ctor_args:["IPlayerSizePlugin","IStatisticState",{implement:"IExtraActionsPlugin",optional:!0},{implement:"VideoSettingsOptions",optional:!0},"IPlayback","IsEmbed"]})],[],0,void 0,Oo).c,$I=WI,(jI=class extends jo{constructor(){super(GI),this.VideoSettings=UI,zI()}})[$I]=void 0,jI);var KI,qI;let YI,QI,ZI,XI;var JI;let eT,tT,nT;new(qI=class extends Oo{constructor(e,t,n){super(),this._eventEmitter=void YI(this),this._counterHelper=void 0,this._isKeyboardShortuctsEnabled=Mr.box(!0),this.__handlers=new Map,this.__shiftHandlers=new Map,this._blocked=Mr.box(!1),this._playback=e,Vi((()=>{this._isKeyboardShortuctsEnabled.set(this._playback.isPlayerReady&&!(null!=n&&n.stub))})),this._counterHelper=t instanceof sl?t.counterHelper:void 0,this._eventEmitter=new kd}initListener(){const e=this._keyHandler.bind(this),t=$i((()=>this._isKeyboardShortuctsEnabled),(t=>{t&&(this.initHandlers(),window.addEventListener("keydown",e))}),{fireImmediately:!0});return()=>{window.removeEventListener("keydown",e),t()}}_keyHandler(e){const t=e.target,n=t&&(e=>{const t=e.nodeName.toLowerCase();return"true"===e.contentEditable||t.indexOf("input")>=0||t.indexOf("textarea")>=0})(t);if((e=>e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)(e)&&!XI.ALLOWED_SPECIAL_KEYS[e.code]||n)return;const r=e.shiftKey?this.__shiftHandlers.get(e.code):this.__handlers.get(e.code);r&&(this.stopEvent(e),this.blocked||r(e))}stopEvent(e){e.preventDefault(),e.stopPropagation()}initHandlers(){this.pushHandler({key:["Space","KeyK"],handler:()=>{this._playback.isPlaying?this._playback.pause():this._playback.play()}}),this.pushHandler({key:["KeyL","ArrowRight"],handler:()=>this.defaultForwardSeek()}),this.pushHandler({key:["KeyJ","ArrowLeft"],handler:()=>this.defaultBackwardSeek()}),this.pushHandler({key:"ArrowUp",handler:()=>{const e=Math.floor(Math.min(100*this._playback.volume+5,100));this._playback.handleVolume(e),this._eventEmitter.emit(xd.volumeUp,{newVolume:e})}}),this.pushHandler({key:"ArrowDown",handler:()=>{const e=Math.floor(Math.max(100*this._playback.volume-5,0));this._playback.handleVolume(e),this._eventEmitter.emit(xd.volumeDown,{newVolume:e})}}),this.pushHandler({key:"KeyM",handler:()=>{this._playback.handleMuted(),this._playback.muted,this._eventEmitter.emit(xd.mute,null)}}),this.pushHandler({key:"Period",handler:()=>{const e=Zy.findIndex((e=>e===this._playback.playbackRate));e<Zy.length-1&&(this._playback.playbackRate=Zy[e+1])}}),this.pushHandler({key:"Comma",handler:()=>{const e=Zy.findIndex((e=>e===this._playback.playbackRate));e>0&&(this._playback.playbackRate=Zy[e+1])}})}pushHandler(e){let{key:t,handler:n,shift:r}=e;const i=r?this.__shiftHandlers:this.__handlers;Array.isArray(t)?t.forEach((e=>{i.set(e,n)})):i.set(t,n)}getHandler(e){return this.__handlers.get(e)}getShiftHandler(e){return this.__shiftHandlers.get(e)}on(e,t){this._eventEmitter.on(e,t)}off(e,t){this._eventEmitter.off(e,t)}defaultForwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekForward(10),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:J_.HOTKEY,rewindDirection:eg.FORWARD}),this._eventEmitter.emit(xd.seekForward,t)}defaultBackwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekBack(10),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:J_.HOTKEY,rewindDirection:eg.BACK}),this._eventEmitter.emit(xd.seekBackward,t)}get blocked(){return this._blocked.get()}set blocked(e){this._blocked.set(e)}},({e:[YI],c:[XI,QI]}=en(qI,[To({implement:"IShortcutsPlugin",ctor_args:["IPlayback","IStatisticState",{implement:"IStubPlugin",optional:!0}]})],[[Lo(),2,"initListener"]],0,void 0,Oo)),ZI=qI,(KI=class extends jo{constructor(){super(XI),this.ALLOWED_SPECIAL_KEYS={KeyP:!0,KeyN:!0,ArrowLeft:!0,ArrowRight:!0},QI()}})[ZI]=void 0,KI);var rT;let iT,aT;JI=class extends XI{constructor(e,t,n,r,i,a,o,s,l,u,c,d,h){eT((super(e,r,s),this._playback=e,this._fullscreen=t,this._captions=n,this._nextPlugin=i,this._playlist=a,this._advert=o,this._stub=s,this._pip=l,this._cinema=u,this._qualitiesPlugin=c,this._controls=d,this._activities=h,this)),this._isKeyboardShortuctsEnabled.set(this._playback.isPlayerReady&&!(null!=o&&o.isPlaying)&&!(null!=s&&s.stub))}initVideo(){return this.initVideoHandlers(),$i((()=>{var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}),(e=>{this.blocked=e}))}initShortuctsEnabled(){var e,t;return this._isKeyboardShortuctsEnabled.set(this._playback.isPlayerReady&&!(null!==(e=this._advert)&&void 0!==e&&e.isPlaying)&&!(null!==(t=this._stub)&&void 0!==t&&t.stub)),$i((()=>{var e,t;return{isPlayerReady:this._playback.isPlayerReady,advertIsPlaying:null===(e=this._advert)||void 0===e?void 0:e.isPlaying,stub:null===(t=this._stub)||void 0===t?void 0:t.stub}}),(e=>{let{isPlayerReady:t,advertIsPlaying:n,stub:r}=e;this._isKeyboardShortuctsEnabled.set(t&&!n&&!r)}))}initVideoHandlers(){super.initHandlers(),this.pushHandler({key:"KeyL",handler:()=>!this._playback.isTvStream&&this.defaultForwardSeek()}),this.pushHandler({key:"KeyJ",handler:()=>!this._playback.isTvStream&&this.defaultBackwardSeek()}),this.pushHandler({key:"ArrowLeft",handler:e=>{e.altKey?this.nextFrameBackward():this._playback.isTvStream||this.defaultBackwardSeek()}}),this.pushHandler({key:"ArrowRight",handler:e=>{e.altKey?this.nextFrameForward():this._playback.isTvStream||this.defaultForwardSeek()}}),this.pushHandler({key:["KeyL","ArrowRight"],shift:!0,handler:()=>{var e;if(null!==(e=this._activities)&&void 0!==e&&e.isSkipButtonVisible)return void this._activities.skipButtonClick();if(this._playback.isTvStream)return;const{time:t,label:n}=this.getTimeMark();void 0!==t&&(this._playback.seek(t,"hotkey"),this._eventEmitter.emit(xd.nextTimeMark,{label:n||""}))}}),this.pushHandler({key:["KeyJ","ArrowLeft"],shift:!0,handler:()=>{if(this._playback.isTvStream)return;const{time:e,label:t}=this.getTimeMark(!0);void 0!==e&&(this._playback.seek(e,"hotkey"),this._eventEmitter.emit(xd.previousTimeMark,{label:t||""}))}}),this.pushHandler({key:"KeyC",handler:()=>{if(this._captions.hasCaptions){const e=this._captions.isShowCaptions;this._captions.isShowCaptions=!e,this._eventEmitter.emit(xd.subtitles,!e)}}}),this.pushHandler({key:"KeyN",shift:!0,handler:()=>{var e,t,n;null!==(e=this._playlist)&&void 0!==e&&e.isShowPlaylistButtons?null===(t=this._playlist)||void 0===t||t.onClickNext():null===(n=this._nextPlugin)||void 0===n||n.onClick()}}),this.pushHandler({key:"KeyP",shift:!0,handler:()=>{var e,t;null!==(e=this._playlist)&&void 0!==e&&e.isShowPlaylistButtons&&(null===(t=this._playlist)||void 0===t||t.onClickPrev())}}),this.pushHandler({key:"KeyF",handler:()=>{this._fullscreen.handleFullscreen()}}),this.pushHandler({key:"Escape",handler:()=>{this._fullscreen.isFullscreen?this._fullscreen.handleFullscreen():Fp.emit(Nh.ESCAPE_PRESS,{})}}),this.pushHandler({key:"KeyT",handler:()=>{var e;null===(e=this._cinema)||void 0===e||e.handleCinema()}}),this.pushHandler({key:"KeyI",handler:()=>{var e;null===(e=this._pip)||void 0===e||e.togglePiP()}}),this.pushHandler({key:"Comma",handler:()=>{const e=this._playback.changePlayBackRate("down");this._eventEmitter.emit(xd.playbackRate,{newRate:e})}}),this.pushHandler({key:"Period",handler:()=>{const e=this._playback.changePlayBackRate("up");this._eventEmitter.emit(xd.playbackRate,{newRate:e})}}),this.pushHandler({key:["Digit0","Digit1","Digit2","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9"],handler:e=>{const t=parseInt(e.key.replace("Digit",""),10),n=this._playback.duration;if(n&&!(n<=0)){if(t>0){const e=t*Math.ceil(n/10);this._playback.seek(e)}else this._playback.seek(0);this._eventEmitter.emit(xd.percentRewind,{label:10*t+"%"||""})}}}),this.pushHandler({key:"Comma",handler:()=>{const e=this._playback.changePlayBackRate("down");this._eventEmitter.emit(xd.playbackRate,{newRate:e})}}),this.pushHandler({key:"Period",handler:()=>{const e=this._playback.changePlayBackRate("up");this._eventEmitter.emit(xd.playbackRate,{newRate:e})}})}getTimeMark(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const r=this._playback.progress,i=this._playback.duration,a=null!==(e=null===(t=this._controls)||void 0===t?void 0:t.chapters)&&void 0!==e?e:[],o=Math.round(i*r/100),s=n?[...a].reverse():a;if(1===s.length)return{};const l=s.find((e=>{let{start:t}=e;return n?t<o-.8:t>o}));if(!l)return{};const{start:u,name:c}=l;return{time:u,label:`${Xg({value:u})} — ${c}`}}nextFrameForward(){this._playback.paused&&this._playback.seek(this._playback.currentTime+this.frameDuration,"hotkey")}nextFrameBackward(){this._playback.paused&&this._playback.seek(this._playback.currentTime-this.frameDuration,"hotkey")}defaultBackwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekBack(10,"hotkey"),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:J_.HOTKEY,rewindDirection:eg.BACK}),this._eventEmitter.emit(xd.seekBackward,t)}defaultForwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekForward(10,"hotkey"),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:J_.HOTKEY,rewindDirection:eg.FORWARD}),this._eventEmitter.emit(xd.seekForward,t)}get frameDuration(){var e;return(null===(e=this._qualitiesPlugin)||void 0===e||null===(e=e.activeQuality)||void 0===e?void 0:e.frameDuration)||Fh}},({e:[eT],c:[nT,tT]}=en(JI,[To({implement:"IShortcutsPlugin",ctor_args:["IPlayback","IFullscreenPlugin","ICaptionsPlugin","IStatisticState",{implement:"INextVideoPlugin",optional:!0},{implement:"IPlaylistPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IStubPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},{implement:"CinemaModePlugin",optional:!0},{implement:"IQualitiesPlugin",optional:!0},{implement:"IControlsPlugin",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[[Lo(),2,"initVideo"],[Lo(),2,"initShortuctsEnabled"]],0,void 0,XI)),tT();var oT;let sT,lT,uT;rT=class extends ep{constructor(e,t,n,r){super(e,t,n),this.pip=r}get shouldBeBackground(){return super.shouldBeBackground&&!this.isInPiP}get isInPiP(){var e,t;return null!==(e=null===(t=this.pip)||void 0===t?void 0:t.isInPiP)&&void 0!==e&&e}},[aT,iT]=en(rT,[To({implement:"IStatisticValues",ctor_args:["Resolve","IPlayback",{implement:"IPlayerConfigPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0}]})],[],0,void 0,ep).c,iT();function cT(){try{return JSON.parse(Xy(Ph)||"{}")}catch(e){return console.warn(e),{}}}function dT(e){const t=cT();return t[e]?t[e]:void 0}function hT(e){return e.progress&&e.progress>=100?0:e.seconds}var pT;let vT;oT=class extends Oo{constructor(e,t,n,r,i,a,o,s,l,u,c){super(),this.__playOptions=void sT(this),this.__userSettings=void 0,this.__stubPlugin=void 0,this.__providerPlugin=void 0,this.__appearancePlugin=void 0,this.__playbackPlugin=void 0,this.__embedPlugin=void 0,this.__platformSubscription=void 0,this.__onlineOffline=void 0,this._pip=l,this.config=u,this.__playOptions=e,this.__userSettings=t,this.__stubPlugin=n,this.__providerPlugin=r,this.__appearancePlugin=i,this.__playbackPlugin=a,this.__embedPlugin=o,this.__platformSubscription=s,this.__onlineOffline=c}init(){const e=$i((()=>{var e;return{data:null===(e=this.__playOptions)||void 0===e?void 0:e.data,isAdultAllowed:this.__userSettings.isAdultAllowed,paused:this.__playbackPlugin.paused}}),(e=>{var t,n;let{data:r,isAdultAllowed:i,paused:a}=e;if(this.__stubPlugin.stub=null,r&&this.__playOptions)return r.is_adult?(this.stubCallbackWrapper((()=>this.setAdultStub(i)),!1),void(i||a||this.__playbackPlugin.pause())):void(null!==(t=r.detail)&&void 0!==t&&t.access_url?this.stubCallbackWrapper((()=>this.setAccessIframeStub())):r.iframe_url?this.stubCallbackWrapper((()=>this.setExternalPlayerStub())):"common_subscription"!==(null===(n=r.detail)||void 0===n?void 0:n.type)?r.detail?this.stubCallbackWrapper((()=>this.setCommonStub())):r.video_balancer||this.stubCallbackWrapper((()=>this.setErrorStub())):this.stubCallbackWrapper((()=>this.setSubscriptionStub())))})),t=$i((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.hasLoadError}),(e=>{e&&this.stubCallbackWrapper((()=>this.setErrorStub()))})),n=$i((()=>this.__providerPlugin.hasLoadError),(e=>{e&&this.stubCallbackWrapper((()=>this.setErrorStub()))})),r=$i((()=>this.__providerPlugin.initError),(e=>{e&&this.stubCallbackWrapper((()=>this.setErrorStub()))})),i=$i((()=>{var e;return null===(e=this.__embedPlugin)||void 0===e?void 0:e.allowed}),(e=>{e||this.stubCallbackWrapper((()=>this.setDistributionErrorStub()))}));return()=>[e,t,n,i,r].forEach((e=>e()))}initOnline(){return $i((()=>this.__onlineOffline.isOnline),(e=>{e?this.__stubPlugin.stub=null:this.setOfflineStub()}))}setAdultStub(e){e?this.__stubPlugin.stub=null:this.__stubPlugin.setStub("infoWithAction",{btnText:fh[this.__stubPlugin.activeLanguage].btn,onBtnClick:()=>{var e;this.__userSettings.isAdultAllowed=!0,this.__userSettings.isAutoplayEnabled&&null!==(e=this.__playOptions)&&void 0!==e&&e.autoplay&&this.__playbackPlugin.play()},title:fh[this.__stubPlugin.activeLanguage].title,description:fh[this.__stubPlugin.activeLanguage].description,backgroundImage:np,backgroundColor:this.getBackgroundColor()})}setAccessIframeStub(){var e,t;this.__stubPlugin.setStub("iframe",{url:(null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.detail)||void 0===e?void 0:e.access_url)||"",isExternalLoading:!0,title:null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.video_id})}setExternalPlayerStub(){var e;this.__stubPlugin.setStub("iframe",{url:(null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.iframe_url)||""})}setSubscriptionStub(){var e,t,n,r,i,a,o,s,l;const u=null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.detail)||void 0===e||null===(e=e.languages)||void 0===e?void 0:e.find((e=>e.lang===this.__stubPlugin.activeLanguage)),c=this.getBackgroundColor(),d=null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.id,h=null===(n=this.config)||void 0===n?void 0:n.get("videoId"),p=!!this.__embedPlugin?d:h,v=p?`/api/video/${p}/thumbnail/?redirect=1`:null===(r=this.__playOptions)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.detail)||void 0===r?void 0:r.image,m=(null==u?void 0:u.url_title)||"Оформить",f=null!==(i=null===(a=this.__playOptions)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.detail)||void 0===a||null===(a=a.product_codes)||void 0===a?void 0:a[0])&&void 0!==i?i:void 0;null===(o=this.__platformSubscription)||void 0===o||o.handleStubSubscriptionRequest({productCode:f,type:"show"}),this.__stubPlugin.setStub("infoWithAction",{title:null!==(s=null==u?void 0:u.title)&&void 0!==s?s:"",description:null!==(l=null==u?void 0:u.description)&&void 0!==l?l:"",backgroundImage:v,backgroundColor:c,btnText:m,onBtnClick:()=>{var e;return null===(e=this.__platformSubscription)||void 0===e?void 0:e.handleStubSubscriptionRequest({productCode:f,type:"click"})},isBlurred:!!f})}setCommonStub(){var e,t;const n=null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.detail)||void 0===e||null===(e=e.languages)||void 0===e?void 0:e.find((e=>e.lang===this.__stubPlugin.activeLanguage));var r,i,a;null!==(t=this.__playOptions)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&null!==(t=t.detail)&&void 0!==t&&t.url?this.__stubPlugin.setStub("infoWithAction",{type:null===(r=this.__playOptions)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.detail)||void 0===r?void 0:r.type,title:(null==n?void 0:n.title)||"",description:(null==n?void 0:n.description)||"",backgroundImage:null===(i=this.__playOptions)||void 0===i||null===(i=i.data)||void 0===i||null===(i=i.detail)||void 0===i?void 0:i.image,btnText:(null==n?void 0:n.url_title)||"Перейти",backgroundColor:this.getBackgroundColor(),onBtnClick:e=>{var t;e.preventDefault(),window.open(null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.detail)||void 0===t?void 0:t.url,"_blank")}}):this.__stubPlugin.setStub("info",{title:(null==n?void 0:n.title)||"",description:(null==n?void 0:n.description)||"",backgroundImage:null===(a=this.__playOptions)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.detail)||void 0===a?void 0:a.image})}setErrorStub(){this.__stubPlugin.setStub("info",{title:gh[this.__stubPlugin.activeLanguage].title,backgroundImage:np})}setDistributionErrorStub(){this.__stubPlugin.setStub("info",{title:yh[this.__stubPlugin.activeLanguage].title,backgroundImage:np})}getBackgroundColor(){var e;return this.__embedPlugin&&null!==(e=this.__appearancePlugin)&&void 0!==e&&e.color?this.__appearancePlugin.color:"var(--pen-accent)"}stubCallbackWrapper(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._pip&&this._pip.isInPiP&&t&&this._pip.exitFromPiP(),e()}setOfflineStub(){this.__stubPlugin.setStub("info",{title:bh[this.__stubPlugin.activeLanguage].title})}},({e:[sT],c:[uT,lT]}=en(oT,[To({implement:"IStubsTriggerPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IUserSettingsPlugin","IStubPlugin","IProviderPlugin",{implement:"IAppearancePlugin",optional:!0},"IPlayback",{implement:"IEmbedPlugin",optional:!0},{implement:"IPlatformSubscriptionPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IOnlineOfflinePlugin",optional:!0}]})],[[Lo(),2,"init"],[Lo(),2,"initOnline"]],0,void 0,Oo)),lT();class mT extends Oo{constructor(e,t){super(),this.videoId=void vT(this),this._initStorage=()=>{const e=Xy(Ph);if(e){const t=JSON.parse(e);for(const e in t)Date.now()-t[e].date>=2592e6&&delete t[e];Jy(Ph,JSON.stringify(t))}else Jy(Ph,JSON.stringify({}))},this.playback=e,this.videoId=t}getVideoProgress(e){const t=dT(e);if(t)return hT(t)}updateVideoId(e){this.videoId=e}init(){this._initStorage();const e=[$i((()=>this.playback.currentTime),(e=>{this.playback.isPlaying&&this.playback.progress>0&&function(e){let{videoId:t,progress:n,seconds:r}=e;try{const e=Ft(Ft({},cT()),{},{[t]:{videoId:t,progress:n,seconds:r,date:Date.now()}});Jy(Ph,JSON.stringify(e))}catch(e){console.info(e)}}({videoId:this.videoId,progress:this.playback.progress,seconds:e})}))];return()=>e.forEach((e=>e()))}}pT=mT,[vT]=en(pT,[],[[Lo(),2,"init"]],0,void 0,Oo).e;const fT=async(e,t)=>{let n=null;const r=await(e=>{const t=xt({t:String(Math.floor(Date.now()/1e3))});return fetch(`${mb()}/api/video/position/${e}?${t.toString()}`).then((e=>e.ok?e.json():null)).catch((e=>(console.warn(e),null)))})(e);if(!r)return null;const i=Math.floor(r?r.pos:0);if(i>0&&t){n={progress:i/(t/1e3)*100,seconds:i,date:1e3*r.etc}}return n};var _T;let gT,yT;var bT;let ET,wT,ST;_T=class extends mT{constructor(e,t){super(e,t.get("videoId")),Ca(this,{fetchVideoProgress:aa})}*fetchVideoProgress(e,t,n){const r=dT(e);let i=null;return n&&(i=yield fT(e,t)),n&&i||!r?i&&!r?hT(i):i&&r?r.date>i.date?hT(r):hT(i):void 0:hT(r)}},[yT,gT]=en(_T,[To({implement:"IVideoHistoryPlugin",ctor_args:["IPlayback","IPlayerConfigPlugin"]})],[],0,void 0,mT).c,gT();var CT;let kT,AT,PT;bT=class extends Oo{constructor(e,t,n,r){super(),this._active=(ET(this),Mr.box(!1)),this._isMounted=Mr.box(!1),this._isProviderInit=Mr.box(!1),this._isReplayAllowed=Mr.box(!0),this._playerStatus=Mr.box(""),this._provider=Mr.box(null),this._wasFirstPlay=Mr.box(!1),this._wasVideoStarted=Mr.box(!1),this._advertPhase=Mr.box(void 0),this._stubStore=e,this.playback=t,this._playOptions=n,this.advert=r,Ca(this,{active:Hr,isMounted:Hr,isProviderInit:Hr,isReplayAllowed:Hr,playerStatus:Hr,wasFirstPlay:Hr,wasVideoStarted:Hr,advertPhase:Hr})}init(){const e=[];e.push($i((()=>{var e;return null===(e=this._stubStore.stub)||void 0===e?void 0:e.type}),(e=>{e&&(this.playerStatus="error")}))),e.push($i((()=>({playerStatus:this.playerStatus,advertPhase:this.advertPhase})),(e=>{var t;let{playerStatus:n,advertPhase:r}=e;Fp.emit(Nh.CHANGE_STATE,{status:n,state:n,isLicensed:Boolean(null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.is_licensed),phase:"advert"===n?r:void 0})}))),e.push($i((()=>this.playback.ended),(e=>{e&&(this.playerStatus="completed")}))),e.push($i((()=>this.playback.seeking),(e=>{e&&(this.playerStatus="seeking")}))),e.push($i((()=>this.playback.isPlaying),(e=>{e&&(this.playerStatus="playing")}))),e.push($i((()=>{var e;return null===(e=this.advert)||void 0===e?void 0:e.isPlaying}),(e=>{this.playerStatus="advert",this.advertPhase=e?"playing":"complete"}))),e.push($i((()=>{var e;return null===(e=this.advert)||void 0===e?void 0:e.isLoading}),(e=>{e&&(this.playerStatus="advert",this.advertPhase="prepare")})));const t=()=>{this.playerStatus="seeked"},n=()=>{this.playerStatus="buffering"},r=()=>{this.playerStatus="pause"};return this.playback.player.addEventListener("seeked",t),this.playback.player.addEventListener("waiting",n),this.playback.player.addEventListener("pause",r),e.push((()=>{var e;null===(e=this._provider.get())||void 0===e||e.destroy(),this.playback.player.removeEventListener("seeked",t),this.playback.player.removeEventListener("waiting",n),this.playback.player.removeEventListener("pause",r)})),()=>e.forEach((e=>e()))}get active(){return this._active.get()}set active(e){this._active.set(e)}get isMounted(){return this._isMounted.get()}set isMounted(e){this._isMounted.set(e)}get isProviderInit(){return this._isProviderInit.get()}set isProviderInit(e){this._isProviderInit.set(e)}get provider(){return this._provider.get()}set provider(e){this._provider.set(e)}get isReplayAllowed(){return this._isReplayAllowed.get()}set isReplayAllowed(e){this._isReplayAllowed.set(e)}get playerStatus(){return this._playerStatus.get()}set playerStatus(e){this._playerStatus.set(e)}get isLoading(){return"loading"===this._playerStatus.get()}get isPlaying(){return"playing"===this._playerStatus.get()}get isPaused(){return"pause"===this._playerStatus.get()}get getIsEnded(){return"completed"===this._playerStatus.get()}get wasFirstPlay(){return this._wasFirstPlay.get()}set wasFirstPlay(e){this._wasFirstPlay.set(e)}get wasVideoStarted(){return this._wasVideoStarted.get()}set wasVideoStarted(e){this._wasVideoStarted.set(e)}get advertPhase(){return this._advertPhase.get()}set advertPhase(e){this._advertPhase.set(e)}},({e:[ET],c:[ST,wT]}=en(bT,[To({implement:"IPlayerStatusState",ctor_args:["IStubPlugin","IPlayback",{implement:"IDataPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0}]})],[[Lo(),2,"init"]],0,void 0,Oo)),wT();var IT;let TT,RT,xT;CT=class extends Oo{constructor(){super(...arguments),this.__isOnline=(kT(this),Mr.box(!0))}init(){return this.initOnlineOfflineHandlers()}initOnlineOfflineHandlers(){const e=()=>{this.isOnline=!1},t=()=>{this.isOnline=!0};return window.addEventListener("offline",e),window.addEventListener("online",t),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",t)}}get isOnline(){return this.__isOnline.get()}set isOnline(e){this.__isOnline.set(e)}},({e:[kT],c:[PT,AT]}=en(CT,[To("IOnlineOfflinePlugin")],[[Lo(),2,"init"]],0,void 0,Oo)),AT();IT=class extends PT{constructor(e,t,n){super(),this._playOptions=void TT(this),this._playbackPlugin=void 0,this._wasPlayingBeforeOffline=!1,this._providerPlugin=n,this._playOptions=e,this._playbackPlugin=t}initPlugin(){return $i((()=>this.isOnline),(e=>{this.__handleOnline(e)}))}async __handleOnline(e){var t,n,r,i;null===(t=this._providerPlugin.provider)||void 0===t||null===(n=t.onOnlineToggle)||void 0===n||n.call(t,e),e?(await(null===(r=this._playOptions)||void 0===r?void 0:r.fetchPlayOptions()),null!==(i=this._providerPlugin.provider)&&void 0!==i&&i.startLoad&&this._providerPlugin.provider.startLoad(),this._wasPlayingBeforeOffline&&(this._playbackPlugin.play(),this._wasPlayingBeforeOffline=!1)):this._wasPlayingBeforeOffline=this._playbackPlugin.isPlaying||this._playbackPlugin.buffering}},({e:[TT],c:[xT,RT]}=en(IT,[To({implement:"IOnlineOfflinePlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IPlayback","IProviderPlugin"]})],[[Lo(),2,"initPlugin"],[Ro,2,"__handleOnline"]],0,void 0,PT)),RT();const LT={default:"dm",fullscreen:"tm",mini:"pip",audio:"au"};let OT=function(e){return e.START="start",e.INITIALIZED="initialized",e.BALANCER_REQUEST="balancer_request",e.VIDEO_PLAYING="video_playing",e.VIDEO_PAUSE="video_pause",e.BUFFERING="buffering",e.VIDEO_PLAYING_END="video_playing_end",e.A_REQUEST="a_request",e.A_PLAYING="a_playing",e.ERROR="error",e.FATAL="fatal",e}({}),NT=function(e){return e.START="start",e.OPTIONS_REQUEST="options_request",e.OPTIONS_LOADED="options_loaded",e.BL_REQUEST="bl_request",e.PROVIDER_INITED="provider_inited",e.PROVIDER_INIT_ERROR="provider_init_error",e.PLAY_START="play_start",e.REWIND="rewind",e.PAUSE="pause",e.UNPAUSE="unpause",e.CHANGE_SM="change_sm",e.CHANGE_Q="change_q",e.CHANGE_QM="change_qm",e.CHANGE_V="change_v",e.TEN_SEC="10sec",e.A_REQUEST="a_request",e.A_START="a_start",e.A_END="a_end",e.A_ERROR="a_error",e.END="end",e.BUFFERING_START="buffering_start",e.BUFFERING_END="buffering_end",e.ERROR="error",e.SWITCH_CDN="switch_cdn",e.FIRST_FRAGMENT="first_fragment",e.SEQUENCE_ERROR="sequence_error",e.SHOW_LOADER="show_loader",e.HIDE_LOADER="hide_loader",e.BUFFERING_TIME="buffering_time",e}({});var MT=n(4823);const DT=()=>`${(()=>{const e=`https://log.${window.location.host}`.replace(/qa\.|aq\.|qaq\./,"");return MT.env.LOG||e})()}/player_events/?{{params}}`;var FT;let BT,HT,VT;FT=class extends Oo{constructor(e,t,n,r,i,a,o,s,l,u,c,d,h,p){super(),this.__playOptions=void BT(this),this.__providerPlugin=void 0,this.__playbackPlugin=void 0,this.__videoLayout=void 0,this.__advertPlugin=void 0,this.__statisticStore=void 0,this.__statisticWatchTime=void 0,this.__stubStore=void 0,this.__errorPlugin=void 0,this.__counterHelper=void 0,this.__playerConfig=void 0,this.__statisticValues=void 0,this.__firstFragmentEventSend=!1,this.__firstFragmentCounter=0,this.__bufferingStartTime=0,this.__playerStatus=void 0,this.__isPlayStarted=!1,this.__app=void 0,this.onVideoStarted=()=>{var e;this.__isPlayStarted=!0,null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.PLAY_START)})},this.onVideoHasBeenStarted=()=>{var e;if(!this.__playbackPlugin.isStatStartSent)return void this.__playbackPlugin.player.removeEventListener("playing",this.onVideoStarted);const t=this.__providerPlugin.activeQualityLevel;(null===(e=this.__providerPlugin.provider)||void 0===e||null===(e=e.instance)||void 0===e?void 0:e.levels)&&t?this.onVideoStarted():this.__playbackPlugin.player.addEventListener("playing",this.onVideoStarted,{once:!0})},this.videoTagErrorHandler=e=>{var t;this.__playerStatus=OT.ERROR,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.ERROR,e.message)})},this.videoTagLoadStartHandler=()=>{var e;"m3u8"===yd(this.__playbackPlugin.player.src)&&(this.__playerStatus=OT.BALANCER_REQUEST,null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.BL_REQUEST)}))},this._playerVersion=p,this.__playOptions=e,this.__providerPlugin=t,this.__playbackPlugin=n,this.__statisticStore=r,this.__statisticWatchTime=i,this.__stubStore=a,this.__videoLayout=o,this.__advertPlugin=s,this.__errorPlugin=l,this.__counterHelper=c&&c instanceof sl?c.counterHelper:void 0,this.__app=d.value,this.__playerConfig=u,this.__statisticValues=h,this.handlePlaying=this.handlePlaying.bind(this),this.handleBuffering=this.handleBuffering.bind(this),this.handleFirstFragment=this.handleFirstFragment.bind(this)}init(){const e=this.setLoggerStat(),t=$i((()=>this.__playerConfig.get("videoId")),(e=>{var t;e&&(this.__playerStatus=OT.START,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.START)}),this.__isPlayStarted=!1,this.__firstFragmentEventSend=!1)}),{fireImmediately:!0}),n=$i((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.playOptionsRequested}),(e=>{var t;e&&(this.__playerStatus=OT.INITIALIZED,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.OPTIONS_REQUEST)}))}),{fireImmediately:!0}),r=$i((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.isPlayOptionsLoaded}),(e=>{var t;e&&(this.__playerStatus=OT.INITIALIZED,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.OPTIONS_LOADED)}))}),{fireImmediately:!0}),i=$i((()=>this.__playbackPlugin.isStatStartSent),this.onVideoHasBeenStarted),a=$i((()=>this.__playbackPlugin.isPlaying),this.handlePlaying.bind(this)),o=this.subscribePlaybackEvent(Rd.seek,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.REWIND)})})),s=$i((()=>this.__providerPlugin.qualities),(e=>{var t;null!=e&&e.length&&(this.__playerStatus=OT.BALANCER_REQUEST,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.BL_REQUEST)}))})),l=$i((()=>this.__playbackPlugin.buffering),this.handleBuffering.bind(this)),u=$i((()=>({videoId:this.__playerConfig.get("videoId"),playerMode:this.__videoLayout.playerMode})),(e=>{let{videoId:t,playerMode:n}=e;var r;t&&n&&(null===(r=this.__counterHelper)||void 0===r||r.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.CHANGE_SM)}))})),c=$i((()=>this.__playbackPlugin.isPlayerReady),(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.CHANGE_QM)})})),d=$i((()=>this.__providerPlugin.activeQualityLevel),(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.CHANGE_Q)})})),h=this.subscribePlaybackEvent(Rd.volumeChange,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.CHANGE_V)})})),p=$i((()=>this.__statisticWatchTime.tenSecPassed),(e=>{var t;e&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.TEN_SEC)}))})),v=this.subscribeAdvertEvent(Hp.load,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.A_REQUEST)})})),m=this.subscribeAdvertEvent(Hp.start,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.A_START)})})),f=this.subscribeAdvertEvent(Hp.end,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.A_END)})})),_=this.subscribeAdvertEvent(Hp.error,(e=>{var t;null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.A_ERROR,e.errorMessage)})})),g=$i((()=>this.__errorPlugin.error),(e=>{var t;e&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.ERROR,e)}))})),y=$i((()=>this.__providerPlugin.isProviderInit),(e=>{if(e){var t;const e=null===(t=this.__providerPlugin.provider)||void 0===t?void 0:t.instance;if("Hls"===this.__providerPlugin.type)return this.handleHlsError(e);if("Dash"===this.__providerPlugin.type)return this.handleDashError(e)}})),b=$i((()=>this.__providerPlugin.isProviderInit),(e=>{if(e&&"Hls"===this.__providerPlugin.type){var t,n;const e=null===(t=this.__providerPlugin.provider)||void 0===t?void 0:t.instance;var r;if(null!==(n=this.__providerPlugin.provider)&&void 0!==n&&null!==(n=n.Hls)&&void 0!==n&&n.Events.FRAG_LOADED)e.on(null===(r=this.__providerPlugin.provider)||void 0===r||null===(r=r.Hls)||void 0===r?void 0:r.Events.FRAG_LOADED,this.handleFirstFragment.bind(this));return()=>{var t,n;null!==(t=this.__providerPlugin.provider)&&void 0!==t&&null!==(t=t.Hls)&&void 0!==t&&t.Events.FRAG_LOADED&&e.off(null===(n=this.__providerPlugin.provider)||void 0===n||null===(n=n.Hls)||void 0===n?void 0:n.Events.FRAG_LOADED,this.handleFirstFragment.bind(this))}}})),E=$i((()=>this.__providerPlugin.isProviderInit),(e=>{var t;e&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.PROVIDER_INITED)}))})),w=$i((()=>this.__providerPlugin.initError),(e=>{var t;e&&(console.error(e),null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.PROVIDER_INIT_ERROR,e)}))})),S=$i((()=>this.__playbackPlugin.ended),(e=>{var t;e&&(this.__playerStatus=OT.VIDEO_PLAYING_END,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.END)}))})),C=$i((()=>this.__playbackPlugin.player),(e=>(e&&(e.addEventListener("error",this.videoTagErrorHandler),e.addEventListener("loadstart",this.videoTagLoadStartHandler)),()=>{e.removeEventListener("loadstart",this.videoTagLoadStartHandler),e.removeEventListener("error",this.videoTagErrorHandler)}))),k=$i((()=>({showLoader:this.__playbackPlugin.waiting,wasStarted:this.__playbackPlugin.wasStarted})),(e=>{let{showLoader:t,wasStarted:n}=e;var r;if(n)if(null===(r=this.__counterHelper)||void 0===r||r.get("mainLoggerSend")({queryParams:this.getLoggerParams(t?NT.SHOW_LOADER:NT.HIDE_LOADER)}),t)this.__bufferingStartTime=Date.now();else if(this.__bufferingStartTime>0){var i;const e=Date.now()-this.__bufferingStartTime;null===(i=this.__counterHelper)||void 0===i||i.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.BUFFERING_TIME,"",{time:e})}),this.__bufferingStartTime=0}})),A=$i((()=>this.__providerPlugin.cdnHost),((e,t)=>{var n;e&&t&&t!==e&&(null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.SWITCH_CDN,`host switched from ${t} to ${e}`)}))}));return()=>[e,t,n,r,i,a,o,c,s,d,l,u,h,p,v,m,f,_,g,y,S,C,E,w,b,k,A].forEach((e=>e()))}setLoggerStat(){return Vi((()=>this.__statisticStore.statAdditional=[{count:1,delay:0,method:"get",name:"logger",start:0,url_template:DT()}])),()=>{this.__statisticStore.statAdditional=[]}}handlePlaying(e){var t,n;e?(this.__playerStatus=OT.VIDEO_PLAYING,this.__isPlayStarted&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.UNPAUSE)}))):(this.__playerStatus=OT.VIDEO_PAUSE,null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.PAUSE)}))}handleFirstFragment(){var e;null!==(e=this.__playOptions)&&void 0!==e&&e.data&&(this.__firstFragmentCounter++,1!==this.__firstFragmentCounter&&(this.__firstFragmentEventSend||(this.__firstFragmentEventSend=!0,va((()=>this.__playbackPlugin.readyState>=1),(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.FIRST_FRAGMENT)})})))))}handleBuffering(e){var t,n;(this.__playerStatus=OT.BUFFERING,e)?null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.BUFFERING_START)}):null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.BUFFERING_END)})}handleDashError(e){const t=e=>{var t;this.__playerStatus=OT.ERROR;const n=lm(e);null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.ERROR,n)}),console.error(n)};return e.on("error",t),()=>{e.off("error",t)}}handleHlsError(e){var t;const n=(e,t)=>{var n;this.__playerStatus=t.fatal?OT.FATAL:void 0;let r="Unknown Error";t&&(r=t.details in tm?tm[t.details]:sm(`${t.type||"Unknown type"}`,`${t.details||"Unknown Details"}`)),null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(NT.ERROR,r)}),console.error(r)};var r;null!==(t=this.__providerPlugin.provider)&&void 0!==t&&null!==(t=t.Hls)&&void 0!==t&&t.Events.ERROR&&(null==e||e.on(null===(r=this.__providerPlugin.provider)||void 0===r||null===(r=r.Hls)||void 0===r?void 0:r.Events.ERROR,n));return()=>{var t,r;null!==(t=this.__providerPlugin.provider)&&void 0!==t&&null!==(t=t.Hls)&&void 0!==t&&t.Events.ERROR&&(null==e||e.off(null===(r=this.__providerPlugin.provider)||void 0===r||null===(r=r.Hls)||void 0===r?void 0:r.Events.ERROR,n))}}_getBandwidth(){var e;const t=null===(e=this.__providerPlugin.provider)||void 0===e||null===(e=e.instance)||void 0===e?void 0:e.bandwidthEstimate;return!t||Number.isNaN(t)?null:"function"==typeof t?t():t}getLoggerParams(e,t,n){var r,i,a,o,s,l;const u=(null===(r=this.__playOptions)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.id)||"",c=this.__statisticValues.uuid,d=this.__statisticValues.guid,h=this.__providerPlugin.autoQuality,p=null===(i=this.__stubStore.stub)||void 0===i?void 0:i.type,v=this.__videoLayout.playerMode,m=null===(a=this.__providerPlugin.provider)||void 0===a?void 0:a.instance,f="function"==typeof(null==m?void 0:m.levels)?m.levels():null==m?void 0:m.levels,_=(null==m?void 0:m.currentLevel)||0,g=null==f?void 0:f[_],{edge:y,dive:b}=TI(g),E=this.__playbackPlugin.currentTime?+(1e3*this.__playbackPlugin.currentTime).toFixed(0):void 0,w=this.__playbackPlugin.muted?0:(100*(this.__playbackPlugin.volume||0)).toFixed(0),S=this.__videoLayout.isFullScreen?"fm":LT[v||"default"],C=["a_request","a_start","a_end","a_error"].indexOf(e)>=0,k=this._getBandwidth(),A=this.__playerConfig.get("ts"),P=(null==n?void 0:n.time)||("number"==typeof A?Date.now()-A:this.__statisticWatchTime.watchTime),I={app:this.__app,ms:P,did:fe(),pid:d,sid:c,view_id:null===(o=this.__playOptions)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.view_id,uid:this.__playerConfig.get("userId"),ps:this.__playerStatus,e:e,referer:gd(),tl:E,video_id:this.__playerConfig.get("videoId"),track_id:u.toString(),sm:S,qm:h?"auto":"manual",qw:g&&(null==g?void 0:g.width),qh:g&&(null==g?void 0:g.height),v:w,l:p,tr:this.__providerPlugin.type||void 0,edge:y,dive:b,bw:k?Math.round(k):null,axurl:C?null===(s=this.__advertPlugin)||void 0===s||null===(s=s.currentAdvert)||void 0===s?void 0:s.url_template:void 0,aformat:C?null===(l=this.__advertPlugin)||void 0===l||null===(l=l.currentAdvert)||void 0===l?void 0:l.name:void 0,ver:this._playerVersion.value,em:t,passmediaid:eb("passmediaid")||"",vsid:this.__playerConfig.get("visitorId")},T=Object.keys(I).filter((e=>!!I[e]||0===I[e])).reduce(((e,t)=>(e[t]=I[t],e)),{app:"raichu"}),R=Object.keys(T).reduce(((e,t)=>{var n,r;return e[t]=null!==(n=null===(r=T[t])||void 0===r?void 0:r.toString())&&void 0!==n?n:"",e}),{});return new URLSearchParams(R).toString()}subscribePlaybackEvent(e,t){return this.__playbackPlugin.on(e,t),()=>{this.__playbackPlugin.off(e,t)}}subscribeAdvertEvent(e,t){var n;return null===(n=this.__advertPlugin)||void 0===n||n.on(e,t),()=>{var n;null===(n=this.__advertPlugin)||void 0===n||n.off(e,t)}}},({e:[BT],c:[VT,HT]}=en(FT,[To({implement:"ILoggerPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IProviderPlugin","IPlayback","IStatisticStore","IStatisticWatchTimePlugin","IStubPlugin","IVideoLayoutPlugin",{implement:"IAdvertPlugin",optional:!0},"IErrorPlugin","IPlayerConfigPlugin",{implement:"IStatisticState",optional:!0},"LoggerNamespace","IStatisticValues","PlayerVersion"]})],[[Lo(),2,"init"]],0,void 0,Oo)),HT();var UT;let jT,WT,zT;var $T,GT;let KT;UT=class extends Oo{constructor(e,t){super(),this.__playOptions=void jT(this),this.__onlineOffline=void 0,this.__error=Mr.box(""),this.__playOptions=e,this.__onlineOffline=t}init(){const e=$i((()=>this.__onlineOffline.isOnline),(e=>{this.error=e?"":"Internet connection lost"})),t=$i((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.data}),(e=>{var t;null!=e&&e.detail||null==e||!e.video_balancer?this.error=`playOptions return stub: ${String(null==e||null===(t=e.detail)||void 0===t?void 0:t.name)}`:this.error=""})),n=$i((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.hasLoadError}),(e=>{var t,n;e&&null!==(t=this.__playOptions)&&void 0!==t&&t.loadError?this.error=null===(n=this.__playOptions)||void 0===n?void 0:n.loadError:this.error=""}));return()=>[e,t,n].forEach((e=>e()))}get error(){return this.__error.get()}set error(e){this.__error.set(e)}},({e:[jT],c:[zT,WT]}=en(UT,[To({implement:"IErrorPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IOnlineOfflinePlugin"]})],[[Lo(),2,"init"]],0,void 0,Oo)),WT();class qT extends($T=Oo){constructor(){super(),this._messageTime=(KT(this),2500),this._timer=null,this._visible=Mr.box(!1),this._queue=Mr.array([]),this._defaultQueue=Mr.box([]),Ca(this,{visible:Hr,defaultQueue:Hr,removeMessage:Bi,addMessage:Bi,startQueue:Bi,resetQueue:Bi,startTimer:Bi}),this.startQueue=this.startQueue.bind(this),this.resetQueue=this.resetQueue.bind(this),this.startTimer=this.startTimer.bind(this),this.removeMessage=this.removeMessage.bind(this)}init(){return $i((()=>this.defaultQueue),(()=>{Vi((()=>this._queue.replace([...this.defaultQueue,...this.queue])))}))}clear(){return()=>{this.clearTimer()}}clearTimer(){this._timer&&clearTimeout(this._timer)}addMessage(e){let{message:t}=e;this.queue.find((e=>e.id===t.id))||this._queue.push(t)}removeMessage(){this._queue.length&&(this._queue.remove(this._queue[0]),this.visible=!!this._queue.length)}startQueue(){this.visible=!0}resetQueue(){this._queue.clear(),this.visible=!1}hideMessage(){this.visible&&(this.visible=!1)}startTimer(){this._timer=setTimeout((()=>{this.visible=!1}),this._messageTime)}get queue(){return this._queue}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get defaultQueue(){return this._defaultQueue.get()}set defaultQueue(e){this._defaultQueue.set(e)}}var YT;let QT,ZT;GT=qT,[KT]=en(GT,[],[[Lo(),2,"init"],[Lo(),2,"clear"]],0,void 0,$T).e;YT=class extends qT{},[ZT,QT]=en(YT,[To("IDisclaimersPlugin")],[],0,void 0,qT).c,QT();const XT="disclaimer-module__disclaimer___C_xho",JT="disclaimer-module__disclaimerDanger___ghE3y",eR="disclaimer-module__disclaimerSuccess___orKzg",tR=e=>{let{handleEnd:t,isShow:n,handleTextShowed:r,disclaimer:i}=e;const a=(0,st.useRef)(null),{text:o,id:s,type:l}=i;return st.createElement(IS,{appear:!0,in:n,nodeRef:a,timeout:500,key:s,onEntered:r,onExited:t,unmountOnExit:!0},st.createElement("div",{ref:a,className:cl()(XT,{[JT]:"danger"===l,[eR]:"success"===l})},st.createElement(o,null)))},nR=[{id:"ALCOHOL",text:()=>st.createElement(st.Fragment,null,"Видео может содержать сцены",st.createElement("br",null),"употребления табака/алкоголя"),type:"danger",excludeOnAudio:!0,key:"ALCOHOL"},{id:"HEALTH",text:()=>st.createElement(st.Fragment,null,"Алкоголь и никотин",st.createElement("br",null),"вредят здоровью"),type:"danger",excludeOnAudio:!0,key:"HEALTH"},{id:"META",text:()=>st.createElement(st.Fragment,null,"Facebook и Instagram запрещены в РФ"),type:"info",excludeOnAudio:!1,key:"META"}];const rR=lc((e=>{let{className:t,hasHealthDisclaimer:n,onFinish:r,isAudio:i=!1}=e;const a=Rc("IDisclaimersPlugin"),{queue:o,visible:s,startTimer:l,removeMessage:u}=a,[c]=o;return(0,st.useEffect)((()=>{a.defaultQueue=function(e,t){return t?e?nR.filter((e=>!e.excludeOnAudio)):nR:nR.filter((e=>"META"===e.id))}(i,n)}),[n,i,a]),(0,st.useEffect)((()=>(a.startQueue(),()=>{a.resetQueue()})),[a]),(0,st.useEffect)((()=>{0===o.length&&(null==r||r())}),[o.length,r]),c?st.createElement("div",{className:t,"data-testid":`disclaimer-${c.key}`},st.createElement(tR,{isShow:s,handleTextShowed:l,handleEnd:u,disclaimer:c})):null})),iR=()=>{const e=Rc("IDisclaimersPlugin");return e instanceof AR?e:null},aR="raichu-age-disclaimer-module__wrapper___vBhIm",oR=e=>{const{ageRating:t,timeOut:n=500}=e,[r,i]=(0,st.useState)(!0),a=(0,st.useRef)(null);if(null==t||t<0)return null;return st.createElement(IS,{appear:!0,in:r,nodeRef:a,timeout:n,onEntered:()=>{setTimeout((()=>{i(!1)}),2500)},unmountOnExit:!0},st.createElement("div",{"data-testid":"age-disclaimer",ref:a,className:aR},t,"+"))},sR="age-disclaimer-module__container___G1Wsr",lR="age-disclaimer-module__withControls___BymaX",uR="age-disclaimer-module__touch___IyXJj",cR=lc((()=>{const e=iR(),t=(null==e?void 0:e.isShowControls)&&(jc.isMobile||(null==e?void 0:e.isEmbed)&&(null==e?void 0:e.isShowShare));return null===e?null:st.createElement("div",{className:cl()(sR,{[uR]:jc.isMobile,[lR]:t}),style:e.bannerHeight>0?{transform:`translateY(${e.bannerHeight}px)`}:void 0},st.createElement(oR,{ageRating:e.ageRating}))})),dR="unmute-button-module__unmuteButton____h41m",hR="unmute-button-module__isTouch___tgCbK",pR="unmute-button-module__animateFinished___eMzyx",vR="unmute-button-module__unmuteButtonText___W3qjS",mR=e=>{let{onAnimationFinished:t}=e;const n=(0,st.useRef)(null),{playback:r,counterHelper:i}=zm(),{muted:a,handleMuted:o}=r,[s,l]=(0,st.useState)(!1);(0,st.useEffect)((()=>{const e=setTimeout((()=>{t()}),3150);return null==i||i.get("mainControlsUnmuteShow")(),()=>{clearTimeout(e)}}),[]);return st.createElement(IS,{appear:!0,in:a,nodeRef:n,timeout:150,unmountOnExit:!0},st.createElement("button",{ref:n,className:cl()(dR,{[pR]:s,[hR]:jc.isMobile}),style:{animationDelay:"3000ms",animationDuration:"150ms"},onClick:()=>{var e;o(),null==i||i.get("mainControlsUnmuteClick")(),null===(e=document.getElementById(M_.RAICHU_CONTAINER_WITH_PLAYER))||void 0===e||e.focus({preventScroll:!0})},tabIndex:0,"aria-label":"Включить звук",onAnimationEnd:()=>{jc.isMobile||l(!0)}},st.createElement(Wd,null),st.createElement("span",{className:vR},"Включить звук")))},fR=lc((()=>{const e=iR(),{isShowMobilePiPButton:t}=qy()||{},n=null==e?void 0:e.getCustomStyles(),r=null==e?void 0:e.autoPlayWithMute,i=null==e?void 0:e.isShowControls,[a,o]=(0,st.useState)(40),[s,l]=(0,st.useState)(!1),[u,c]=(0,st.useState)(!1),d=(null==e?void 0:e.isShowDisclaimers)&&!u&&s,h=null==e?void 0:e.isShowUnmuteButton,p=h&&jc.isMobile,v=t&&!h,m=d||h;if((0,st.useEffect)((()=>{"NotInitialized"!==r&&l(!p)}),[r,p]),(0,st.useEffect)((()=>{o(d?82:40)}),[d]),null===e)return null;const{hasBackButton:f,isEmbed:_,hasHealthDisclaimer:g,isShowHeader:y}=e;return st.createElement(st.Fragment,null,m&&st.createElement("div",{className:cl()(null==n?void 0:n.notifications,h?"":null==n?void 0:n.noUnmute,y?null==n?void 0:n.isShowHeader:"",f&&(null==n?void 0:n.withBackButton)||"",jc.isMobile?null==n?void 0:n.isTouchScreen:"",i&&_?"":null==n?void 0:n.isControlsHidden,v?null==n?void 0:n.withMiniControl:""),style:{minHeight:jc.isMobile?"auto":a,height:jc.isMobile?"auto":a}},h&&st.createElement(mR,{onAnimationFinished:()=>l(!0)}),d&&st.createElement(rR,{onFinish:()=>{c(!0)},hasHealthDisclaimer:g})),d&&st.createElement(cR,null))})),_R={notifications:"notifications-module__notifications___yAumc",isControlsHidden:"notifications-module__isControlsHidden___csNVr",isShowHeader:"notifications-module__isShowHeader___myCv2",isTouchScreen:"notifications-module__isTouchScreen___joUud",noUnmute:"notifications-module__noUnmute___kP3Nt",withMiniControl:"notifications-module__withMiniControl___wvjeW",withBackButton:"notifications-module__withBackButton___ZaGeH"};var gR,yR,bR,ER;let wR,SR,CR,kR,AR,PR;new(yR=class extends ZT{constructor(e,t,n,r,i,a,o,s,l){if(super(),this.__data=void wR(this),this.__options=void 0,this.__playback=void 0,this.__captions=void 0,this.__controls=void 0,this.__videoLayout=void 0,this.__shareState=void 0,this.__preview=void 0,this.__commBanner=void 0,!t)throw new Error("No options provided [IDisclaimersPluginOptions]");this.__data=e,this.__options=t.value,this.__playback=n,this.__captions=r,this.__controls=i,this.__videoLayout=a,this.__shareState=o,this.__preview=s,this.__commBanner=l}initPlugin(){return $i((()=>{var e;return null===(e=this.__captions)||void 0===e?void 0:e.isShowCaptions}),(e=>{var t;if(e&&null!==(t=this.__captions)&&void 0!==t&&null!==(t=t.activeCaption)&&void 0!==t&&t.is_autogenerated&&(this.addMessage({message:{type:"success",id:"CAPTION",key:"CAPTION",text:()=>st.createElement(st.Fragment,null,"Субтитры созданы искусственным интеллектом.",st.createElement("br",null),"Могут встречаться ошибки — ИИ ещё учится"),excludeOnAudio:!1}}),this.visible=!0),!e){const[e]=this.queue;"CAPTION"===(null==e?void 0:e.id)&&(this.clearTimer(),this.removeMessage())}}),{fireImmediately:!0})}initVisible(){return $i((()=>this.visible),(e=>{Vi((()=>this.__videoLayout.isDisclaimersVisible=e))}),{fireImmediately:!0})}get hasHealthDisclaimer(){return this.__data.hasHealthDisclaimer}get isMiniAvailable(){var e;return!(null===(e=this.__data.appearance)||void 0===e||!e.mini_player)}get ageRating(){var e;return null===(e=this.__options)||void 0===e?void 0:e.ageRating}get wasStarted(){return this.__playback.wasStarted}get autoPlayWithMute(){return this.__playback.autoPlayWithMute}get isShowControls(){return this.__controls.isShowControls}get isFullScreen(){return this.__videoLayout.isFullScreen}get isShowHeader(){return!(this.__playback.seeking||this.isShowPreview&&jc.isMobile)&&(this.__videoLayout.isShowHeader&&this.__videoLayout.showTitle&&this.isShowControls)}get isMini(){return this.__videoLayout.isMini}get isEmbed(){return this.__controls.isEmbed}get isShowUnmuteButton(){var e;return(null===(e=this.__data.appearance)||void 0===e||!e.forbid_html_controls)&&"Enabled"===this.autoPlayWithMute}get hasBackButton(){return this.__videoLayout.hasBackButton}get isShowShare(){var e;return Boolean(null===(e=this.__shareState)||void 0===e?void 0:e.isShowingShareBtn)}get bannerHeight(){var e;return(null===(e=this.__commBanner)||void 0===e?void 0:e.bannerHeight)||0}get isShowPreview(){var e;return null===(e=this.__preview)||void 0===e?void 0:e.isShowPreview}get isShowDisclaimers(){return this.__videoLayout.isShowDisclaimers}notificationStyles(){return _R}getCustomStyles(){return this.notificationStyles()}},({e:[wR],c:[AR,SR]}=en(yR,[To({implement:"IDisclaimersPlugin",ctor_args:["IDataPlugin",{implement:"IDisclaimersPluginOptions",optional:!0},"IPlayback",{implement:"ICaptionsPlugin",optional:!0},"IControlsPlugin","IVideoLayoutPlugin",{implement:"ISharePlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"ICommunicationBannerPlugin",optional:!0}]})],[[Lo(),2,"initPlugin"],[Lo(),2,"initVisible"]],0,void 0,ZT)),CR=yR,(gR=class extends jo{constructor(){super(AR),this.Notifications=fR,SR()}})[CR]=void 0,gR);class IR extends(bR=AR){constructor(e,t,n,r,i,a,o,s){var l;super(e,(l=e,{get value(){return l}}),t,n,r,i,a,o,s)}}function TR(){return Rc("IChannelSubscriptionPlugin")}ER=IR,[PR,kR]=en(ER,[To({implement:"IDisclaimersPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"ICaptionsPlugin",optional:!0},"IControlsPlugin","IVideoLayoutPlugin",{implement:"ISharePlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"ICommunicationBannerPlugin",optional:!0}]})],[],0,void 0,bR).c,kR();const RR=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M14.699 16.444h4.375l-1.23-1.248a1.808 1.808 0 0 1-.52-1.278v-2.807c0-1.103-.337-2.18-.963-3.08a5.261 5.261 0 0 0-2.537-1.95v-.303c0-.472-.184-.924-.513-1.257A1.736 1.736 0 0 0 12.074 4c-.464 0-.91.187-1.238.52a1.792 1.792 0 0 0-.512 1.258v.303c-2.039.732-3.5 2.708-3.5 5.03v2.808c0 .478-.187.938-.52 1.276l-1.23 1.25h9.625Zm-5.25 0h5.25-5.25Z",fill:t}),st.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.393 4.084a2.358 2.358 0 0 1 1.68-.706 2.36 2.36 0 0 1 1.682.706c.416.423.66.985.688 1.576a5.892 5.892 0 0 1 2.428 2.016 6.016 6.016 0 0 1 1.075 3.435v2.807a1.21 1.21 0 0 0 .342.841l1.23 1.249a.622.622 0 0 1 .13.677c-.097.231-.323.315-.574.315h-14c-.25 0-.477-.084-.574-.315a.622.622 0 0 1 .13-.677l1.23-1.249c.218-.221.342-.524.342-.84v-2.808A5.962 5.962 0 0 1 9.704 5.66c.03-.59.273-1.153.689-1.576Zm7.195 11.738-.187-.19a2.432 2.432 0 0 1-.7-1.714v-2.807a4.77 4.77 0 0 0-.851-2.725 4.64 4.64 0 0 0-2.237-1.72.622.622 0 0 1-.411-.585v-.303c0-.31-.121-.605-.334-.82a1.114 1.114 0 0 0-.794-.336c-.296 0-.582.12-.794.335a1.17 1.17 0 0 0-.334.82v.304a.622.622 0 0 1-.412.585c-1.795.645-3.088 2.389-3.088 4.445v2.808c0 .64-.25 1.257-.7 1.713l-.187.19h11.03Z",fill:t}),st.createElement("path",{d:"M9 18h6a2.5 2.5 0 0 1-2.5 2.5h-1A2.5 2.5 0 0 1 9 18Z",fill:t}),st.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.467 4.68a.622.622 0 0 1 .853-.214c1.313.788 2.167 1.616 2.674 2.63.503 1.006.628 2.122.628 3.404a.622.622 0 1 1-1.244 0c0-1.218-.125-2.102-.497-2.847-.367-.735-1.014-1.407-2.201-2.12a.622.622 0 0 1-.213-.853Zm-8.934 0a.622.622 0 0 1-.213.854c-1.187.712-1.834 1.384-2.201 2.12-.372.744-.497 1.628-.497 2.846a.622.622 0 1 1-1.244 0c0-1.282.125-2.398.628-3.403.507-1.015 1.361-1.843 2.674-2.63a.622.622 0 0 1 .853.213Z",fill:t}))},xR=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.372 5.902a.622.622 0 0 1 .87-.127l14.876 11.09a.622.622 0 1 1-.744.998L4.5 6.773a.622.622 0 0 1-.127-.87Z",fill:t}),st.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 3.378c-.632 0-1.237.255-1.68.706-.417.423-.66.985-.69 1.576a5.86 5.86 0 0 0-1.351.844l1.034.77c.35-.254.735-.46 1.147-.608a.622.622 0 0 0 .412-.585v-.303c0-.31.121-.605.334-.82a1.109 1.109 0 0 1 1.588-.001c.213.216.334.511.334.82v.304a.62.62 0 0 0 .412.585 4.64 4.64 0 0 1 2.236 1.72c.554.796.852 1.748.852 2.725v1.618l1.244.928V11.11c0-1.23-.375-2.43-1.075-3.435A5.892 5.892 0 0 0 14.37 5.66a2.413 2.413 0 0 0-.688-1.576A2.358 2.358 0 0 0 12 3.378Zm7.619 13.133-2.96-2.207a2.452 2.452 0 0 0 .668 1.328l.187.19H6.486l.187-.19c.449-.456.7-1.073.7-1.713v-2.808c0-1.124.386-2.154 1.029-2.963l-.998-.744a5.985 5.985 0 0 0-1.276 3.707v2.808c0 .316-.124.619-.342.84l-1.23 1.249A.622.622 0 0 0 5 17.067h3.753v.266c0 .87.34 1.705.947 2.322a3.227 3.227 0 0 0 2.3.967 3.23 3.23 0 0 0 2.3-.967 3.31 3.31 0 0 0 .947-2.322v-.266H19a.622.622 0 0 0 .619-.556Zm-9.622.822v-.266h4.006v.266a2.07 2.07 0 0 1-.59 1.45 1.983 1.983 0 0 1-1.413.595 1.982 1.982 0 0 1-1.413-.596 2.066 2.066 0 0 1-.59-1.449Z",fill:t}))},LR=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.0602 15.4398C12.3032 15.6828 12.6971 15.6828 12.9401 15.4398L18.9401 9.43983C19.1831 9.19683 19.1831 8.80286 18.9401 8.55987C18.6971 8.31688 18.3032 8.31688 18.0602 8.55987L12.5002 14.1199L6.94013 8.55987C6.69714 8.31688 6.30317 8.31688 6.06017 8.55987C5.81718 8.80286 5.81718 9.19683 6.06017 9.43983L12.0602 15.4398Z",fill:t}))},OR=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3193 4.08435C10.7634 3.63321 11.3678 3.37793 12.0002 3.37793C12.6325 3.37793 13.2369 3.63321 13.681 4.08435C14.0972 4.50716 14.3409 5.06944 14.3695 5.66019C15.3425 6.09553 16.1825 6.79157 16.7977 7.67579C17.4975 8.68151 17.8725 9.88174 17.8724 11.1113C17.8724 11.1112 17.8724 11.1113 17.8724 11.1113V13.9184C17.8724 14.0752 17.9028 14.2304 17.9616 14.3748C18.0205 14.5191 18.1065 14.6497 18.2142 14.7592C18.2142 14.7592 18.2142 14.7592 18.2142 14.7592L19.4436 16.0081C19.6195 16.1868 19.671 16.4537 19.5741 16.685C19.4772 16.9163 19.2509 17.0668 19.0002 17.0668H15.2474V17.3335C15.2474 18.2026 14.9076 19.0381 14.2998 19.6556C13.6916 20.2734 12.8646 20.6224 12.0002 20.6224C11.1358 20.6224 10.3088 20.2734 9.70059 19.6556C9.09272 19.0381 8.75295 18.2026 8.75295 17.3335V17.0668H5.00017C4.7494 17.0668 4.52313 16.9163 4.42625 16.685C4.32937 16.4537 4.38082 16.1868 4.55674 16.0081L5.78612 14.7592C6.00392 14.5379 6.12795 14.2356 6.12795 13.9193V11.1113C6.12795 8.68107 7.56492 6.58554 9.6308 5.66026C9.65945 5.06948 9.90309 4.50717 10.3193 4.08435ZM9.99739 17.0668V17.3335C9.99739 17.8788 10.2107 18.3999 10.5874 18.7826C10.9638 19.165 11.4722 19.3779 12.0002 19.3779C12.5281 19.3779 13.0365 19.165 13.4129 18.7826C13.7896 18.3999 14.0029 17.8788 14.0029 17.3335V17.0668H9.99739ZM17.5146 15.8224L17.3274 15.6322C17.105 15.4062 16.929 15.1385 16.8092 14.8445C16.6894 14.5506 16.6279 14.2359 16.6279 13.9184C16.6279 13.9183 16.6279 13.9184 16.6279 13.9184V11.1113C16.6281 10.1345 16.3301 9.18249 15.7762 8.38654C15.2225 7.59072 14.4407 6.99045 13.5397 6.66659C13.2927 6.5778 13.1279 6.34354 13.1279 6.08104V5.77793C13.1279 5.46832 13.0068 5.17333 12.7942 4.95735C12.5819 4.7417 12.2961 4.62237 12.0002 4.62237C11.7043 4.62237 11.4184 4.7417 11.2062 4.95735C10.9936 5.17333 10.8724 5.46832 10.8724 5.77793V6.08104C10.8724 6.34357 10.7076 6.57786 10.4605 6.66662C8.6658 7.3114 7.37239 9.05526 7.37239 11.1113V13.9193C7.37239 14.5594 7.12192 15.1761 6.67297 15.6322L6.48578 15.8224H17.5146Z",fill:t}))},NR=e=>{let{color:t="white"}=e;return st.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.37521 5.17519C7.97116 4.57925 8.77944 4.24444 9.62223 4.24444C10.465 4.24444 11.2733 4.57925 11.8693 5.17519C12.4652 5.77114 12.8 6.57942 12.8 7.42222C12.8 8.26502 12.4652 9.0733 11.8693 9.66925C11.2733 10.2652 10.465 10.6 9.62223 10.6C8.77944 10.6 7.97116 10.2652 7.37521 9.66925C6.77926 9.0733 6.44446 8.26502 6.44446 7.42222C6.44446 6.57942 6.77926 5.77114 7.37521 5.17519ZM9.62223 3C8.44939 3 7.32458 3.46591 6.49525 4.29524C5.66592 5.12457 5.20001 6.24938 5.20001 7.42222C5.20001 8.59507 5.66592 9.71988 6.49525 10.5492C7.32458 11.3785 8.44939 11.8444 9.62223 11.8444C10.7951 11.8444 11.9199 11.3785 12.7492 10.5492C13.5785 9.71988 14.0445 8.59507 14.0445 7.42222C14.0445 6.24938 13.5785 5.12457 12.7492 4.29524C11.9199 3.46591 10.7951 3 9.62223 3ZM9.62222 13C7.8659 13 6.18151 13.6977 4.9396 14.9396C3.6977 16.1815 3 17.8659 3 19.6222C3 19.7872 3.06556 19.9455 3.18224 20.0622C3.29893 20.1789 3.4572 20.2444 3.62222 20.2444H15.6222C15.9659 20.2444 16.2444 19.9659 16.2444 19.6222C16.2444 17.8659 15.5467 16.1815 14.3048 14.9396C13.0629 13.6977 11.3785 13 9.62222 13ZM5.81956 15.8196C6.82809 14.811 8.19595 14.2444 9.62222 14.2444C11.0485 14.2444 12.4164 14.811 13.4249 15.8196C14.2856 16.6803 14.8245 17.8028 14.9639 19H4.28054C4.41996 17.8028 4.9588 16.6803 5.81956 15.8196Z",fill:t}),st.createElement("path",{d:"M16.0169 12.6908C15.758 12.9496 15.758 13.3693 16.0169 13.6281C16.2757 13.887 16.6954 13.887 16.9542 13.6281L18.8225 11.7599L20.6913 13.6286C20.9501 13.8875 21.3698 13.8875 21.6286 13.6286C21.8875 13.3698 21.8875 12.9501 21.6286 12.6913L19.7598 10.8225L21.6286 8.95374C21.8875 8.6949 21.8875 8.27524 21.6286 8.0164C21.3698 7.75756 20.9501 7.75756 20.6913 8.0164L18.8225 9.88517L16.9542 8.0169C16.6954 7.75806 16.2757 7.75806 16.0169 8.0169C15.758 8.27574 15.758 8.6954 16.0169 8.95424L17.8852 10.8225L16.0169 12.6908Z",fill:t}))},MR="channel-subscription-button-module__popper___oCBxq",DR="channel-subscription-button-module__button___P5kXf",FR="channel-subscription-button-module__subscribed___rrr8x",BR="channel-subscription-button-module__text___Vpca3",HR="channel-subscription-button-module__panel___FY60T",VR="channel-subscription-button-module__list___eWYJd",UR="channel-subscription-button-module__listItem___DkZM0",jR="channel-subscription-button-module__switcher___X3s4H",WR="channel-subscription-button-module__listItemIcon___O7HLR",zR="channel-subscription-button-module__listItemTitle___u5f6J",$R=lc((e=>{let{isUserSubscribed:t,onSubscribe:n,onShowOptions:r,onHideOptions:i,onChangeNotificationType:a,isShowOptions:o,size:s,coordinates:l,userSubscriptionData:u}=e;const c=Jc(),d=(0,st.useMemo)((()=>({placement:"top",modifiers:[{name:"offset",options:{offset:[0,4]}},{name:"preventOverflow",options:{boundary:c||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[c]),h="all"===(null==u?void 0:u.type);return st.createElement(VI,{className:MR,popperOptions:d,portal:!1,visible:o,hidePanel:i,renderButton:e=>st.createElement("button",{ref:e,onClick:t?r:n,className:cl()(DR,{[FR]:t}),"aria-label":t?"Отменить подписку на канал":"Подписаться на канал"},t?st.createElement(st.Fragment,null,h?st.createElement(RR,null):st.createElement(xR,null),st.createElement("span",{className:BR},"Вы подписаны"),st.createElement(LR,{color:"#A7B4C4"})):st.createElement("span",{className:BR},"Подписаться")),renderPanel:()=>st.createElement("div",{className:HR},st.createElement("div",{className:VR},st.createElement("button",{className:UR,onClick:a},st.createElement("span",{className:WR},st.createElement(OR,null)),st.createElement("span",{className:zR},"Уведомления"),st.createElement(Cc,{classNames:{placement:h?"":jR},size:Sc.SMALL,onChange:a,isActive:h})),st.createElement("button",{className:UR,onClick:n},st.createElement("span",{className:WR},st.createElement(NR,null)),st.createElement("span",{className:zR},"Отписаться")))),size:s,coordinates:l})})),GR="channel-subscription-module__wrapper___EED70",KR="channel-subscription-module__hidden___jBe0p",qR="channel-subscription-module__fullscreen___fV1oV",YR="channel-subscription-module__overlay___Mi4SA",QR="channel-subscription-module__logo___q6gya",ZR="channel-subscription-module__logoImg___LovHl",XR="channel-subscription-module__popup___CJM1M",JR="channel-subscription-module__popupShow___b4mw9",ex="channel-subscription-module__optionsShow___hOXDG",tx="channel-subscription-module__header___ZvO0r",nx="channel-subscription-module__body___hqF0V",rx=lc((()=>{var e;const t=(0,st.useRef)(null),n=(0,st.useRef)(null),r=TR(),{size:i,isMobile:a,coordinates:o,subscribeClick:s,isFullscreen:l,counterHelper:u,subscribeData:c,isUserOwnChannel:d,userSubscriptionData:h,hideOptions:p,toggleOptions:v,isShowOptions:m,isShowSubscribe:f,isUserSubscribed:_,isSubscriptionHidden:g,changeNotificationType:y,isShowSubscriptionPopup:b}=r,E=zm(),w=(0,st.useMemo)((()=>{const{type:e,id:t}=c,n="tv"===e?`metainfo/tv/${String(t)}/`:`channel/${String(t)}`;return`${Dh}/${n}`}),[c]);if((0,st.useEffect)((()=>{f&&(null==u||u.get("mainChannelSubscriptionShow")())}),[f,u]),!f||d)return null;const S=()=>{t.current&&(clearTimeout(t.current),t.current=null),r.isShowSubscriptionPopup=!1,E.preventHideControls=!1};return st.createElement("div",ll({className:cl()(GR,{[KR]:g,[qR]:l}),onMouseEnter:a?void 0:()=>{t.current=setTimeout((()=>{r.isShowSubscriptionPopup=!0,E.preventHideControls=!0}),200)},onMouseLeave:a||m?void 0:S,ref:n},jf,zf),a&&b&&st.createElement("div",{onClick:S,className:YR}),st.createElement("a",{onTouchEnd:a?e=>{e.preventDefault(),r.isShowSubscriptionPopup=!b}:void 0,className:QR,href:w,target:"_blank",rel:"noreferrer","aria-label":"Логотип канала"},st.createElement("img",{alt:"Логотип канала",className:ZR,src:c.avatar||mh})),st.createElement("div",{className:cl()(XR,{[JR]:b,[ex]:m}),"aria-live":"polite"},st.createElement("div",{className:tx},null!==(e=c.name)&&void 0!==e?e:""),st.createElement("div",{className:nx},st.createElement($R,{size:i,isMobile:a,coordinates:o,isShowOptions:m,isUserSubscribed:_,onSubscribe:()=>{c.id&&s(c.id,c.type)},onShowOptions:v,onHideOptions:p,onChangeNotificationType:()=>{const e="all"===h.type;c.id&&y(c.id,e?"without":"all")},userSubscriptionData:h}))))}));var ix,ax;let ox,sx,lx;class ux extends(ix=Oo){static get ChannelSubscription(){return rx}constructor(e,t,n,r,i,a,o,s,l,u,c){super(),this._counterHelper=void ox(this),this._isEmbed=void 0,this._justSubscribed=Mr.box(!1),this._isShowOptions=Mr.box(!1),this._playOptions=e,this._controls=t,this._advert=n,this._pauseScreen=r,this._fullscreen=i,this._config=a,this._playerSize=o,this._playback=s,this._activities=l,this._counterHelper=u&&u instanceof Mv?u.counterHelper:void 0,this._isEmbed=c.value}initHideOptions(){return $i((()=>this._controls.isShowControls),(e=>{e||(this.isShowOptions=!1,this.isShowSubscriptionPopup=!1)}))}get subscribeData(){var e;return null!==(e=this._playOptions)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&null!==(e=e.tv)&&void 0!==e&&e.id?this.tvSubscribeData:this.authorSubscribeData}get tvSubscribeData(){var e,t,n;return{id:null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.tv)||void 0===e?void 0:e.id,name:null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.tv)||void 0===t?void 0:t.name,avatar:null===(n=this._playOptions)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.tv)||void 0===n||null===(n=n.appearance)||void 0===n?void 0:n.avatar_image,type:"tv"}}get authorSubscribeData(){var e,t,n;return{id:null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.author)||void 0===e?void 0:e.id,name:null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.author)||void 0===t?void 0:t.name,avatar:null===(n=this._playOptions)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.author)||void 0===n?void 0:n.avatar_url,type:"userchannel"}}get userSubscriptionData(){return this._config.get("userSubscription")}get userId(){return this._config.get("userId")}get isShowControls(){return this._controls.isShowControls}get isSubscriptionHidden(){var e,t,n;return Boolean((null===(e=this._advert)||void 0===e?void 0:e.isShowAdvertTimer)||(null===(t=this._pauseScreen)||void 0===t?void 0:t.visible)||!this._controls.isShowControls||this._playback.ended||(null===(n=this._activities)||void 0===n||null===(n=n.currentActivities)||void 0===n?void 0:n.length))}set isShowSubscriptionPopup(e){this._controls.activePanel=e?"subscription":""}get isShowSubscriptionPopup(){return"subscription"===this._controls.activePanel}get inactive(){return!this.isShowSubscriptionPopup&&jc.isMobile||!this.isShowControls&&!jc.isMobile}get counterHelper(){return this._counterHelper}get isEmbed(){return this._isEmbed}get isFullscreen(){return this._fullscreen.isFullscreen}get isUserSubscribed(){return this._config.get("isUserSubscribed")}get justSubscribed(){return this._justSubscribed.get()}set justSubscribed(e){this._justSubscribed.set(e)}get isShowSubscribe(){var e,t;const n=null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_subscription,r=null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.appearance)||void 0===t?void 0:t.show_author,i=!jc.isMobile||jc.isMobile&&jc.isAndroid&&this.isFullscreen;return Boolean(r&&n&&(!this.isUserSubscribed||this.isUserSubscribed&&this.justSubscribed)&&!this._isEmbed&&i&&!this._controls.isControlsForcedHidden)}get isMobile(){return jc.isMobile}get size(){return this._playerSize.size}get coordinates(){return this._playerSize.coordinates}get isShowOptions(){return this._isShowOptions.get()}set isShowOptions(e){this._isShowOptions.set(e)}get isUserOwnChannel(){return this.subscribeData&&this.subscribeData.id===this.userId}handleFullScreen(){this._fullscreen.handleFullscreen()}subscribeClick(e,t){var n;null===(n=this.counterHelper)||void 0===n||n.get(this.isUserSubscribed?"mainChannelSubscriptionClickUnsubscribe":"mainChannelSubscriptionClickSubscribe")(),this.isUserSubscribed?this.isShowOptions=!1:this.justSubscribed=!0,Fp.emit(Nh.SUBSCRIBE_CLICK,{isUserSubscribed:this._config.get("isUserSubscribed"),id:e,type:t})}changeNotificationType(e,t){var n;null===(n=this.counterHelper)||void 0===n||n.get("without"===t?"mainChannelSubscriptionNotifyOff":"mainChannelSubscriptionNotifyOn")(),Fp.emit(Nh.CHANGE_NOTIFICATION_TYPE,{id:e,type:t})}toggleOptions(){this.isShowOptions=!this.isShowOptions}hideOptions(){this.isShowSubscriptionPopup=!1,this.isShowOptions=!1,this._controls.preventHideControls=!1}}ax=ux,({e:[ox],c:[lx,sx]}=en(ax,[To({implement:"IChannelSubscriptionPlugin",ctor_args:["IDataPlugin","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IPauseScreenPlugin",optional:!0},"IFullscreenPlugin","IPlayerConfigPlugin","IPlayerSizePlugin","IPlayback",{implement:"IActivitiesPlugin",optional:!0},"IStatisticState","IsEmbed"]})],[[Lo(),2,"initHideOptions"],[Ro,2,"handleFullScreen"],[Ro,2,"subscribeClick"],[Ro,2,"changeNotificationType"],[Ro,2,"toggleOptions"],[Ro,2,"hideOptions"]],0,void 0,ix)),sx();const cx=()=>st.createElement("svg",{width:"23",height:"18",viewBox:"0 0 23 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{d:"M0.893122 14.3298C0.857871 14.364 0.8264 14.395 0.798803 14.4226C1.92511 9.95269 4.54783 8.07833 6.88111 7.28491C9.07145 6.54009 10.9966 6.73603 11.4564 6.78283C11.5076 6.78804 11.5407 6.79141 11.5538 6.79141H12.2538V6.09141V1.4292L21.3103 8.77353L12.2538 16.4783V11.5376V10.9995L11.7339 10.8611C8.62764 10.0345 5.83701 10.9951 3.86988 12.1115C2.88232 12.6719 2.08468 13.2809 1.53344 13.7498C1.25728 13.9847 1.04149 14.1858 0.893122 14.3298Z",stroke:"#F6F6F6",strokeWidth:"1.4"})),dx="share-button-module__shareWrapper___Dg5h6",hx="share-button-module__share___uzg2c",px=lc((e=>{let{size:t}=e;const{handleShareButton:n,handleCheckSharePanelWasOpen:r}=vE(),{isShowingShareBtn:i}=pE();return i?st.createElement("div",null,st.createElement("div",null,st.createElement("div",{className:cl()({[dx]:!jc.isMobile}),onClick:n,onMouseDown:r},st.createElement(Xf,ll({tabIndex:0,role:"button","aria-label":"Поделиться видео 123",icon:cx,className:hx},jf,{size:t}))))):null})),vx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const n=(0,st.useRef)(),[r,i]=(0,st.useState)(e);(0,st.useEffect)((()=>()=>{(null==n?void 0:n.current)&&clearTimeout(n.current)}),[]);return[r,r=>(null!=n&&n.current&&clearTimeout(n.current),n.current=setTimeout((()=>i(e)),t),i(r))]};let mx=function(e){return e.VK="VK",e.OK="OK",e.TELEGRAM="TELEGRAM",e.WHATS_APP="WHATS_APP",e.EMAIL="EMAIL",e.EMBED="EMBED",e.LINK="LINK",e.COPY_BUTTON="COPY_BUTTON",e}({});function fx(e){try{return window.navigator.clipboard.writeText(e).then((()=>{})).catch((()=>{})),Promise.resolve("Ссылка скопирована в буфер обмена")}catch(t){return((e,t)=>{const n=document.createElement("textarea");if(n.value=e,n.style.position="absolute",n.style.left="-9999px",n.setAttribute("readonly",""),document.body.appendChild(n),t){const t=document.createRange();t.selectNodeContents(n);const r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(t)),n.setSelectionRange(0,e.length)}else n.select();return new Promise(((e,t)=>{try{return document.execCommand("copy"),e("Ссылка скопирована в буфер обмена")}catch(e){return t("Ошибка при копировании ссылки")}finally{document.body.removeChild(n)}}))})(e,["iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)}}var _x="freyja_char-embed-settings__embedSettings_njovm",gx="freyja_char-embed-settings__settingsButton_jB4Wt",yx="freyja_char-embed-settings__active_PX6nu",bx="freyja_char-embed-settings__blockTitle_aSK51",Ex="freyja_char-embed-settings__blockBody_dnxJh",wx="freyja_char-embed-settings__palette_CWifh",Sx="freyja_char-embed-settings__paletteItem_pSLcG",Cx="freyja_char-embed-settings__cross_7XLJL",kx="freyja_char-embed-settings__warningMessage_dXiO3",Ax="freyja_char-embed-settings__size_bzFyb",Px="freyja_char-embed-settings__width_sWzIb",Ix="freyja_char-embed-settings__height_gy36j",Tx="freyja_char-embed-settings__currColor_jx6MH",Rx="freyja_char-embed-settings__checkbox_3GShE";const xx=["children","color","style","type","name","size","noHover","className","variant"],Lx=e=>{const{children:t,color:n=null,style:r,type:i,name:a,size:o="large",noHover:s,className:l,variant:u}=e,c=bp(e,xx),d=(0,st.useMemo)((()=>{const e=Ft({},null!=r?r:{});return n&&(e.color=n),e}),[n,r]);return st.createElement("svg",Ft({style:d,className:cl()("svg-icon",`svg-icon--size-${o}`,`svg-icon--${a}`,l,{"svg-icon--no-hover":!!s,[`svg-icon--type-${i}`]:i,[`svg-icon--variant-${u}`]:u})},c),t)},Ox=(e,t)=>((0,st.useId)(),st.createElement(Lx,Ft(Ft({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconError"}),st.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.751 6.538c1.019-1.697 3.479-1.697 4.497 0l5.468 9.113c1.049 1.748-.21 3.971-2.248 3.971H6.532c-2.038 0-3.297-2.223-2.248-3.971zm3.43.64a1.378 1.378 0 0 0-2.362 0L5.35 16.291a1.378 1.378 0 0 0 1.181 2.087h10.936a1.378 1.378 0 0 0 1.181-2.087zM12 9.378c.344 0 .622.278.622.622v3a.622.622 0 0 1-1.244 0v-3c0-.344.278-.622.622-.622m0 6a.622.622 0 0 0 0 1.244h.01a.622.622 0 0 0 0-1.244z",clipRule:"evenodd"}))),Nx=(0,st.forwardRef)(Ox),Mx=(e,t)=>((0,st.useId)(),st.createElement(Lx,Ft(Ft({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconPasswordOff"}),st.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.244,d:"M7.197 7A8.57 8.57 0 0 0 4 12.168C4.766 16.066 8.1 19 12.099 19c1.835 0 3.53-.618 4.901-1.663"}),st.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.244,d:"M9.858 10A2.929 2.929 0 1 0 14 14.142M4 4l16 16M10 5.297A7.5 7.5 0 0 1 12.1 5c3.9 0 7.153 2.984 7.9 6.948A9 9 0 0 1 18.826 15"}))),Dx=(0,st.forwardRef)(Mx),Fx=(e,t)=>((0,st.useId)(),st.createElement(Lx,Ft(Ft({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconPasswordOn"}),st.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.244,d:"M21 12c-.85-3.994-4.557-7-9-7s-8.15 3.006-9 7c.85 3.994 4.557 7 9 7s8.15-3.006 9-7"}),st.createElement("circle",{cx:12,cy:12,r:3,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.244}))),Bx=(0,st.forwardRef)(Fx);var Hx=n(5051),Vx=n.n(Hx);const Ux=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return isNaN(+e)?`${e}`:(e=+e)>=t?Intl.NumberFormat("en-US").format(e).replace(/,/g," ").replace(/\./g,""):`${e}`.replace(/\./g," ")};var jx={input:"freyja_char-input__input_OV-wx",input_disabled:"freyja_char-input__input_disabled_kRjED",inputWrapper:"freyja_char-input__inputWrapper_16aM4",textareaWrapper:"freyja_char-input__textareaWrapper_dQrqc",label:"freyja_char-input__label_R4PVl",input_error:"freyja_char-input__input_error_U1cK-",errorText:"freyja_char-input__errorText_J1nYH",shadowTextarea:"freyja_char-input__shadowTextarea_oEVcY",iconWrapper:"freyja_char-input__iconWrapper_BQMGL",iconError:"freyja_char-input__iconError_8QQWR",error:"freyja_char-input__error_mRWob",errorLeft:"freyja_char-input__errorLeft_NZcu5",errorRight:"freyja_char-input__errorRight_-CbbA",length:"freyja_char-input__length_ked7s",length_bottom:"freyja_char-input__length_bottom_GSJjE",lengthWrapper:"freyja_char-input__lengthWrapper_86DfH",realLength:"freyja_char-input__realLength_jiRZZ",maxLength:"freyja_char-input__maxLength_i02mt",required:"freyja_char-input__required_qBQXg"};const Wx=e=>{let{id:t,required:n,children:r}=e;return st.createElement("label",{htmlFor:t,className:cl()(jx.label,{[jx.required]:n})},r)},zx=["id","value","maxLength","maxRows","rows","disabled","placeholder","required","style"],$x=e=>{const{id:t,value:n="",maxLength:r,maxRows:i,rows:a,disabled:o,placeholder:s,required:l,style:u}=e,c=bp(e,zx),d=(0,st.useRef)(null),h=(0,st.useRef)(null),p=st.useRef(null),v=st.useCallback((()=>{const e=d.current,t=h.current;if(!t||!e)return;t.value=e.value||s||"x";const n=t.scrollHeight;t.value="x";const r=t.scrollHeight;let o=n;return a&&(o=Math.max(Number(a)*r,o)),i&&(o=Math.min(Number(i)*r,o)),o=Math.max(o,r),o}),[i,s,a]),m=st.useCallback((()=>{const e=v(),t=d.current;e&&t&&p.current!==e&&(p.current=e,t.style.height=`${e}px`)}),[v]),f=((e,t)=>{const n=(0,st.useRef)();return(0,st.useCallback)((function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.current&&clearTimeout(n.current),n.current=window.setTimeout((()=>{n.current&&clearTimeout(n.current),e(...i)}),t)}),[e,t])})(m,300);return(0,st.useEffect)((()=>{const e=d.current;if(!e)return;let t;let n;return"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver((()=>{cancelAnimationFrame(t),t=requestAnimationFrame((()=>{m()}))})),n.observe(e)),"object"==typeof window&&window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(t),n&&n.disconnect()}}),[f,m]),(0,st.useEffect)((()=>{m()}),[n,m]),st.createElement(st.Fragment,null,st.createElement("textarea",{className:jx.shadowTextarea,value:n||"",ref:h}),st.createElement("textarea",ll({},c,{placeholder:s,ref:d,id:t,value:n||"",disabled:o,rows:a,maxLength:r,required:l,style:u})))},Gx=["label","type","disabled","multiple","error","maxLength","showLength","value","required","rows","errorPosition","maskChar","isAutoresize","maxRows","showErrorIcon"];const Kx=Object.assign((e=>{var t;const{label:n,type:r="text",disabled:i=!1,multiple:a=!1,error:o,maxLength:s,showLength:l=!0,value:u,required:c,rows:d,errorPosition:h=null,maskChar:p="",isAutoresize:v,maxRows:m,showErrorIcon:f=!0}=e,_=bp(e,Gx),[g,y]=(0,st.useState)(!1),[b,E]=(0,st.useState)(0),w=(0,st.useMemo)((()=>{const t=(null==e?void 0:e.id)||(null==e?void 0:e.name);return"undefined"==typeof window?t||Math.random().toString():t||Te()}),[null==e?void 0:e.id,null==e?void 0:e.name]);(0,st.useEffect)((()=>{var e;s&&E(null===(e=u||"")||void 0===e?void 0:e.length)}),[u,s]);const S=()=>{"password"===r&&y((e=>!e))},C=st.createElement("div",{className:cl()(jx.iconWrapper,jx.iconError),onClick:S},st.createElement(Nx,null)),k=g?Dx:Bx,A=st.createElement("div",{className:jx.iconWrapper,onClick:S},st.createElement(k,null)),P=(0,st.useMemo)((()=>({maxHeight:m?18*m:"auto"})),[m]);return st.createElement("div",{className:cl()(jx.input,{[jx.input_error]:!!o,[jx.input_disabled]:i,error:!!o})},"function"==typeof n?n({required:c,id:w}):null!=n?st.createElement(Wx,{id:w,required:c},n):null,a&&st.createElement("div",{className:jx.textareaWrapper},!v&&st.createElement("textarea",ll({},_,{id:w,value:u||"",disabled:i,rows:d||6,maxLength:s,required:c,style:P})),v&&st.createElement($x,ll({},_,{id:w,value:u||"",disabled:i,rows:d||6,maxLength:s,required:c,style:P})),l&&!!s&&st.createElement("span",{className:jx.lengthWrapper},st.createElement("span",{className:jx.realLength},Ux(String(u||"").length)),st.createElement("span",{className:jx.maxLength}," из ",Ux(s)))),!a&&st.createElement("div",{className:jx.inputWrapper},st.createElement(Vx(),ll({},_,{id:w,mask:null!==(t=_.mask)&&void 0!==t?t:"",value:null!=u?u:"",type:"password"===r&&g?"text":r,disabled:i,maxLength:s,required:c,maskChar:p})),o&&f?C:"password"===r&&A,l&&!!s&&"password"!==r&&!o&&st.createElement("span",{className:jx.length},st.createElement("span",null,Ux(b)),` из ${Ux(s)}`)),!!o&&st.createElement("p",{className:cl()(jx.errorText,{[jx[`error${null!=h?h:""}`]]:h})},o))}),{Label:Wx});$e().extend(Qg());const qx=(e,t)=>((e,t)=>{const{cutHoursIfZero:n=!1,emptyLineIfZero:r=!1}=t||{};if(!e)return r?"":n?"00:00":"00:00:00";const i=$e().duration(e,"seconds").format("HH:mm:ss");return i.startsWith("00")&&n?i.slice(3):i})(e,{cutHoursIfZero:t}),Yx=e=>{if(!e)return 0;const[t,n,r]=e.trim().split(":").reverse();return+t+60*+n+(r?3600*+r:0)},Qx=e=>{let{time:t,onTimeChange:n,showHours:r=!1,fallbackValue:i,error:a}=e;const[o,s]=(0,st.useState)(qx(t,!r));(0,st.useEffect)((()=>{s(qx(t,!r))}),[t,r]),(0,st.useEffect)((()=>{n(t)}),[t,n]);return st.createElement(Kx,{value:o,onChange:e=>{const{value:t}=e.currentTarget;s(t);const a=Yx(t);qx(a,!r)===t&&(void 0===i||a>0)&&n(a)},onBlur:()=>{const e=Yx(o);void 0!==i&&0===e?(n(i),s(qx(i,!r))):(s(qx(e,!r)),(void 0===i||e>0)&&n(e))},mask:r?"99:99:99":"99:99",maskChar:"0",error:a})},Zx=(e,t)=>{if(e||t)try{return new URL(e||"",t)}catch(e){return}},Xx=e=>{let{url:t,pepper:n=null,isMobile:r,startTime:i,urlParams:a={}}=e;const o=Zx(t);if(!o)return"";for(const e in a)o.searchParams.set(e,a[e]);return o.searchParams.set("r",r?"wm":"wd"),n&&o.searchParams.set("p",n),i&&o.searchParams.set("t",i.toString()),o.toString()},Jx="#0e8dee",eL=(e,t,n,r,i)=>{const a=n&&Math.floor(n/1e3);if(!t)return"";if(a){if(e>a)return"Время старта больше длины видео: ";if(e===a)return"Время старта равно длине видео: "}if(r){if(i&&e>r)return"Время старта больше времени окончания ";if(i&&e===r)return"Время старта равно времени окончания "}return""},tL=(e,t,n,r,i)=>{const a=n&&Math.floor(n/1e3);return i?a&&r>a?"Время окончания больше длины видео: ":t&&e>r?"Время старта больше времени окончания ":t&&e===r?"Время старта равно времени окончания ":"":""};var nL={checkbox:"freyja_char-checkbox__checkbox_GDS9Y",top:"freyja_char-checkbox__top_FoOOx",bottom:"freyja_char-checkbox__bottom_3VwiW",checkboxDisabled:"freyja_char-checkbox__checkboxDisabled_Sh-1y",input:"freyja_char-checkbox__input_wGwSh",title:"freyja_char-checkbox__title_2c6tT",title__regular:"freyja_char-checkbox__title__regular_jpR6Y",title__large:"freyja_char-checkbox__title__large_-VOGq",titleDisabled:"freyja_char-checkbox__titleDisabled_zTKMQ",checkmarkWrapper:"freyja_char-checkbox__checkmarkWrapper_TM1xU"},rL={checkmark:"freyja_char-checkmark__checkmark_jhsTO",checkmark__isChecked:"freyja_char-checkmark__checkmark__isChecked_d7H6I",checkmark__isDisabled:"freyja_char-checkmark__checkmark__isDisabled_dT4c3",checkmark__isInvalid:"freyja_char-checkmark__checkmark__isInvalid_5Dj4-",checkmark__regular:"freyja_char-checkmark__checkmark__regular_MBMq8",icon:"freyja_char-checkmark__icon_xlNLv",checkmark__large:"freyja_char-checkmark__checkmark__large_2vPsT",wrapper:"freyja_char-checkmark__wrapper_LMqLH",icon__isDisabled:"freyja_char-checkmark__icon__isDisabled_JNikn"};const iL=e=>{let{isChecked:t=!1,isValid:n=!0,isDisabled:r=!1,size:i="regular"}=e;return st.createElement("span",{className:cl()(rL.checkmark,rL[`checkmark__${i}`],{[rL.checkmark__isChecked]:t,[rL.checkmark__isDisabled]:r,[rL.checkmark__isInvalid]:!n})},t?st.createElement("div",{className:rL.wrapper},st.createElement("span",{className:cl()(rL.icon,{[rL.icon__isDisabled]:r})})):null)},aL=["title","checked","isValid","disabled","position","onClick","size","id"];const oL=e=>{const{title:t,checked:n,isValid:r=!0,disabled:i=!1,position:a,onClick:o,size:s="regular",id:l}=e,u=bp(e,aL),c=(0,st.useRef)(null!=l?l:Te());return st.createElement("div",{className:cl()(nL.checkbox,Ft({[nL.checkboxDisabled]:i},a?{[nL[a]]:a}:{})),onClick:o},st.createElement("div",{className:nL.checkmarkWrapper},st.createElement(iL,{isChecked:n,isDisabled:i,isValid:r,size:s}),st.createElement("input",ll({},u,{className:nL.input,type:"checkbox",id:c.current,checked:n,disabled:i}))),t?st.createElement("label",{className:cl()(nL.title,nL[`title__${s}`],{[nL.titleDisabled]:i}),htmlFor:c.current},t):null)},sL=Math.floor(171),lL=e=>{let{onEmbedCodeChanged:t,videoDuration:n,playOptions:r,url:i,showTimecode:a,defaultStartTime:o,pepper:s,videoId:l}=e;const u=Xg({value:n/1e3})||"",c=n>=36e5,[d,h]=st.useState(Jx),[p,v]=(0,st.useState)(720),[m,f]=(0,st.useState)(405),[_,g]=(0,st.useState)(!1),[y,b]=(0,st.useState)(!1),[E,w]=(0,st.useState)(!1),[S,C]=(0,st.useState)((()=>o)),[k,A]=(0,st.useState)(!1),[P,I]=(0,st.useState)(Math.floor(n/1e3)),[T,R]=(0,st.useState)(!1),[x,L]=(0,st.useState)(!1),[O,N]=(0,st.useState)(""),[M,D]=(0,st.useState)("");(0,st.useEffect)((()=>{const e=n&&Math.floor(n/1e3);t((e=>{var t,n,r;let{settings:i,playOptions:a,url:o,pepper:s,videoId:l}=e;const{embedStart:u,embedEnd:c,embedWidth:d,embedHeight:h,embedColor:p,embedShowAuthor:v,embedShowTitle:m}=i,f=(null==a?void 0:a.video_id)||l||"",_=Zx(`${o}/play/embed/${f}`);if(!_)return"";s&&_.searchParams.append("p",s),p!==Jx&&_.searchParams.append("skinColor",p.replace("#","")),u>0&&_.searchParams.append("t",u.toString()),c>0&&_.searchParams.append("stopTime",c.toString()),_.pathname+="/";const g={videoUrl:(null==a?void 0:a.video_url)||"",title:(null==a?void 0:a.title)||"",authorUrl:(null==a||null===(t=a.author)||void 0===t?void 0:t.url)||"",name:v&&(null==a||null===(n=a.author)||void 0===n?void 0:n.name)||"",origin:`${(null===(r=Zx(null==a?void 0:a.video_url))||void 0===r?void 0:r.origin)||""}/`};return`<iframe width="${d}" height="${h}" src="${_.toString()}" frameBorder="0" allow="clipboard-write; autoplay" allowFullScreen></iframe>${m?(e=>{const{videoUrl:t,title:n,authorUrl:r,name:i,origin:a}=e;return(i&&r?'\n<p><a href="VIDEO_URL">TITLE</a> от <a href="AUTHOR_URL">NAME</a> на <a href="ORIGIN_URL">RUTUBE</a>':'\n<p><a href="VIDEO_URL">TITLE</a> на <a href="ORIGIN_URL">RUTUBE</a>').replace("VIDEO_URL",t).replace("TITLE",n).replace("AUTHOR_URL",r).replace("NAME",i).replace("ORIGIN_URL",a)})(g):""}`})({settings:{embedColor:d,embedWidth:p,embedHeight:m,embedShowAuthor:_,embedShowTitle:y,embedStartEnabled:E,embedStart:E&&!O?S:0,embedEndEnabled:k,embedEnd:k&&!M&&P<e?P:0},playOptions:r,url:i,pepper:s,videoId:l}))}),[O,M,n,t,d,p,m,_,y,E,S,k,P,r,i,s,l]);const F=(0,st.useCallback)((e=>{const t=parseInt(e.target.value);isNaN(t)?console.warn("Некорректная высота!"):(v(t),f(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16/9;return Math.floor(e/t)}(t)))}),[]),B=(0,st.useCallback)((e=>{const t=parseInt(e.target.value);isNaN(t)?console.warn("Некорректная ширина!"):(f(t),v(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16/9;return Math.floor(e*t)}(t)))}),[]),H=(0,st.useCallback)(((e,t)=>{t.preventDefault(),h(e)}),[h]),V=(0,st.useCallback)((e=>{e.preventDefault(),L(!x)}),[x]),U=e=>t=>{if("start"===e){const e=eL(t,E,n,P,k),r=tL(t,E,n,P,k);C(t),N(`${e}${e&&n?u:""}`),P>t&&D(`${r}${r&&n?u:""}`)}if("end"===e){const e=eL(S,E,n,t,k),r=tL(S,E,n,t,k);I(t),D(`${r}${r&&n?u:""}`),S<t&&N(`${e}${e&&n?u:""}`)}};return(0,st.useEffect)((()=>{const e=eL(S,E,n,P,k),t=tL(S,E,n,P,k);N(`${e}${e&&n?u:""}`),D(`${t}${t&&n?u:""}`)}),[E,k]),st.createElement(st.Fragment,null,st.createElement("button",{className:gx,onClick:()=>R(!T)},T?"Скрыть":"Показать"," настройки параметров"),st.createElement("div",{className:cl()(_x,{[yx]:T})},st.createElement("div",{className:Ax},st.createElement("div",{className:bx},"Размеры, px: "),st.createElement("div",{className:Ex},st.createElement("div",{className:Px},st.createElement(Kx,{type:"text",maxLength:4,showLength:!1,value:p.toString(),title:"ширина",onChange:F})),st.createElement("span",{className:Cx},"×"),st.createElement("div",{className:Ix},st.createElement(Kx,{type:"text",maxLength:4,showLength:!1,value:m.toString(),title:"высота",onChange:B})),(p-0<304||m-0<sL)&&st.createElement("div",{className:kx},`Минимальная ширина плеера - ${304..toString()}px`))),st.createElement("div",null,st.createElement("div",{className:cl()(bx,Tx)},"Основной цвет  ",st.createElement(_I,{onClick:V,color:d,isDisabled:!0})),st.createElement("div",{className:Ex},st.createElement("button",{className:gx,onClick:V},"Изменить"),x&&st.createElement(bI,{className:wx,itemClass:Sx,itemActiveClass:yx,onItemClick:H,activeColor:d}))),a&&st.createElement(st.Fragment,null,st.createElement("div",{className:Ex},st.createElement("div",{className:Rx},st.createElement(oL,{id:"embed-start-checkbox",name:"embed-start-checkbox",checked:E,title:E?"Начало:":`Начало: ${Xg({value:S})}`,onChange:e=>{const{checked:t}=e.currentTarget;w(t)}})),E&&st.createElement(Qx,{showHours:c,time:S,onTimeChange:U("start")}),O&&st.createElement("div",{className:kx},O)),st.createElement("div",{className:Ex},st.createElement("div",{className:Rx},st.createElement(oL,{id:"embed-end-checkbox",name:"embed-end-checkbox",checked:k,title:k?"Конец:":`Конец: ${u||""}`,onChange:e=>{const{checked:t}=e.currentTarget;A(t)}})),k&&st.createElement(Qx,{showHours:c,time:P,fallbackValue:Math.floor(n/1e3),onTimeChange:U("end")}),M&&st.createElement("div",{className:kx},M))),st.createElement("div",{className:Rx},st.createElement(oL,{id:"embed-show-title-checkbox",name:"embed-show-title-checkbox",checked:y,onChange:e=>{const{checked:t}=e.currentTarget;b(t)},title:"Показывать название видео"})),y&&st.createElement("div",{className:Rx},st.createElement(oL,{id:"embed-show-author-checkbox",name:"embed-show-author-checkbox",checked:_,onChange:e=>{const{checked:t}=e.currentTarget;g(t)},title:"Показывать автора канала"}))))};var uL="freyja_char-share-embed__title_7ijjH",cL="freyja_char-share-embed__embed_hztm3";const dL=(e,t)=>((0,st.useId)(),st.createElement(Lx,Ft(Ft({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),{},{ref:t,name:"IconCopyInBuffer"}),st.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.22 3.3h-.03c-.544 0-.996 0-1.364.031-.383.032-.738.1-1.07.274a2.7 2.7 0 0 0-1.152 1.151c-.173.333-.242.688-.274 1.071-.03.368-.03.82-.03 1.365V7.3h-.11c-.544 0-.996 0-1.364.03-.383.032-.738.1-1.07.274a2.7 2.7 0 0 0-1.152 1.151c-.173.333-.242.688-.274 1.071-.03.368-.03.82-.03 1.365v5.619c0 .545 0 .996.03 1.364.032.383.1.738.274 1.071a2.7 2.7 0 0 0 1.151 1.152c.333.173.688.241 1.071.273.368.03.82.03 1.365.03h3.618c.545 0 .996 0 1.364-.03.383-.032.738-.1 1.071-.273a2.7 2.7 0 0 0 1.152-1.152c.173-.333.241-.688.273-1.07.03-.369.03-.82.03-1.365v-.11h.11c.545 0 .996 0 1.364-.03.383-.032.738-.1 1.071-.273a2.7 2.7 0 0 0 1.152-1.152c.173-.333.241-.688.273-1.07.03-.369.03-.82.03-1.365V7.192c0-.545 0-.997-.03-1.365-.032-.383-.1-.738-.273-1.07a2.7 2.7 0 0 0-1.152-1.152c-.333-.173-.688-.242-1.07-.274-.369-.03-.82-.03-1.365-.03zm3.48 12h.08c.581 0 .974 0 1.277-.025.295-.024.442-.069.542-.12a1.3 1.3 0 0 0 .554-.555c.053-.1.097-.247.121-.542.025-.303.026-.696.026-1.277V7.22c0-.581 0-.975-.026-1.278-.024-.295-.069-.441-.12-.541a1.3 1.3 0 0 0-.555-.555c-.1-.052-.247-.096-.542-.12-.303-.026-.696-.026-1.277-.026h-3.56c-.581 0-.975 0-1.278.026-.295.024-.441.068-.542.12a1.3 1.3 0 0 0-.554.555c-.052.1-.096.246-.12.541-.026.303-.026.697-.026 1.278v.08h2.109c.545 0 .996 0 1.364.03.383.032.738.1 1.071.274a2.7 2.7 0 0 1 1.152 1.151c.173.333.241.688.273 1.071.03.368.03.82.03 1.364v4.11ZM9 8.7h-.78c-.581 0-.975.001-1.278.027-.295.024-.441.068-.541.12a1.3 1.3 0 0 0-.555.555c-.052.1-.096.246-.12.541-.026.303-.026.697-.026 1.278v5.56c0 .581 0 .974.026 1.277.024.295.068.442.12.542a1.3 1.3 0 0 0 .555.554c.1.052.246.097.541.121.303.025.697.026 1.278.026h3.56c.581 0 .974 0 1.277-.026.295-.024.442-.069.542-.12a1.3 1.3 0 0 0 .554-.555c.053-.1.097-.247.121-.542.025-.303.026-.696.026-1.277V11.22c0-.582 0-.975-.026-1.278-.024-.295-.068-.441-.12-.541a1.3 1.3 0 0 0-.555-.555c-.1-.052-.247-.096-.542-.12-.303-.026-.696-.026-1.277-.026z",clipRule:"evenodd"}))),hL=(0,st.forwardRef)(dL);var pL="freyja_char-share-form__form_y2h5x",vL="freyja_char-share-form__button_UEKvP",mL="freyja_char-share-form__message_fnT2h";const fL=e=>{let{isCopied:t,message:n,onClick:r,value:i,type:a}=e;return st.createElement("div",{className:pL},st.createElement(Kx,{readOnly:!0,value:i,onClick:()=>r(a)}),st.createElement("button",{className:vL,type:"button",onClick:()=>r(mx.COPY_BUTTON)},st.createElement(hL,{size:"large"})),t&&st.createElement("div",{className:mL},n))};var _L="freyja_link-button__button_YRo-x";const gL=e=>{let{children:t,onClick:n}=e;return st.createElement("button",{className:_L,type:"button",onClick:n},t)},yL=e=>{let{url:t,playOptions:n,onShare:r,showTimecode:i,defaultStartTime:a,pepper:o,videoId:s}=e;const[l,u]=(0,st.useState)(""),[c,d]=vx(!1),h=(null==n?void 0:n.duration)||0,p=e=>{l&&(fx(l),d(!0),r&&r(e))};return st.createElement(st.Fragment,null,st.createElement("h3",{className:uL},"Код вставки плеера"),st.createElement(fL,{isCopied:c,value:l,onClick:p,message:"Код скопирован в буфер обмена",type:mx.EMBED}),st.createElement("div",{className:cL},st.createElement(lL,{onEmbedCodeChanged:u,videoDuration:h,playOptions:n,defaultStartTime:a,url:t,showTimecode:i,pepper:o,videoId:s})),st.createElement(gL,{onClick:()=>{p(mx.EMBED)}},"Скопировать"))};var bL="freyja_char-share-panel__social_-a3Fk",EL="freyja_char-share-panel__hideEmbed_htfGX",wL={title:"freyja_char-share-url__title_ZMEx4",buttons:"freyja_char-share-url__buttons_2kEaC",icon:"freyja_char-share-url__icon_T-poR",subtitle:"freyja_char-share-url__subtitle_Evedm",startTime:"freyja_char-share-url__startTime_b0k3Y",checkbox:"freyja_char-share-url__checkbox_Oktfi",warningMessage:"freyja_char-share-url__warningMessage_ndZ0V",shareIcon:"freyja_char-share-url__shareIcon_a0e2o","shareIcon--type-facebook":"freyja_char-share-url__shareIcon--type-facebook_4xpKO","shareIcon--type-ok":"freyja_char-share-url__shareIcon--type-ok_Kfv4d","shareIcon--type-mail":"freyja_char-share-url__shareIcon--type-mail_imvG8","shareIcon--type-telegram":"freyja_char-share-url__shareIcon--type-telegram_Epuhf","shareIcon--type-viber":"freyja_char-share-url__shareIcon--type-viber_9--iz","shareIcon--type-vk":"freyja_char-share-url__shareIcon--type-vk_vc6wr","shareIcon--type-whatsapp":"freyja_char-share-url__shareIcon--type-whatsapp_ovg0R"},SL="freyja_char-share-button__charShareButton_bEsry";const CL=["windowPosition","width","height"],kL=(e,t)=>{let{windowPosition:n,width:r,height:i}=t;const a=Ft(Ft({location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes",width:r,height:i},bp(t,CL)),"windowCenter"===n?((e,t)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}))(r,i):((e,t)=>({top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}))(r,i));window.open(e,"",Object.entries(a).map((e=>{let[t,n]=e;return`${t}=${n}`})).join(", "))},AL=["children","className","disabled","onClick","link","windowHeight","windowWidth","windowPosition"],PL=e=>{let{children:t,className:n,disabled:r,onClick:i,link:a,windowHeight:o=400,windowWidth:s=550,windowPosition:l="windowCenter"}=e,u=bp(e,AL);return st.createElement("button",ll({},u,{className:cl()(SL,n),disabled:r,onClick:e=>{kL(a,{height:o,width:s,windowPosition:l}),null==i||i(e,a)}}),t)},IL=e=>{const t=Object.entries(e).filter((e=>{let[,t]=e;return null!=t})).map((e=>{let[t,n]=e;return`${encodeURIComponent(t)}=${encodeURIComponent(String(n))}`}));return t.length>0?`?${t.join("&")}`:""},TL=["url","title","image","noParse","noVkLinks"];function RL(e,t){let{title:n,image:r,noParse:i,noVkLinks:a}=t;return`https://vk.com/share.php${IL({url:e,title:n,image:r,noparse:i?1:0,no_vk_links:a?1:0})}`}const xL={windowWidth:660,windowHeight:460},LL=["url","title","description","image"];function OL(e,t){let{title:n,description:r,image:i}=t;return`https://connect.ok.ru/offer${IL({url:e,title:n,description:r,imageUrl:i})}`}const NL={windowWidth:588,windowHeight:480,windowPosition:"screenCenter"},ML=["url","title"];function DL(e,t){let{title:n}=t;return`https://telegram.me/share/url${IL({url:e,title:n})}`}const FL={windowWidth:550,windowHeight:400},BL=["url","title","separator"];function HL(e,t){let{title:n,separator:r=" "}=t;return`${`https://${/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)?"api":"web"}.whatsapp.com/send`}${IL({text:n?`${n}${r}${e}`:e})}`}const VL={windowWidth:550,windowHeight:400},UL=[{SocialButton:e=>{let{url:t,title:n,image:r,noParse:i,noVkLinks:a}=e,o=bp(e,TL);return st.createElement(PL,ll({link:RL(t,{title:n,image:r,noParse:i,noVkLinks:a})},xL,o))},icon:"vk",type:mx.VK},{SocialButton:e=>{let{url:t,title:n,description:r,image:i}=e,a=bp(e,LL);return st.createElement(PL,ll({link:OL(t,{title:n,description:r,image:i})},NL,a))},icon:"ok",type:mx.OK},{SocialButton:e=>{let{url:t,title:n}=e,r=bp(e,ML);return st.createElement(PL,ll({link:DL(t,{title:n})},FL,r))},icon:"telegram",type:mx.TELEGRAM},{SocialButton:e=>{let{url:t,title:n,separator:r}=e,i=bp(e,BL);return st.createElement(PL,ll({link:HL(t,{title:n,separator:r})},VL,i))},icon:"whatsapp",type:mx.WHATS_APP}],jL=e=>{let{type:t}=e;return st.createElement("span",{className:cl()(wL.shareIcon,wL[`shareIcon--type-${t}`])})},WL=e=>{let{url:t,location:n,isMobile:r,playOptions:i,pepper:a,onShare:o,showTimecode:s,defaultStartTime:l,urlParams:u}=e;const c=(null==i?void 0:i.duration)||0,d=Xg({value:c/1e3})||"",h=c>=36e5,p=`Посмотрите это видео на RUTUBE: «${(null==i?void 0:i.title)||""}»`,[v,m]=vx(!1),[f,_]=(0,st.useState)(!1),[g,y]=(0,st.useState)((()=>l)),[b,E]=(0,st.useState)(""),w=(0,st.useCallback)((()=>Xx({url:`${t}${n}`,pepper:a,isMobile:r,startTime:f?g:null,urlParams:u})),[t,n,a,r,f,g,u]),[S,C]=(0,st.useState)(w()),k=e=>{o&&o(e)},A=(0,st.useMemo)((()=>((e,t,n)=>encodeURI(`mailto:?subject=${t}&body=${(null==n?void 0:n.title)||""} — ${e}`))(`${t}${n}`,p,i)),[t,n,p,i]);(0,st.useEffect)((()=>{if(b&&f)C("");else{const e=Xx({url:`${t}${n}`,pepper:a,isMobile:r,startTime:!b&&f?g:null,urlParams:u});C(e)}}),[r,n,g,t,a,b,f,u]);return st.createElement(st.Fragment,null,st.createElement("h3",{className:wL.title},"Поделиться"),st.createElement("div",{className:wL.buttons},UL.map(((e,t)=>{let{SocialButton:n,icon:r,type:i}=e;return st.createElement(st.Fragment,{key:t},st.createElement(n,{url:S,title:p,className:wL.icon,onClick:()=>k(i)},st.createElement(jL,{type:r})))})),st.createElement("a",{href:A,className:wL.icon,onClick:()=>k(mx.EMAIL)},st.createElement(jL,{type:"mail"}))),st.createElement("p",{className:wL.subtitle},"Ссылка"),st.createElement(fL,{isCopied:v,value:S,onClick:e=>{S&&(fx(S),m(!0),k(e))},message:"Ссылка скопирована в буфер обмена",type:mx.LINK}),s&&st.createElement(st.Fragment,null,st.createElement("div",{className:wL.startTime},st.createElement("div",{className:wL.checkbox},st.createElement(oL,{id:"embed-start-checkbox",name:"embed-start-checkbox",checked:f,title:f?"Начало:":`Начало: ${Xg({value:g})}`,onChange:e=>{const{checked:t}=e.currentTarget;_(t)}})),f&&st.createElement(Qx,{showHours:h,time:g,onTimeChange:e=>{y(e);const t=eL(e,f,c);E(`${t}${t&&c?d:""}`)}}),b&&f&&st.createElement("div",{className:wL.warningMessage},b))))};var zL=function(e){return e.SHARE_URL="share-url",e.EMBED_CODE="embed-code",e}(zL||{});const $L=e=>{let{url:t,location:n,isMobile:r,showTimecode:i,playOptions:a,pepper:o,urlParams:s,onShare:l,onClickOutside:u,currentTime:c=0,anchorRef:d,containerRef:h,hideEmbedCode:p=!1,videoId:v}=e;const[m,f]=(0,st.useState)(zL.SHARE_URL),_=(0,st.useRef)(null),g=h||_,y=e=>{l&&l(e)};var b,E,w;return b=[g,d],E=u,(0,st.useEffect)((()=>{const e=e=>{if(Array.isArray(b)){if(b.some((t=>{var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return}else if(!b.current||b.current.contains(e.target))return;E&&E(e)};return document.addEventListener("mousedown",e,null==w?void 0:w.mouseHandlerOptions),()=>{document.removeEventListener("mousedown",e)}}),[b,E,w]),st.createElement("div",{ref:g,className:cl()(bL,{[EL]:p})},m===zL.SHARE_URL&&st.createElement(WL,{url:t,location:n,urlParams:s,isMobile:r,playOptions:a,pepper:o,onShare:y,showTimecode:i,defaultStartTime:c}),m===zL.EMBED_CODE&&st.createElement(yL,{url:t,pepper:o,playOptions:a,onShare:y,showTimecode:i,defaultStartTime:c,videoId:v}),m===zL.SHARE_URL&&!p&&st.createElement(gL,{onClick:()=>f(zL.EMBED_CODE)},"Код вставки плеера"))},GL="share-popup-module__playerShareBtnPopup___Xmz0t",KL="share-popup-module__raichuPlayerShareScrollContainer___yCQfn",qL="share-popup-module__sharePopupWrapper___jJXVw",YL=lc((()=>{const{isSharePanelOpen:e,setActivePanel:t,currentTime:n,videoUrl:r,isLive:i,playOptions:a,pepper:o,onShare:s}=pE(),l=(0,st.useRef)(null),u=Math.round(n),c=(0,st.useMemo)((()=>{if(r)try{return new URL(r)}catch(e){return console.warn("share-popup:",e),{origin:"",pathname:""}}return{origin:"",pathname:""}}),[r]);return zu(l,(()=>{l.current&&e&&t("")})),e?st.createElement("div",{className:qL},st.createElement("div",ll({ref:l,className:GL},Gf),st.createElement("div",{className:KL},st.createElement($L,{currentTime:u,url:c.origin,location:c.pathname,urlParams:vd(jc.isMobile),isMobile:jc.isMobile,playOptions:a,showTimecode:!i,pepper:o,anchorRef:l,onShare:s})))):null}));var QL;let ZL,XL;QL=class extends Oo{static get ShareButton(){return px}static get SharePopup(){return YL}constructor(e,t,n,r,i,a,o,s){super(),this._data=void 0,this._playback=void 0,this._appearance=void 0,this._controls=void 0,this._layout=void 0,this._counterHelper=void 0,this._isEmbed=void 0,this._banner=void 0,this.__pepper=Mr.box(""),this._data=e,this._playback=t,this._appearance=n,this._controls=r,this._layout=i,this._counterHelper=o instanceof Mv?o.counterHelper:void 0,this._isEmbed=a.value,this._banner=s,this.setActivePanel=this.setActivePanel.bind(this),this.onShare=this.onShare.bind(this)}get isShowingShareBtn(){var e;if(null!==(e=this._banner)&&void 0!==e&&e.isShowBanner)return!1;const t=this._appearance.showShareButton&&this._isEmbed,n=this._appearance.showShareButton&&!this._isEmbed,r=this._layout.isTouchDevice&&n&&this._layout.isFullScreen,i=this._playback.ended&&!this._layout.isTouchDevice;return(t||r)&&!i}get isEmbed(){return this._isEmbed}get isSharePanelOpen(){return"share"===this._controls.activePanel}get title(){var e;return(null===(e=this._data)||void 0===e?void 0:e.title)||""}get videoUrl(){var e;return(null===(e=this._data)||void 0===e?void 0:e.videoUrl)||""}get currentTime(){return this._playback.currentTime}get playOptions(){var e;return null!==(e=this._data)&&void 0!==e&&e.data?this._data.data:null}get isLive(){var e;return Boolean(null===(e=this._data)||void 0===e?void 0:e.isLive)}get pepper(){return this.__pepper.get()}set pepper(e){this.__pepper.set(e)}get counterHelper(){return this._counterHelper}onShare(e){var t;null===(t=this._counterHelper)||void 0===t||t.get("mainSharingShare")({socialNetwork:e})}setActivePanel(e){this._controls.activePanel=e}},[XL,ZL]=en(QL,[To({implement:"ISharePlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IPlayback","IAppearancePlugin","IControlsPlugin","IVideoLayoutPlugin","IsEmbed",{implement:"IStatisticState",optional:!0},{implement:"ICommunicationBannerPlugin",optional:!0}]})],[],0,void 0,Oo).c,ZL();const JL="poster-module__posterContainer___ogxzi",eO="poster-module__poster___pcGrV",tO="poster-module__buttonWrapper___XFW5j",nO=lc((()=>{const{thumbnailUrl:e,title:t,playerWidth:n,isPosterVisible:r,play:i,isPlayButtonVisible:a}=Rc("IPosterPlugin");return e&&r?st.createElement("div",{className:JL},a&&st.createElement("div",{className:tO},st.createElement("div",{style:{width:"24px",height:"24px"},onClick:i},st.createElement(Fd,null))),st.createElement(rE,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:e,className:eO,playerWidth:n,alt:t,onClick:i})):null}));var rO,iO;let aO,oO,sO;var lO;let uO,cO,dO;new(iO=class extends Oo{constructor(e,t,n,r){super(),this._data=e,this._playerSize=t,this._playback=n,this._isEmbedResolvable=r,Ca({isPosterVisible:Hr,isPlayButtonVisible:Hr}),this.play=this.play.bind(this)}get title(){return this._data.title||""}get thumbnailUrl(){return this._data.poster||""}get playerWidth(){var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}get isPosterVisible(){const{isPlaying:e,wasStarted:t,waiting:n}=this._playback;return!e&&this._data.isTVStream&&!(t&&n)}get isPlayButtonVisible(){return Boolean(this._playback.wasStarted&&!this._playback.ended&&this._isEmbedResolvable.value)}play(){this._playback.play()}},[sO,aO]=en(iO,[To({implement:"IPosterPlugin",ctor_args:["IDataPlugin","IPlayerSizePlugin","IPlayback","IsEmbed"]})],[],0,void 0,Oo).c,oO=iO,(rO=class extends jo{constructor(){super(sO),this.Poster=nO,aO()}})[oO]=void 0,rO);lO=class extends Oo{constructor(e){super(),this._playbackPlugin=void uO(this),this._playbackPlugin=e}init(){const e=$i((()=>this._playbackPlugin.duration),(e=>{Fp.emit(Nh.DURATION_CHANGE,{duration:e})})),t=this.subscribePlaybackEvent(Rd.volumeChange,Vh((e=>{Fp.emit(Nh.VOLUME_CHANGE,{volume:e,muted:this._playbackPlugin.muted})}),500)),n=this.subscribePlaybackEvent(Rd.mute,(e=>{Fp.emit(Nh.VOLUME_CHANGE,{volume:this._playbackPlugin.volume,muted:e})})),r=$i((()=>this._playbackPlugin.buffering),this.handleBuffering.bind(this)),i=$i((()=>({currentTime:this._playbackPlugin.currentTime,duration:this._playbackPlugin.duration})),(e=>Fp.emit(Nh.CURRENT_TIME,{time:e.currentTime,currentTime:e.currentTime,duration:e.duration}))),a=$i((()=>this._playbackPlugin.ended),(e=>{e&&this._endHandler()})),o=this.subscribePlaybackEvent(Rd.error,(()=>{Fp.emit(Nh.ERROR,{fatal:!1,type:"playback",message:"Some playback error"})}));return()=>[e,t,n,r,i,a,o].forEach((e=>e()))}handleBuffering(){const[e]=this._playbackPlugin.getBuffered();Fp.emit(Nh.BUFFERING,{range:e})}subscribePlaybackEvent(e,t){return this._playbackPlugin.on(e,t),()=>{this._playbackPlugin.off(e,t)}}_endHandler(){Fp.emit(Nh.PLAY_COMPLETE,{})}},({e:[uO],c:[dO,cO]}=en(lO,[To({implement:"IAutoPostMessagesPlugin",ctor_args:["IPlayback"]})],[[Lo(),2,"init"]],0,void 0,Oo)),cO();let hO=function(e){return e.START="start",e.OPTIONS_REQUEST="options_request",e.BL_REQUEST="bl_request",e.PLAY_START="play_start",e.REWIND="rewind",e.PAUSE="pause",e.UNPAUSE="unpause",e.CHANGE_SM="change_sm",e.CHANGE_Q="change_q",e.CHANGE_QM="change_qm",e.CHANGE_V="change_v",e.TEN_SEC="10sec",e.A_REQUEST="a_request",e.A_START="a_start",e.A_END="a_end",e.END="end",e.BUFFERING_START="buffering_start",e.BUFFERING_END="buffering_end",e.ERROR="error",e}({});var pO;let vO,mO,fO;pO=class extends dO{constructor(e,t,n,r,i,a,o,s,l,u){super(e),this._providerPlugin=void vO(this),this._playOptions=void 0,this._statisticStore=void 0,this._layoutPlugin=void 0,this._advertPlugin=void 0,this._config=void 0,this._pip=void 0,this._cinema=void 0,this._fullscreen=void 0,this._playingHandled=!1,this._providerPlugin=t,this._layoutPlugin=i,this._playOptions=n,this._statisticStore=r,this._advertPlugin=a,this._config=o,this._pip=s,this._cinema=l,this._fullscreen=u}getCommonParameters(){return{currentTime:this._playbackPlugin.currentTime||0,duration:this._playbackPlugin.duration||0}}emit(e,t){Fp.emit(e,Ft(Ft({},this.getCommonParameters()),t))}initVideo(){const e=$i((()=>this._playbackPlugin.isPlaying),(e=>{e&&!this._playingHandled&&(this.sendPlayStart(),this._playingHandled=!0)})),t=this.subscribeAdvertEvent(Hp.load,this.handleAdvertLoad.bind(this)),n=this.subscribeAdvertEvent(Hp.start,this.handleAdvertStart.bind(this)),r=this.subscribeAdvertEvent(Hp.end,this.handleAdvertEnd.bind(this)),i=$i((()=>({currentTime:this._playbackPlugin.currentTime,duration:this._playbackPlugin.duration})),(e=>{let{currentTime:t,duration:n}=e;return this.emit(Nh.CURRENT_TIME,{time:t,currentTime:t,duration:n})}));return()=>[e,t,n,r,i].forEach((e=>e()))}pipChangeState(){if(this._pip)return $i((()=>{var e;return null===(e=this._pip)||void 0===e?void 0:e.isInPiP}),(e=>{this.emit(Nh.IS_IN_PIP,{isInPiP:Boolean(e)})}))}cinemaChangeState(){if(this._cinema)return $i((()=>{var e;return null===(e=this._cinema)||void 0===e?void 0:e.isCinema}),(e=>{this.emit(Nh.IS_CINEMA,{isCinema:Boolean(e)})}))}fullscreenChangeState(){if(this._fullscreen)return $i((()=>{var e;return null===(e=this._fullscreen)||void 0===e?void 0:e.isFullscreen}),(e=>{this.emit(Nh.IS_FULLSCREEN,{isFullscreen:Boolean(e)})}))}sendPlayStart(){var e,t,n;const r={video_id:this._config.get("videoId"),qa:this._providerPlugin.autoQuality,sm:this._layoutPlugin.playerMode,yclid:tl(),viewid:(null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.view_id)||"",user:this._config.get("userId")||"",cid:this._statisticStore.uuid,pid:this._statisticStore.guid||"",referer:gd(),v:this._playbackPlugin.volume};var i,a;null!==(t=this._providerPlugin.activeQuality)&&void 0!==t&&t.width&&(r.q_w=null===(i=this._providerPlugin.activeQuality)||void 0===i?void 0:i.width);null!==(n=this._providerPlugin.activeQuality)&&void 0!==n&&n.height&&(r.q_h=null===(a=this._providerPlugin.activeQuality)||void 0===a?void 0:a.height);this._providerPlugin.type&&(r.tr=this._providerPlugin.type),this._statisticStore.followedLink&&(r.referral_rutube=this._statisticStore.followedLink),this.emit(Nh.PLAY_START,r)}handleAdvertLoad(e){let{name:t,urlTemplate:n}=e;this.emit(Nh.AD_REQUEST,{aformat:t,did:fe(),videoId:this._config.get("videoId"),e:hO.A_REQUEST,axurl:n})}handleAdvertStart(e){let{name:t,urlTemplate:n}=e;this.emit(Nh.ROLL_STATE,{state:"play",type:t}),this.emit(Nh.AD_START,{aformat:t,did:fe(),videoId:this._config.get("videoId"),e:hO.A_START,axurl:n})}handleAdvertEnd(e){let{name:t,urlTemplate:n}=e;this.emit(Nh.ROLL_STATE,{state:"complete",type:t}),this.emit(Nh.AD_END,{aformat:t,did:fe(),videoId:this._config.get("videoId"),e:hO.A_END,axurl:n})}subscribeAdvertEvent(e,t){var n;return null===(n=this._advertPlugin)||void 0===n||n.on(e,t),()=>{var n;null===(n=this._advertPlugin)||void 0===n||n.off(e,t)}}},({e:[vO],c:[fO,mO]}=en(pO,[To({implement:"IAutoPostMessagesPlugin",ctor_args:["IPlayback","IProviderPlugin",{implement:"IDataPlugin",optional:!0},"IStatisticValues","IVideoLayoutPlugin",{implement:"IAdvertPlugin",optional:!0},"IPlayerConfigPlugin",{implement:"PictureInPicturePlugin",optional:!0},{implement:"CinemaModePlugin",optional:!0},{implement:"IFullscreenPlugin",optional:!0}]})],[[Lo(),2,"initVideo"],[Lo(),2,"pipChangeState"],[Lo(),2,"cinemaChangeState"],[Lo(),2,"fullscreenChangeState"]],0,void 0,dO)),mO();var _O=n(3983),gO=n.n(_O);const yO="SCREEN_ORIENTATION_LOCK",bO=String(!0);function EO(e){if(!function(){var e;const t=navigator.userAgent.toLowerCase().includes("android"),n=Boolean(null===(e=window)||void 0===e||null===(e=e.screen.orientation)||void 0===e?void 0:e.lock);return t&&n}())return null;return window.screen.orientation.lock(e).then((()=>(tb(yO,bO),!0))).catch((()=>!1))}var wO;let SO,CO,kO;wO=class extends Oo{constructor(e,t,n){super(),this._isFullscreen=(SO(this),Mr.box(!1)),this._screenfullElement=Mr.box(null),this._counterHelper=void 0,this._playback=e,this._pip=n,Ca(this,{screenfullElement:Hr,isFullscreen:Hr,handleFullscreen:Bi,fullScreenEventListener:Bi}),this.fullScreenEventListener=this.fullScreenEventListener.bind(this),this.handleFullscreen=this.handleFullscreen.bind(this),this._counterHelper=t&&t instanceof Mv?t.counterHelper:void 0,this.enterFullscreen=this.enterFullscreen.bind(this),this.exitFullscreen=this.exitFullscreen.bind(this)}init(){return null!==gO()&&void 0!==gO()&&gO().isEnabled&&gO().on("change",this.fullScreenEventListener),()=>{null!==gO()&&void 0!==gO()&&gO().isEnabled&&gO().off("change",this.fullScreenEventListener)}}fullScreenEventListener(){var e;this.screenfullElement&&document.fullscreenElement&&document.fullscreenElement!==this.screenfullElement||(this._isFullscreen.set(null===gO()||void 0===gO()?void 0:gO().isFullscreen),null===(e=this._counterHelper)||void 0===e||e.get("mainPlayerModeFullscreen")({isFullScreen:null===gO()||void 0===gO()?void 0:gO().isFullscreen}),this.handleFullscreenLock(null===gO()||void 0===gO()?void 0:gO().isFullscreen),this.handleFramelessMode(null===gO()||void 0===gO()?void 0:gO().isFullscreen))}handleFullscreen(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(!e&&(null===gO()||void 0===gO()||!gO().isFullscreen)||e&&!0===t){const e=this._playback.player;if(lv()&&e.webkitEnterFullScreen)e.webkitEnterFullScreen();else if(null!==gO()&&void 0!==gO()&&gO().isEnabled&&this.screenfullElement){var n,r;if(null!==(n=this._pip)&&void 0!==n&&n.isInPiP)this._isFullscreen.set(!0),this._pip.exitFromPiP().then((()=>{var e;gO().request(null!==(e=this.screenfullElement)&&void 0!==e?e:void 0).catch((e=>console.warn(e)))}));else gO().request(null!==(r=this.screenfullElement)&&void 0!==r?r:void 0).catch((e=>console.warn(e)))}}else(!e&&gO().isFullscreen||e&&!1===t)&&this.exitFullscreen();e||Fp.emit(Nh.CHANGE_FULLSCREEN,{isFullScreen:gO().isFullscreen})}get isFullscreen(){return this._isFullscreen.get()}get screenfullElement(){return this._screenfullElement.get()}set screenfullElement(e){this._screenfullElement.set(e)}isIOSFullscreen(){const e=this._playback.player;return Boolean(!!(lv()&&e&&"webkitDisplayingFullscreen"in e)&&e.webkitDisplayingFullscreen)}handleFullscreenLock(e){if(e){const{isVertical:e}=this._playback;!function(){EO(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"portrait":"landscape")}(e)}else eb(yO)===bO&&(null===(t=window)||void 0===t||null===(t=t.screen)||void 0===t||null===(t=t.orientation)||void 0===t||t.unlock(),nb(yO));var t}handleFramelessMode(e){e||this._playback.toggleFramelessMode(!1,!1)}async exitFullscreen(){if(this.isFullscreen)return gO().exit().catch((e=>console.warn(e)))}async enterFullscreen(){if(!this.isFullscreen){const n=this._playback.player;if(lv()&&n.webkitEnterFullScreen)n.webkitEnterFullScreen();else if(null!==gO()&&void 0!==gO()&&gO().isEnabled&&this.screenfullElement){var e,t;return null!==(e=this._pip)&&void 0!==e&&e.isInPiP?this._pip.exitFromPiP().then((()=>{var e;gO().request(null!==(e=this.screenfullElement)&&void 0!==e?e:void 0).catch((e=>console.warn(e)))})):gO().request(null!==(t=this.screenfullElement)&&void 0!==t?t:void 0).catch((e=>console.warn(e)))}}}},({e:[SO],c:[kO,CO]}=en(wO,[To({implement:"IFullscreenPlugin",ctor_args:["IPlayback",{implement:"IStatisticState",optional:!0},{implement:"PictureInPicturePlugin",optional:!0}]})],[[Lo(),2,"init"]],0,void 0,Oo)),CO();const AO="Ошибка во время загрузки",PO="Автор не добавил серии в этот сезон",IO="Вы смотрите",TO="raichuSeasonsPanel",RO=8888888,xO=async e=>{let{url:t}=e;const n=await fetch(t),r=await n.json();return 204===n.status?{message:PO}:r};var LO,OO,NO;let MO,DO,FO,BO;new(NO=class extends(LO=X_){constructor(e,t,n,r,i){super(),this._invalidDefaultSeason=(MO(this),Mr.box(!1)),this.counterHelper=void 0,this._next=Mr.box(null),this._previous=Mr.box(null),this._loadingDirection=Mr.box(null),this._isEmbed=void 0,this.onClick=e=>{var t;this._seasons.updateCurrentSeason(),null===(t=this.counterHelper)||void 0===t||t.get("mainSeasonsClick")({clicked_url:e.video_url}),this._isEmbed?window.open(this.trackingLinks.generateTrackingLink({id:e.id,campaign:"serial"})):Fp.emit(Nh.RECOMMENDED_VIDEO,{video:e,resourceId:RO})},this._config=t,this._seasons=n,this.trackingLinks=r,this._isEmbed=e.value,this.counterHelper=i&&i instanceof Mv?i.counterHelper:void 0,Ca(this,{selectedSeason:Hr,invalidDefaultSeason:Hr,onClick:Bi,loadPrev:Jn,loadNext:Jn,loadItems:Jn})}init(){return $i((()=>({currentSeason:this._seasons.selectedSeason,videoId:this._config.get("videoId")})),(()=>{Vi((async()=>{this.cleanCollection(),await this.loadItems()}))}))}cleanCollection(){this.items=[],this.hasNext=!1,this.hasPrev=!1,this.loadedPages=[],this.loadingDirection=null}async loadItems(){try{this.loading.status=!0;const e=await this.fetch();Vi((()=>{"detail"in e||"message"in e?this.error="message"in e?e.message:AO:(this.error=null,this.items=e.results,this.hasPrev=Boolean(e.has_previous),this.hasNext=Boolean(e.has_next),this.next=e.next,this.previous=e.previous,this.loadedPages.push(e.page))}))}catch(e){Vi((()=>{this.error=AO}))}finally{Vi((()=>{this.loading.status=!1}))}return Boolean(!this.error)}async loadNext(){if(null!==this.next){this.loading.status=!0,this.loadingDirection="next";try{const e=await xO({url:this.next});Vi((()=>{"message"in e?this.error=e.message:(this.items=[...this.items,...e.results],this.hasNext=Boolean(e.has_next),this.next=e.next)}))}catch(e){Vi((()=>{this.error=AO}))}finally{Vi((()=>{this.loading.status=!1}))}}}async loadPrev(){if(null!==this.previous){this.loading.status=!0,this.loadingDirection="prev";try{const e=await xO({url:this.previous});Vi((()=>{"message"in e?this.error=e.message:(this.items=[...e.results,...this.items],this.hasPrev=Boolean(e.has_previous),this.previous=e.previous)}))}catch(e){Vi((()=>{this.error=AO}))}finally{Vi((()=>{this.loading.status=!1}))}}}get isEmbed(){return this._isEmbed}set next(e){this._next.set(e)}get next(){return this._next.get()}set previous(e){this._previous.set(e)}get previous(){return this._previous.get()}get selectedSeason(){return this._seasons.selectedSeason}set selectedSeason(e){this._seasons.selectedSeason=e}get invalidDefaultSeason(){return this._invalidDefaultSeason.get()}set invalidDefaultSeason(e){this._invalidDefaultSeason.set(e)}set loadingDirection(e){this._loadingDirection.set(e)}get loadingDirection(){return this._loadingDirection.get()}fetch(){if(null===this.selectedSeason)throw new Error("Invalid params to fetch episodes");return(async e=>{let{videoId:t,season:n,offset:r,limit:i=10}=e;const a=xt({limit:i,offset:r}),o=await fetch(`${fb()}/serial/${t}/${n}/?${a.toString()}`),s=await o.json();return 204===o.status?{message:PO}:s})({season:this.selectedSeason,limit:19,offset:-2,videoId:this._config.get("videoId")})}},({e:[MO],c:[BO,DO]}=en(NO,[To({implement:"ISeasonsEpisodesPlugin",ctor_args:["IsEmbed","IPlayerConfigPlugin","ISeasonsPlugin",{implement:"ITrackingLinksPlugin",optional:!0},"IStatisticState"]})],[[Lo(),2,"init"]],0,void 0,LO)),FO=NO,(OO=class extends jo{constructor(){super(BO),this.useSeasonsEpisodes=()=>Rc("ISeasonsEpisodesPlugin"),this.getSeasonsEpisodes=e=>e("ISeasonsEpisodesPlugin"),DO()}})[FO]=void 0,OO);const HO=()=>Rc("ISeasonsPlugin"),VO=()=>Rc("ISeasonsViewPlugin"),UO=()=>st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},st.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M6.62 7c0-.21.17-.38.38-.38h13c.21 0 .38.17.38.38v8c0 .2-.17.38-.38.38h-1.76V10.4c0-.9-.73-1.62-1.62-1.62h-10V7ZM5.38 8.78V7c0-.9.73-1.62 1.62-1.62h13c.9 0 1.62.72 1.62 1.62v8c0 .9-.73 1.62-1.62 1.62h-1.76v1.81c0 .9-.73 1.62-1.62 1.62h-12c-.9 0-1.62-.72-1.62-1.62V10.4c0-.9.73-1.62 1.62-1.62h.76Zm-.76 1.24a.38.38 0 0 0-.38.38v8.03c0 .21.17.38.38.38h12c.21 0 .38-.17.38-.38V10.4a.38.38 0 0 0-.38-.38h-12Zm7.87 4.84c.12-.09.2-.23.2-.4 0-.15-.08-.3-.2-.39l-2.12-1.52a.41.41 0 0 0-.45-.03.48.48 0 0 0-.24.42V16c0 .18.1.34.24.42.14.08.31.08.45-.02l2.12-1.53Zm-1.93.25v-1.28l.89.64-.89.64Z",clipRule:"evenodd"})),jO="seasons-toggle-button-module__wrapper___B2sYK",WO="seasons-toggle-button-module__button___cOhB0",zO="seasons-toggle-button-module__label___yR_fr",$O="seasons-toggle-button-module__isVisible___DHVDL",GO="seasons-toggle-button-module__isFullscreen___klPK_",KO="Сезоны и серии",qO=st.createElement(st.Fragment,null,"Выбрать серию или сезон",st.createElement("br",null),"теперь можно тут"),YO=lc((0,st.forwardRef)(((e,t)=>{let{buttonSize:n}=e;const r=ju(),i=VO(),{isWidgetVisible:a,isToggleLabelVisible:o,isFullscreen:s,size:l}=VO(),{hasSeasons:u}=HO(),{activeOnboarding:c,isShowOnboarding:d}=F_()||{},h=(null==l?void 0:l.width)||0,p="seasons"===c&&d,v=(0,st.useRef)(null);return(0,st.useEffect)((()=>{i.onShowToggleButton()}),[]),u?st.createElement("div",{ref:v,className:jO},st.createElement(Xf,{ref:t,"data-testid":"ui-seasons",tabIndex:0,role:"button","aria-label":k_(`Показать ${KO}`),"aria-expanded":a,"aria-controls":"raichuSeasonsPanel",action:"seasons",icon:UO,onClick:()=>{a?i.hide():i.show()},tooltipTitle:st.createElement("div",null,KO),tooltipPlacement:"top",tooltipZIndex:kt.ControlsTooltipZIndex,label:st.createElement("div",{className:cl()(zO,{[$O]:o,[GO]:s})},KO),size:n,className:p?WO:void 0}),p&&st.createElement(D_,{isTouchDevice:r,playerWidth:h,wrapperRef:v,title:qO})):null}))),QO=e=>{let{color:t="white"}=e;return st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},st.createElement("path",{d:"M15.44 5.56c.24.24.24.64 0 .88L9.88 12l5.56 5.56a.62.62 0 0 1-.88.88l-6-6a.62.62 0 0 1 0-.88l6-6a.62.62 0 0 1 .88 0Z",fill:t,fillRule:"evenodd",clipRule:"evenodd"}))},ZO=e=>{let{listRef:t,items:n,loadingDirection:r,direction:i}=e;const a=(0,st.useRef)(0),o="vertical"===i?"scrollHeight":"scrollWidth",s="vertical"===i?"scrollTop":"scrollLeft";(0,st.useLayoutEffect)((()=>{"prev"===r&&a.current&&t.current&&(t.current[s]=t.current[o]-a.current)}),[n,r,t,o,s]);return{handleScroll:()=>{const e=null==t?void 0:t.current;e&&(a.current=e[o]-e[s])}}},XO="shared-module__panel___pJscd",JO="shared-module__panelHidden___PHl8j",eN="shared-module__panelList___LOBfq",tN="shared-module__panelItem___TULYV",nN="shared-module__panelItemStretched___XC5Bg",rN="shared-module__panelItemHover___rnO0N",iN="shared-module__panelError___PaTPG",aN="shared-module__header___Ftk4s",oN="shared-module__close___omwb6",sN="shared-module__icon___ndIbd",lN="episodes-list-module__back___pekd1",uN=e=>{let{hasNext:t,loading:n,loadMore:r}=e;const i=(0,st.useRef)(null),a=(0,st.useCallback)((e=>{var a,o;i.current&&(null===(a=i.current)||void 0===a||a.disconnect());e&&t&&!n&&(i.current=new IntersectionObserver((e=>{var t;null!==(t=e[0])&&void 0!==t&&t.isIntersecting&&r()}),{threshold:0,rootMargin:"100%"}),null===(o=i.current)||void 0===o||o.observe(e))}),[t,n,r]);return(0,st.useEffect)((()=>()=>{var e;i.current&&(null===(e=i.current)||void 0===e||e.disconnect())}),[]),a},cN=(e,t)=>{if(!e||!t||e<0||t<0)return 0;if(e>=t)return 100;return(e<100?100:e)/t*100},dN=398,hN=lc((e=>{let{maxHeight:t=dN}=e;const n=gw().get("videoId"),r=VO(),{isWidgetVisible:i,dropdownPanel:a,hide:o}=r,s=i&&"episodes"===a,l=BO.useSeasonsEpisodes(),{items:u,error:c,loading:d,hasPrev:h,hasNext:p,scrollToCurrent:v,isEmpty:m,selectedSeason:f,loadingDirection:_,loadPrev:g,loadNext:y,onClick:b}=l,E=(0,st.useRef)(null),w=(0,st.useRef)(null),[,S]=(0,st.useState)(!1),C=uN({hasNext:h,loading:d.status,loadMore:g}),k=uN({hasNext:p,loading:d.status,loadMore:y}),{viewedItems:A,resetViewed:P}=ZE({wrapper:E.current,items:u,enabled:!m,options:{rootMargin:"0px 0px 165px 0px"}}),{handleScroll:I}=ZO({listRef:w,items:u,loadingDirection:_,direction:"vertical"});return(0,st.useEffect)((()=>{s||P()}),[s,P]),(0,st.useEffect)((()=>{if(!m&&r.scrollToCurrent){var e,t;const a=(null===(e=w.current)||void 0===e?void 0:e.querySelector(`[data-id="${n}"]`))||(null===(t=w.current)||void 0===t?void 0:t.querySelector("[data-id]"));var i;if(a)null===(i=w.current)||void 0===i||i.scrollTo({top:a.offsetTop});r.scrollToCurrent=!1}}),[m,r.scrollToCurrent]),kI({listRef:E,enabled:s,items:u}),st.createElement("div",{className:cl()(XO,{[JO]:!s}),ref:e=>{E.current=e,e&&S(!0)},"aria-hidden":!s,"aria-disabled":!s},st.createElement("div",{className:cl()(nN,aN)},st.createElement("button",{tabIndex:0,className:lN,onClick:()=>{r.dropdownPanel="seasons"},"aria-label":"Вернуться к списку сезонов"},st.createElement(QO,null),st.createElement("span",null,`${f||0} сезон`)),st.createElement(Xf,{tabIndex:0,className:oN,icon:Ub,onClick:o,"aria-label":"Закрыть сезоны и серии","data-close":"true"})),st.createElement("div",{ref:w,className:eN,style:{maxHeight:Math.min(t,dN)},onScroll:I},d&&m?st.createElement(OS,{count:3,loading:!0,mode:"vertical_list",className:tN}):st.createElement(st.Fragment,null,!v&&h&&st.createElement("div",{ref:C,"aria-hidden":!0},st.createElement(OS,{count:1,loading:"prev"===d.direction,mode:"vertical_list",className:tN})),u.map((e=>st.createElement(QE,{key:e.id,id:e.id,title:`${e.episode||0} серия`,description:e.title,descriptionRows:3,thumbnailUrl:e.thumbnail_url,age:e.pg_rating.age,duration:Xg({value:e.duration}),progress:cN(e.view_position||0,e.duration),className:cl()(tN,rN),hidden:!A[e.id],mode:"vertical_list",ariaLabel:e.id===n?IO:`${e.episode||0} серия${null!==f?` ${f} сезон`:""}`,currentLabel:e.id===n?IO:"",onClick:()=>{b(e),o()}}))),!v&&p&&st.createElement("div",{ref:k,"aria-hidden":!0},st.createElement(OS,{count:1,loading:"next"===d.direction,mode:"vertical_list",className:tN})),!m&&c&&st.createElement("div",{className:cl()(tN,iN)},c))))})),pN="seasons-list-module__seasonsItem___Jd7o0",vN=390,mN=lc((e=>{let{maxHeight:t=vN}=e;const n=HO(),r=VO(),{selectedSeason:i,currentSeason:a,seasons:o}=n,{isDropdownPanelSeason:s}=r,l=(0,st.useRef)(null),u=(0,st.useRef)(null);kI({listRef:l,enabled:s}),(0,st.useEffect)((()=>{if(s&&l.current&&u.current){l.current.focus();const e=u.current.querySelector('[data-current-season="true"]')||u.current.querySelector("button");e&&u.current.scrollTo({top:e.offsetTop})}}),[s]);return st.createElement("div",{ref:l,className:cl()(XO,{[JO]:!s}),"aria-hidden":!s,"aria-disabled":!s,tabIndex:0},st.createElement("div",{className:cl()(tN,nN,aN)},st.createElement("span",null,"Выбор сезона"),st.createElement(Xf,{className:oN,icon:Ub,onClick:r.hide,"aria-label":"Закрыть сезоны и серии","data-close":"true"})),st.createElement("div",{ref:u,className:eN,style:{maxHeight:Math.min(t,vN)}},o.map((e=>st.createElement("button",{key:e.number,"aria-label":`${e.number} сезон${i===e.number?" Текущий":""}`,className:cl()(tN,rN,nN,pN),"data-current-season":i===e.number,onClick:()=>(e=>{r.dropdownPanel="episodes",n.selectedSeason=e.number})(e)},st.createElement("span",null,e.number," сезон"),a===e.number&&st.createElement("span",{className:sN},st.createElement(Fd,null)))))))})),fN="dropdown-panel-module__wrapper___uuWoz",_N="dropdown-panel-module__wrapperInner___C82Wo",gN="dropdown-panel-module__showEpisodes___r_IP5",yN=lc((()=>{const e=(0,st.useRef)(null),{size:t,dropdownPanel:n}=VO(),r=null!=t&&t.height?t.height-120:void 0;return st.createElement("div",ll({className:fN,id:TO},Gf,{onMouseDown:e=>{e.preventDefault()}}),st.createElement("div",{ref:e,className:cl()(_N,{[gN]:"episodes"===n})},st.createElement(mN,{maxHeight:r}),st.createElement(hN,{maxHeight:r})),st.createElement("div",{tabIndex:0,onFocus:()=>{var t;const r=null===(t=e.current)||void 0===t?void 0:t.querySelectorAll("button[data-close]")["seasons"===n?0:1];r&&r.focus()}}))})),bN=lc((e=>{let{buttonSize:t}=e;const n=VO(),{isWidgetVisible:r,size:i,coordinates:a}=n,o=Jc(),s=(0,st.useMemo)((()=>({placement:"top",modifiers:[{name:"offset",options:{offset:[0,23]}},{name:"preventOverflow",options:{boundary:o||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[o]);return st.createElement(VI,{popperOptions:s,visible:r,hidePanel:()=>{n.hide()},renderButton:e=>st.createElement(YO,{ref:e,buttonSize:t}),renderPanel:()=>st.createElement(yN,null),size:i,coordinates:a})})),EN=lc((e=>{let{buttonSize:t}=e;const{viewMode:n}=VO(),{hasSeasons:r}=HO();return r?"fullscreen"===n?st.createElement(YO,{buttonSize:t}):st.createElement(bN,{buttonSize:t}):null})),wN="episodes-list-module__noScrollbar___FnPh4",SN="episodes-list-module__episodes___b6CkE",CN="episodes-list-module__episodesInner___yllCO",kN="episodes-list-module__noScroll___MbhUY",AN="episodes-list-module__episodesItem___EiLDC",PN="episodes-list-module__episodesPrevLoader___Kampf",IN="episodes-list-module__error___ph4uq",TN=lc((e=>{let{visible:t}=e;const n=gw().get("videoId"),r=VO(),i=BO.useSeasonsEpisodes(),{items:a,error:o,loading:s,hasPrev:l,hasNext:u,scrollToCurrent:c,loadPrev:d,loadNext:h,isEmpty:p,selectedSeason:v,onClick:m}=i,[f,_]=(0,st.useState)(!1),g=(0,st.useRef)(null),{handleScroll:y}=ZO({listRef:g,items:a,loadingDirection:s.direction,direction:"horizontal"}),b=uN({hasNext:l,loading:s.status,loadMore:d}),E=uN({hasNext:u,loading:s.status,loadMore:h}),{viewedItems:w,resetViewed:S}=ZE({wrapper:g,items:a,enabled:!p&&f,options:{rootMargin:"100%"}});return(0,st.useEffect)((()=>{S()}),[v,S]),(0,st.useEffect)((()=>{p&&_(!1)}),[p]),(0,st.useEffect)((()=>{var e,t;const i=(null===(e=g.current)||void 0===e?void 0:e.querySelector(`[data-id="${n}"]`))||(null===(t=g.current)||void 0===t?void 0:t.querySelector("[data-id]"));if(i&&g.current){const e=parseInt(window.getComputedStyle(g.current).paddingLeft,10);g.current.scrollTo({left:i.offsetLeft-e})}r.scrollToCurrent=!1}),[r.scrollToCurrent]),st.createElement("div",{className:SN},p&&s.status?st.createElement(op,null):st.createElement(st.Fragment,null,p?st.createElement("div",{className:IN},o):st.createElement("div",{ref:e=>{g.current=e,e&&_(!0)},className:cl()(wN,CN,{[kN]:!t}),onScroll:y},l&&st.createElement("div",{ref:c?void 0:b,className:cl()(AN,PN),style:{gridColumnGap:"8px"}},st.createElement(OS,{count:1,loading:"prev"===s.direction,mode:"horizontal_list",className:AN,width:"100%"})),a.map((e=>st.createElement(QE,{key:e.id,id:e.id,title:`${e.episode||0} серия`,description:e.title,descriptionRows:2,thumbnailUrl:e.thumbnail_url,age:e.pg_rating.age,duration:Xg({value:e.duration}),progress:cN(e.view_position||0,e.duration),className:AN,hidden:!w[e.id],mode:"horizontal_list",ariaLabel:e.id===n?IO:`${e.episode||0} серия${null!==v?` ${v} сезон`:""}`,currentLabel:e.id===n?IO:"",onClick:()=>{m(e),r.hide()}}))),!c&&u&&st.createElement(st.Fragment,null,st.createElement("div",{ref:E}),"next"===s.direction&&st.createElement(OS,{count:19,loading:!0,mode:"horizontal_list",className:AN})))))})),RN="seasons-fullscreen-module__fullSizeOverlay___bPunR",xN="seasons-fullscreen-module__fade___gqJXN",LN="seasons-fullscreen-module__fadeIn___qeswH",ON="seasons-fullscreen-module__hidden___l1okr",NN="seasons-fullscreen-module__wrapper___vrs7G",MN="seasons-fullscreen-module__wrapperInner___i1ti_",DN="seasons-fullscreen-module__btnClose___pTgmB",FN="seasons-list-module__noScrollbar___Hor5S",BN="seasons-list-module__seasons___xRzhB",HN="seasons-list-module__noScroll____s77C",VN="seasons-list-module__seasonsItem___kO9xI",UN="seasons-list-module__disabled___b3rQ2",jN=lc((e=>{let{visible:t}=e;const n=VO(),r=HO(),{seasons:i,currentSeason:a}=r,o=(0,st.useRef)(null),s=(0,st.useRef)(null),l=(0,st.useCallback)((e=>{if(!o.current)return;const t=e.offsetLeft,n=e.offsetLeft+e.offsetWidth,r=o.current.scrollLeft,i=o.current.scrollLeft+o.current.offsetWidth-140,a=parseInt(window.getComputedStyle(o.current).paddingLeft,10);let s=0;n>i?s=r+n-i:t<r&&(s=Math.min(t-40,0)),o.current.scroll({left:s-a})}),[]),u=e=>{l(e.target)},c=(0,st.useCallback)((e=>{const t=Number(e.target.id);r.currentSeason=t,r.selectedSeason=t}),[r]);return(0,st.useEffect)((()=>{if(n.scrollToCurrent){if(o.current){const t=o.current.querySelector('[data-current-season="true"]')||o.current.querySelector("button");var e;if(t)null===(e=o.current)||void 0===e||e.scrollTo({left:t.offsetLeft})}n.scrollToCurrent=!1}}),[n]),st.createElement("div",{ref:o,className:cl()(FN,BN,{[HN]:!t}),onScroll:()=>{var e;o.current&&s.current&&(null===(e=o.current)||void 0===e||e.scrollTo({left:s.current.offsetLeft}))}},i.map((e=>st.createElement("button",{key:e.number,id:String(e.number),"data-current-season":a===e.number,"aria-label":`${e.number} сезон${a===e.number?" Текущий":""}`,tabIndex:0,className:cl()(VN,{[UN]:a===e.number}),onClick:c,onFocus:u},e.number," сезон"))))})),WN=(e,t)=>{const n=(()=>{const e=(0,st.useRef)(!0);return e.current?(e.current=!1,!0):e.current})();(0,st.useEffect)((()=>{if(!n)return e()}),t)},zN=lc((()=>{const e=(0,st.useRef)(null),t=(0,st.useRef)(null),{isWidgetVisible:n,hide:r,size:i}=VO(),a=Math.min(Math.ceil(((null==i?void 0:i.width)||0)/Oh),(null==i?void 0:i.height)||0),{fadeIn:o,setFadeIn:s,isAnimating:l}=(e=>{let{defaultValue:t,time:n,onStart:r,onEnd:i}=e;const[a,o]=(0,st.useState)(t),[s,l]=(0,st.useState)(!1);return WN((()=>{let e=setTimeout((()=>{l(!1),i&&i(!0),e=null}),n);return l(!0),r&&r(),()=>{e&&(clearTimeout(e),i&&i(!1))}}),[a]),{isAnimating:s,fadeIn:a,setFadeIn:o}})({defaultValue:n,time:200,onEnd:()=>{o||r()}});return(0,st.useEffect)((()=>{s(n),n&&setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),200)}),[n,s]),st.createElement("div",{tabIndex:0,role:"document","aria-label":"Выбор сезона и серии",ref:e,id:TO,className:cl()(xN,{[ON]:!n,[LN]:o})},st.createElement("div",ll({className:cl()(NN,RN)},jf),st.createElement("div",{className:MN,style:{height:`${a}px`}},st.createElement(Xf,{ref:t,tabIndex:0,className:cl()(DN),icon:Ub,onClick:()=>{s(!1);const e=document.querySelector(`button[aria-controls="${TO}"]`);e&&e.focus()},"aria-label":"Закрыть сезоны и серии"}),st.createElement(jN,{visible:o&&!l}),st.createElement(TN,{visible:o&&!l}))),st.createElement("div",{tabIndex:0,onFocus:()=>{var n;const r=null===(n=e.current)||void 0===n||null===(n=n.querySelector('[data-current-season="true"]'))||void 0===n?void 0:n.nextElementSibling;var i;r?(r.click(),r.focus()):null===(i=t.current)||void 0===i||i.focus()}}))})),$N=lc((()=>{const{viewMode:e}=VO();return"fullscreen"===e?st.createElement(zN,null):null}));var GN,KN;let qN,YN,QN,ZN;var XN;let JN,eM,tM;new(KN=class extends Oo{static get SeasonsWidget(){return EN}constructor(e){super(),this._error=(qN(this),Mr.box("")),this._loading=Mr.box(!1),this._seasons=Mr.box([]),this._selectedSeason=Mr.box(null),this._currentSeason=Mr.box(null),this._config=e,Ca(this,{handleSuccess:Bi,handleError:Bi,fetchSeasons:Bi,resetSeasons:Bi,selectedSeason:Hr,currentSeason:Hr}),this.fetchSeasons=this.fetchSeasons.bind(this)}refetchSeasons(){return $i((()=>this._config.get("videoId")),(()=>{this.fetchSeasons()}))}init(){this.fetchSeasons()}fetchSeasons(){this.resetSeasons(),this.loading=!0,(async e=>{let{videoId:t}=e;const n=await fetch(`${fb()}/serial/${t}`);return 204===n.status?{message:"Серийный контент не найден"}:await n.json()})({videoId:this._config.get("videoId")}).then((e=>{"message"in e?this.handleError():this.handleSuccess(e)})).catch((()=>this.handleError()))}handleSuccess(e){const t=e.current_season;this._selectedSeason.set(t),this._currentSeason.set(t),this._seasons.set(e.results),this.loading=!1}handleError(e){this._error.set(e||AO),this.loading=!1}updateCurrentSeason(){this.currentSeason=this.selectedSeason}resetSeasons(){this.error="",this.selectedSeason=null,this.currentSeason=null,this._seasons.set([])}set loading(e){this._loading.set(e)}get loading(){return this._loading.get()}get error(){return this._error.get()}set error(e){this._error.set(e)}set selectedSeason(e){this._selectedSeason.set(e)}get selectedSeason(){return this._selectedSeason.get()}set currentSeason(e){this._currentSeason.set(e)}get currentSeason(){return this._currentSeason.get()}get seasons(){return this._seasons.get()}get hasSeasons(){return null!==this.selectedSeason&&this.seasons.length}},({e:[qN],c:[ZN,YN]}=en(KN,[To({implement:"ISeasonsPlugin",ctor_args:["IPlayerConfigPlugin"]})],[[Lo(),2,"refetchSeasons"],[Lo(),2,"init"]],0,void 0,Oo)),QN=KN,(GN=class extends jo{constructor(){super(ZN),this.SeasonsFullScreen=$N,YN()}})[QN]=void 0,GN);var nM;let rM,iM,aM;XN=class extends Oo{constructor(e,t,n,r,i,a,o,s,l){super(),this._isWidgetVisible=(JN(this),Mr.box(!1)),this._dropdownPanel=Mr.box("episodes"),this._viewMode=Mr.box("dropdown"),this._toggleButtonShowed=!1,this._scrollToCurrent=!1,this._isEmbed=void 0,this.counterHelper=void 0,this.onShowToggleButton=()=>{var e;this._toggleButtonShowed||(this._toggleButtonShowed=!0,null===(e=this.counterHelper)||void 0===e||e.get("mainSeasonsButtonShow")())},this.props=e,this._playerSize=t,this._playback=n,this._controls=r,this._advert=i,this._fullscreen=a,this._layout=o,this._seasonsList=s,Ca(this,{isWidgetVisible:Hr,viewMode:Hr,dropdownPanel:Hr,allowOnboarding:Hr,show:Bi,hide:Bi}),this._isEmbed=this.props.value,this.counterHelper=l&&l instanceof Mv?l.counterHelper:void 0,this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.onShowToggleButton=this.onShowToggleButton.bind(this)}initViewMode(){var e=this;return $i((()=>{var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}),(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t<500||jc.isMobile&&t<1024?e.viewMode="fullscreen":e.viewMode="dropdown"}))}selectSeason(){return $i((()=>this._seasonsList.currentSeason),(()=>{this.dropdownPanel="episodes"}))}show(){var e;this.isWidgetVisible=!0,this.scrollToCurrent=!0,this.dropdownPanel="episodes",null===(e=this.counterHelper)||void 0===e||e.get("mainSeasonsShow")(),this._controls.preventHideControls=!0}hide(){this.isWidgetVisible=!1,this._controls.preventHideControls=!1}set isWidgetVisible(e){this._isWidgetVisible.set(e)}get isWidgetVisible(){return this._isWidgetVisible.get()}set dropdownPanel(e){this._dropdownPanel.set(e)}get dropdownPanel(){return this._dropdownPanel.get()}set viewMode(e){this._viewMode.set(e)}get viewMode(){return this._viewMode.get()}get isDropdownPanelSeason(){return"seasons"===this.dropdownPanel}set scrollToCurrent(e){this._scrollToCurrent=e}get scrollToCurrent(){return this._scrollToCurrent}get size(){return this._playerSize.size}get coordinates(){return this._playerSize.coordinates}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}get isEmbed(){return this._isEmbed}get isShowControls(){return this._controls.isShowControls}get showOnboardingBeforeEndscreen(){return this._layout.isUserInteracted&&this._playback.progress>80&&this._playback.progress<99}get isToggleLabelVisible(){return this._fullscreen.isFullscreen||!this._isEmbed&&this._layout.isCinema}get isFullscreen(){return this._fullscreen.isFullscreen}get allowOnboarding(){return this._seasonsList.seasons.length>0&&!this.isWidgetVisible}},({e:[JN],c:[tM,eM]}=en(XN,[To({implement:"ISeasonsViewPlugin",ctor_args:["IsEmbed","IPlayerSizePlugin","IPlayback","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},"IFullscreenPlugin","IVideoLayoutPlugin","ISeasonsPlugin","IStatisticState"]})],[[Lo(),2,"initViewMode"],[Lo(),2,"selectSeason"]],0,void 0,Oo)),eM();function oM(){return Rc("ReplayWidgetPlugin")}nM=class extends Oo{constructor(){super(),this.__hasBeenInteracted=(rM(this),Mr.box(!1)),this.__isSaveMode=Mr.box(!1),Ca(this,{hasBeenInteracted:Hr,isSaveMode:Hr})}init(){const e=()=>{this.hasBeenInteracted=!0};return document.addEventListener("keydown",e),document.addEventListener("mousedown",e),document.addEventListener("pointerup",e),document.addEventListener("touchend",e),()=>{document.removeEventListener("keydown",e),document.removeEventListener("mousedown",e),document.removeEventListener("pointerup",e),document.removeEventListener("touchend",e)}}get hasBeenInteracted(){return this.__hasBeenInteracted.get()}set hasBeenInteracted(e){this.__hasBeenInteracted.set(e)}get isSaveMode(){return this.__isSaveMode.get()}set isSaveMode(e){this.__isSaveMode.set(e)}},({e:[rM],c:[aM,iM]}=en(nM,[To("ISaveModePlugin")],[[Lo(),2,"init"]],0,void 0,Oo)),iM();const sM="replay-widget-module__startButton___jRKJ_",lM="replay-widget-module__withControls___Vw2PT",uM=lc((()=>{const[e,t]=(0,st.useState)(5e3),n=oM();if((0,st.useEffect)((()=>{n.showReplayControl();const e=setInterval((()=>{t((t=>{const r=t-1e3;return r||(clearInterval(e),n.isReplayWidgetAlreadyShowed=!0),r}))}),1e3);return()=>{clearInterval(e)}}),[n]),!e)return null;return st.createElement(eC,{"data-testid":"replay-button",className:cl()(sM,{[lM]:n.isShowControls}),onClick:()=>{n.seekToStart(),n.isReplayWidgetAlreadyShowed=!0}},"Начать с начала (",Math.round(e/1e3),")")})),cM=lc((()=>{const{isReplayWidgetAvailable:e}=oM();return e?st.createElement(uM,null):null}));var dM,hM;let pM,vM,mM,fM;var _M;let gM,yM,bM;new(hM=class extends Oo{constructor(e,t,n,r,i,a){super(),this._isReplayWidgetAlreadyShowed=(pM(this),Mr.box(!1)),this._initialTime=Mr.box(0),this._isShowReplayControlMetricsSent=!1,this._counterHelper=void 0,this._data=e,this._playback=t,this._playerStatus=n,this._controls=r,this._advert=i,this._counterHelper=a&&a instanceof Mv?a.counterHelper:void 0,Ca(this,{isReplayWidgetAvailable:Hr,isReplayWidgetAlreadyShowed:Hr}),this.seekToStart=this.seekToStart.bind(this)}initialTime(){const e=$i((()=>this._playback.currentTime),(t=>{Vi((()=>this._initialTime.set(t))),e()}))}hideControlsTooltips(){return $i((()=>({isReplayWidgetAvailable:this.isReplayWidgetAvailable,isReplayWidgetAlreadyShowed:this.isReplayWidgetAlreadyShowed})),(e=>{let{isReplayWidgetAvailable:t,isReplayWidgetAlreadyShowed:n}=e;this._controls.needToHideTooltips=!(!t||n)}))}seekToStart(){var e,t;this._playback.isPlaying||this._playback.play(),this._playback.progress<100&&this._playback.seek(0),null===(e=this._counterHelper)||void 0===e||e.get("mainReplayWidgetClick")(),null===(t=this._counterHelper)||void 0===t||t.get("mainWatchFromStartClick")()}resetIsShowReplayMetrics(){return $i((()=>this._controls.data.video_id),(()=>this._isShowReplayControlMetricsSent=!1))}showReplayControlMetrics(){var e;null===(e=this._counterHelper)||void 0===e||e.get("mainWatchFromStartShow")(),this._isShowReplayControlMetricsSent=!0}showReplayControl(){this._isShowReplayControlMetricsSent||this.showReplayControlMetrics()}set isReplayWidgetAlreadyShowed(e){this._isReplayWidgetAlreadyShowed.set(e)}get isReplayWidgetAlreadyShowed(){return this._isReplayWidgetAlreadyShowed.get()}get isShowControls(){return this._controls.isShowControls}get isReplayWidgetAvailable(){var e;return!jc.isMobile&&!this._data.isLive&&this._initialTime.get()>60&&this._playback.duration>300&&this._playback.duration-this._initialTime.get()>=8&&!this._playerStatus.wasFirstPlay&&!this.isReplayWidgetAlreadyShowed&&!(null!==(e=this._advert)&&void 0!==e&&e.isLoaded)}},({e:[pM],c:[fM,vM]}=en(hM,[To({implement:"ReplayWidgetPlugin",ctor_args:["IDataPlugin","IPlayback","IPlayerStatusState","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IStatisticState",optional:!0}]})],[[Lo(),2,"initialTime"],[Lo(),2,"hideControlsTooltips"],[Lo(),2,"resetIsShowReplayMetrics"],[Ro,2,"showReplayControl"]],0,void 0,Oo)),mM=hM,(dM=class extends jo{constructor(){super(fM),this.ReplayWidget=cM,vM()}})[mM]=void 0,dM);_M=class extends nh{constructor(e,t,n,r,i,a){gM((super(e,t,n,r,i),this.playback=t,this.advert=a,this))}initEvents(){const e=[];return e.push($i((()=>{var e,t,n,r;return{state:null===(e=this.advert)||void 0===e?void 0:e.currentState,hasItems:!(null===(t=this.advert)||void 0===t||!t.currentItems.length),loaded:null===(n=this.advert)||void 0===n?void 0:n.isLoaded,ended:this.playback.ended,isAdvertEnded:null===(r=this.advert)||void 0===r?void 0:r.isAdvertEnded}}),(e=>{let{state:t,hasItems:n,loaded:r,ended:i,isAdvertEnded:a}=e;a?this.isInfoPrevented=!0:t?(!n&&!i||"show"===t&&r)&&(this.isInfoPrevented=!0):this.isInfoPrevented=!1}))),()=>e.forEach((e=>e()))}initVideoInfo(){const e=this.setNextTimeMark(),t=this.setPreviousTimeMark(),n=this.percentRewind();return()=>[e,t,n].forEach((e=>e()))}setNextTimeMark(){return this.subscribeShortcutsEvent(xd.nextTimeMark,(e=>{let{label:t}=e;this.setActiveInfo({icon:Yd.SEEK_TO_NEXT_TIME_MARK,label:t})}))}setPreviousTimeMark(){return this.subscribeShortcutsEvent(xd.previousTimeMark,(e=>{let{label:t}=e;this.setActiveInfo({icon:Yd.SEEK_TO_PREV_TIME_MARK,label:t})}))}percentRewind(){return this.subscribeShortcutsEvent(xd.percentRewind,(e=>{let{label:t}=e;this.setActiveInfo({label:t})}))}},({e:[gM],c:[bM,yM]}=en(_M,[To({implement:"IInfoLayerPlugin",ctor_args:["IPlayerSizePlugin","IPlayback","IShortcutsPlugin",{implement:"IExtraActionsPlugin",optional:!0},"IDataPlugin",{implement:"IAdvertPlugin",optional:!0}]})],[[Lo(),2,"initEvents"],[Lo(),2,"initVideoInfo"]],0,void 0,nh)),yM();const EM=()=>Rc("Video360Plugin"),wM=e=>{let{color:t="white"}=e;return st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none"},st.createElement("path",{d:"M1 7L7 1L13 7",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},SM=e=>{let{color:t="white"}=e;return st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"14",viewBox:"0 0 8 14",fill:"none"},st.createElement("path",{d:"M1 13L7 7L0.999999 1",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},CM="video360-controls-module__wrapper___OKeP5",kM="video360-controls-module__wrapperHover___kVjMS",AM="video360-controls-module__arrowWrapper___dgCe3",PM="video360-controls-module__arrowWrapperTop___cMFZg",IM="video360-controls-module__arrowWrapperRight___xSb9r",TM="video360-controls-module__arrowWrapperBottom___ArWub",RM="video360-controls-module__arrowWrapperLeft___sqU4A",xM=lc((()=>{const e=EM(),[t,n]=(0,st.useState)(!1),r=t?"rgb(90, 104, 119)":"rgba(27, 41, 56, .45)",i=t=>e.rotationDirection=t,a=()=>e.rotationDirection=null;return st.createElement("div",{onPointerDown:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onMouseMove:()=>n(!0),onMouseLeave:()=>n(!1),className:cl()(CM,{[kM]:t})},st.createElement("div",{className:cl()(AM,PM),onMouseDown:()=>i("up"),onMouseLeave:a,onMouseUp:a},st.createElement(wM,{color:r})),st.createElement("div",{className:cl()(AM,IM),onMouseDown:()=>i("right"),onMouseLeave:a,onMouseUp:a},st.createElement(SM,{color:r})),st.createElement("div",{className:cl()(AM,TM),onMouseDown:()=>i("down"),onMouseLeave:a,onMouseUp:a},st.createElement(wM,{color:r})),st.createElement("div",{className:cl()(AM,RM),onMouseDown:()=>i("left"),onMouseLeave:a,onMouseUp:a},st.createElement(SM,{color:r})))})),LM="video360-module__video360___YtrBS",OM="video360-module__wrapper___rPwFo",NM="video360-module__video___oF36F",MM=lc((()=>{const{windowResize:e,initView:t,player:n,playerMode:r,onPointerDown:i,onPointerMove:a,onPointerUp:o,onTouchEnd:s,onTouchMove:l,onTouchStart:u,isTouchDevice:c}=EM(),d=(0,st.useRef)(null),h=(0,st.useRef)(null),p=(0,st.useRef)(null),[v,m]=(0,st.useState)(!1),f=(0,st.useCallback)((async e=>{const n=d.current;try{await t(d.current,h.current),n&&(n.addEventListener("pointerdown",i),window.addEventListener("pointermove",a),window.addEventListener("pointerup",o),window.addEventListener("resize",e),window.addEventListener("fullscreenchange",e))}catch(e){console.error(e)}}),[t,i,a,o]);return(0,st.useEffect)((()=>{if(!n)return;const e=()=>m(!0);return n.addEventListener("loadeddata",e),()=>{if(n)return n.removeEventListener("loadeddata",e)}}),[n]),(0,st.useEffect)((()=>{const t=d.current,n=p.current;if(null==t||!t.clientWidth)return;const r=()=>e(t);return"ResizeObserver"in window&&!p.current&&(p.current=new ResizeObserver(r),p.current.observe(t)),v&&f(r),()=>{t&&(t.removeEventListener("pointerdown",i),window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",o),window.removeEventListener("resize",r),window.removeEventListener("fullscreenchange",r),n&&(n.unobserve(t),n.disconnect()),p.current=null)}}),[n,v,d,e,t,i,a,o,f]),(0,st.useEffect)((()=>{const e=d.current;return e&&(e.addEventListener("touchend",s),e.addEventListener("touchstart",u),e.addEventListener("touchmove",l)),()=>{e&&(e.removeEventListener("touchend",s),e.removeEventListener("touchstart",u),e.removeEventListener("touchmove",l))}}),[d,s,u,l]),st.createElement("div",{"data-testid":"video-360",className:LM},st.createElement("div",{className:OM,ref:d},st.createElement("div",{className:NM,ref:h})),!c&&"mini"!==r&&st.createElement(xM,null))}));function DM(e){e.preventDefault(),e.stopImmediatePropagation()}const FM=1e3/60;class BM{constructor(e,t){this.renderer=null,this.scene=null,this.camera=null,this.wrapper=e,this.player=t}async loadLib(){await Uv("https://static.rutube.ru/static/player_sdk/three.min.js","THREE")}initCanvas(){const{clientWidth:e=0,clientHeight:t=1}=this.wrapper;return this.camera=new window.THREE.PerspectiveCamera(75,e/t,1,1100),this.renderer=new window.THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,t),this.initScene(),this.renderer.domElement}updateCameraPosition(e){if(this.camera){const{x:t,y:n,z:r}=e;this.camera.position.set(t,n,r),this.camera.lookAt(0,0,0)}}render(){this.scene&&this.camera&&this.renderer&&this.renderer.render(this.scene,this.camera)}processClientResize(){try{if(this.camera&&this.renderer&&this.wrapper){const{clientWidth:e=0,clientHeight:t=1}=this.wrapper;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}}catch(e){console.error(e)}}initScene(){this.scene=new window.THREE.Scene;const e=new window.THREE.SphereGeometry(500,60,40);e.scale(-1,1,1);const t=this.player&&new window.THREE.VideoTexture(this.player);t&&(t.needsUpdate=!0);const n=new window.THREE.MeshBasicMaterial({map:t});n.needsUpdate=!0;const r=new window.THREE.Mesh(e,n);this.scene.add(r)}}var HM;let VM,UM,jM;HM=class extends Oo{static get Video360(){return MM}constructor(e,t,n,r){super(),this.threeManager=(VM(this),null),this.isViewInited=!1,this.lastTimeOfAnimation=0,this.isTouchMoving=!1,this.isUserInteracting=!1,this.pointerDownGeoCoords={lat:0,lon:0},this.pointerDownCoords={x:0,y:0,z:0},this.geoCoords={lon:0,lat:0},this._player=Mr.box(null),this._playerMode=Mr.box(null),this._rotationDirection=Mr.box(null),this._hasPlayerControls=Mr.box(!0),this._isTouchDevice=Mr.box(!1),this._playback=e,this._videoLayout=t,this._controls=n,this._isEmbed=r,Ca({player:Hr,playerMode:Hr,rotationDirection:Hr,hasPlayerControls:Hr,isTouchDevice:Hr})}init(){this.player=this._playback.player;const e=[$i((()=>this._videoLayout.playerMode),(e=>this.playerMode=e)),$i((()=>this._videoLayout.isTouchDevice),(e=>this.isTouchDevice=e)),$i((()=>({isFullScreen:this._controls.isFullScreen,isShowDisclaimers:this._videoLayout.isShowDisclaimers,isShowControls:this._controls.isShowControls,wasStarted:this._playback.wasStarted,ended:this._playback.ended})),(e=>{let{isFullScreen:t,isShowDisclaimers:n,isShowControls:r,wasStarted:i,ended:a}=e;const o=i&&!a,s=this._isEmbed.value&&r;this.hasPlayerControls=o&&(s||n||t)}))];return()=>e.forEach((e=>e()))}get player(){return this._player.get()}set player(e){this._player.set(e)}get playerMode(){return this._playerMode.get()}set playerMode(e){this._playerMode.set(e)}get rotationDirection(){return this._rotationDirection.get()}set rotationDirection(e){this._rotationDirection.set(e)}get isTouchDevice(){return this._isTouchDevice.get()}set isTouchDevice(e){this._isTouchDevice.set(e)}get hasPlayerControls(){return this._hasPlayerControls.get()}set hasPlayerControls(e){this._hasPlayerControls.set(e)}windowResize(){var e;null===(e=this.threeManager)||void 0===e||e.processClientResize()}async initView(e,t){this.threeManager=new BM(e,this.player),await this.threeManager.loadLib();const n=this.threeManager.initCanvas();t&&n&&(t.appendChild(n),this._playback.setMount(!0)),this.renderView()}onPointerDown(e){this.isUserInteracting=!0,this._videoLayout.isPlayPauseSwitchingAvailable=!0,this.pointerDownCoords={x:e.clientX,y:e.clientY,z:0},this.pointerDownGeoCoords=this.geoCoords}onPointerMove(e){if(!this.isUserInteracting)return;const t={x:this.pointerDownCoords.x-e.clientX,y:this.pointerDownCoords.y-e.clientY,z:0};(Math.abs(t.x)>=5||Math.abs(t.y)>=5)&&(this._videoLayout.isPlayPauseSwitchingAvailable=!1,this.geoCoords={lon:.1*t.x+this.pointerDownGeoCoords.lon,lat:.1*t.y+this.pointerDownGeoCoords.lat})}onPointerUp(){this.isUserInteracting=!1}onTouchStart(e){DM(e)}onTouchMove(e){this.isTouchMoving=!0,DM(e)}onTouchEnd(e){this.isTouchMoving||(this._controls.showControls(),this._controls.setHideControlsTimer()),this.isTouchMoving=!1,DM(e)}renderView(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e-this.lastTimeOfAnimation>=FM){var t;const r=this.isViewInited?this.getCameraCoordsForInteraction():this.calculateCameraCoords();var n;if(r)null===(n=this.threeManager)||void 0===n||n.updateCameraPosition(r),this.isViewInited=!0;this.lastTimeOfAnimation=e,null===(t=this.threeManager)||void 0===t||t.render()}requestAnimationFrame((e=>this.renderView(e)))}getCameraCoordsForInteraction(){return this.rotationDirection&&this.rotate(),this.isUserInteracting||this.rotationDirection||this.isTouchMoving?this.calculateCameraCoords():null}calculateCameraCoords(){const{lon:e}=this.geoCoords;let{lat:t}=this.geoCoords;t=Math.max(-85,Math.min(85,t));const n=window.THREE.MathUtils.degToRad(90-t),r=window.THREE.MathUtils.degToRad(e);return this.geoCoords={lon:e,lat:t},{x:50*Math.sin(n)*Math.cos(r),y:50*Math.cos(n),z:50*Math.sin(n)*Math.sin(r)}}rotate(){let{lon:e,lat:t}=this.geoCoords;switch(this.rotationDirection){case"up":t-=1;break;case"down":t+=1;break;case"right":e+=1;break;case"left":e-=1}this.geoCoords={lon:e,lat:t}}},({e:[VM],c:[jM,UM]}=en(HM,[To({implement:"Video360Plugin",ctor_args:["IPlayback","IVideoLayoutPlugin","IControlsPlugin","IsEmbed"]})],[[Lo(),2,"init"],[Ro,2,"windowResize"],[Ro,2,"initView"],[Ro,2,"onPointerDown"],[Ro,2,"onPointerMove"],[Ro,2,"onPointerUp"],[Ro,2,"onTouchStart"],[Ro,2,"onTouchMove"],[Ro,2,"onTouchEnd"]],0,void 0,Oo)),UM();function WM(){return Tc().resolve("ICommunicationBannerPlugin")}const zM="communication-banner-module__container___tJHO5",$M="communication-banner-module__hidden___UfYU9",GM="communication-banner-module__small___ND65L",KM="communication-banner-module__isFull___uyzmU",qM="banner-buttons-module__buttons___sxswD",YM="banner-buttons-module__btn___AoYKS",QM="banner-buttons-module__primary___Wbjoc",ZM="banner-buttons-module__gray___rp510",XM=(0,st.memo)((e=>{let{data:t,onboardingId:n,handleClick:r}=e;const i=(0,st.useCallback)((e=>{e.stopPropagation();const{id:t}=e.currentTarget,[i]=t.split("-");r({actionId:Number(i),onboardingId:n})}),[n,r]);return t.length?st.createElement("div",{className:qM},null==t?void 0:t.sort(((e,t)=>e.sortOrder-t.sortOrder)).map((e=>!e.isFullBody&&st.createElement("button",{id:`${e.actionId}`,key:`${e.url||""}_${e.type||""}_${e.actionId}_${e.sortOrder}`,tabIndex:0,title:`Нажать ${null==e?void 0:e.title} кнопку`,className:cl()(YM,{[QM]:"external_link"===e.type||"internal_link"===e.type},{[ZM]:"cancel_button"===e.type}),"aria-label":`Нажать ${null==e?void 0:e.title} кнопку`,onClick:i},e.title)))):null})),JM=()=>st.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9999 21.4142L14.707 26.7071L13.2928 25.2928L18.5857 20L13.2928 14.7071L14.707 13.2928L19.9999 18.5857L25.2928 13.2928L26.707 14.7071L21.4141 20L26.707 25.2928L25.2928 26.7071L19.9999 21.4142Z",fill:"#F6F6F6"})),eD="close-banner-module__close___QlsM5",tD="close-banner-module__small___jBlb3",nD=(0,st.memo)((e=>{let{handleClearWatchedBanner:t,onboardingId:n,handleClick:r,width:i}=e;const a=(0,st.useCallback)((e=>{e.stopPropagation(),r({onboardingId:n,isClose:!0}),t()}),[t,r,n]);return st.createElement("button",{tabIndex:0,"aria-label":"Закрыть баннер",title:"Закрыть баннер",className:cl()(YM,eD,{[tD]:i<=768}),onClick:a},st.createElement(JM,null))})),rD="banner-picture-module__img___S67KT",iD="https://",aD=e=>{const t=e.match(/\d+/);return t?parseInt(t[0],10):0};const oD=(0,st.memo)((e=>{let{pictures:t,width:n}=e;const[r,i]=(0,st.useState)(!1),a=(0,st.useCallback)((()=>{i(!0)}),[]),o=(0,st.useMemo)((()=>{if(!t.length)return null;const e=t.map((e=>{const t=aD(e.type);return t?Number(t):0})).sort(((e,t)=>e-t));return t.filter((t=>aD(t.type)===function(e,t){if(t>e[e.length-1])return e[e.length-1];for(let n=0;n<e.length;n++)if(t<=e[n])return e[n];return null}(e,n)))[0]}),[t,n]);return null==o||!o.url||r?null:st.createElement("img",{loading:"lazy","aria-label":"Обложка",onError:a,alt:"Обложка",src:o.url,className:rD})})),sD="banner-timeout-module__progress___zeqsE",lD=e=>{let{progress:t}=e;return st.createElement("div",{className:sD,"aria-label":"Осталось до скрытия баннера"},st.createElement("span",{style:{background:"rgba(0, 161, 231, 1)",opacity:1,width:`${t}%`,transition:"width .1s ease-in-out"}}))},uD="banner-titles-module__titles___RLHof",cD="banner-titles-module__isFullBody___barZq",dD="banner-titles-module__title___XrSYD",hD="banner-titles-module__subtitle___aW6hF",pD="banner-titles-module__small___lG8OH",vD="banner-titles-module__withImg___NPb_l",mD=(0,st.memo)((e=>{let{title:t,subtitle:n,picture:r,width:i,isFullBody:a}=e;const o=!jc.isMobile&&i>768,s=(0,st.useMemo)((()=>{const e=t||null,i=n||null;return{title:e?st.createElement("p",{className:dD,"aria-label":"Заголовок",dangerouslySetInnerHTML:{__html:e}}):null,subtitle:i&&o?st.createElement("p",{className:cl()(hD,{[vD]:r}),"aria-label":"Подзаголовок",dangerouslySetInnerHTML:{__html:i}}):null}}),[t,n,o,r]);return s.title||s.title?st.createElement("div",{"aria-label":"Заголовки",className:cl()(uD,{[pD]:i<=768,[cD]:a})},null==s?void 0:s.title,null==s?void 0:s.subtitle):null})),fD=lc((()=>{var e,t,n,r;const{isBannersHidden:i,handleClick:a,handleBannerClick:o,currentBanner:s,isPaused:l,isBannersAllowed:u,isFullElement:c,timeoutToEnd:d,playerWidth:h,handleClearWatchedBanner:p,isShowButtons:v}=WM(),{progress:m}=(e=>{let{initialTime:t,isPaused:n,onEnd:r}=e;const[i,a]=(0,st.useState)(0),o=(0,st.useRef)(null);return(0,st.useEffect)((()=>{0===i&&o.current&&clearInterval(o.current)}),[i]),(0,st.useEffect)((()=>{a(t)}),[t]),(0,st.useEffect)((()=>()=>{o.current&&clearInterval(o.current)}),[]),(0,st.useEffect)((()=>{if(!(t<=0))return o.current=setInterval((()=>{!n&&i>0&&a((e=>{const t=Math.max(e-.1,0);return 0===t&&r(),t}))}),100),()=>{o.current&&clearInterval(o.current)}})),{progress:i/t*100}})({initialTime:d,isPaused:l||!!i,onEnd:p});(()=>{const e=WM();(0,st.useLayoutEffect)((()=>{var t,n;e.isShowBanner||(e.bannerHeight=0),null!==(t=document.getElementById(M_.COMMUNICATION_BANNER))&&void 0!==t&&t.offsetHeight&&(e.bannerHeight=(null===(n=document.getElementById(M_.COMMUNICATION_BANNER))||void 0===n?void 0:n.offsetHeight)||0)}))})(),(e=>{let{isBannersAllowed:t,isBannersHidden:n,currentBanner:r,isPaused:i}=e;const a=(0,st.useRef)(!1),{counterHelper:o}=WM();(0,st.useLayoutEffect)((()=>{t&&!n&&!a.current&&t&&null!=r&&r.onboardingId&&(a.current=!0,null==o||o.get("mainCommunicationBannerShow")({onboardingId:String(null==r?void 0:r.onboardingId),anumsLp:r.elements[0].actions.map((e=>e.sortOrder))}))}),[n,i]),(0,st.useLayoutEffect)((()=>{null!=r&&r.onboardingId&&(a.current=!1)}),[null==r?void 0:r.onboardingId])})({isBannersAllowed:u,isBannersHidden:!!i,currentBanner:s,isPaused:l||!!i});const f=(0,st.useMemo)((()=>{var e;if(s)return!(null==s||null===(e=s.elements[0].actions)||void 0===e||!e.find((e=>e.isFullBody)))||(null==s?void 0:s.elements[0].actions.length)<=0}),[s]);return u&&s?st.createElement("div",{tabIndex:c?0:void 0,"aria-label":"Коммуникационный баннер",id:M_.COMMUNICATION_BANNER,className:cl()(zM,{[$M]:i,[GM]:h&&h<=768,[KM]:!!f&&h&&h>768}),onClick:o,style:{cursor:c&&!jc.isMobile&&(null===(e=s.elements[0].actions)||void 0===e?void 0:e.length)>0?"pointer":"default"}},st.createElement(mD,{title:(null==s?void 0:s.elements[0].title)||"",subtitle:(null==s?void 0:s.elements[0].subtitle)||"",picture:!(null==s||null===(t=s.elements[0])||void 0===t||!t.pictures.length),width:h||0,isFullBody:!!f}),st.createElement(oD,{pictures:(null==s||null===(n=s.elements[0])||void 0===n?void 0:n.pictures)||[],width:h||0}),st.createElement(nD,{handleClearWatchedBanner:p,onboardingId:null==s?void 0:s.onboardingId,handleClick:a,width:h||0}),v&&st.createElement(XM,{data:null===(r=s.elements[0])||void 0===r?void 0:r.actions,onboardingId:null==s?void 0:s.onboardingId,removeWatchedElement:p,handleClick:a}),!!s.timeout&&!!m&&"on_pause"!==s.startCondition&&st.createElement(lD,{progress:m})):null}));var _D,gD;let yD,bD,ED,wD;var SD;let CD,kD,AD;new(gD=class extends Oo{constructor(e,t,n,r,i,a,o){super(),this._banners=(yD(this),Mr.box()),this._hasPassedTime=Mr.box(!1),this._bannerHeight=Mr.box(0),this._activeSubscriptions=void 0,this._counterHelper=void 0,this.playerData=e,this.playback=n,this.advert=r,this.pip=i,this.playerSize=a,this._counterHelper=o instanceof Mv?o.counterHelper:void 0,this._activeSubscriptions=Mr(t.get("userPaidSubscription")||[]),Ca(this,{banners:Hr,isBannersAllowed:Hr,isAdvertShowing:Hr,isBannersHidden:Hr,isShowBanner:Hr,timeoutToEnd:Hr,isFullElement:Hr,hasPassedTime:Hr,handleClick:Bi.bound,handleClearWatchedBanner:Bi.bound,handleBannerClick:Bi.bound,fetchBanners:aa})}init(){const e=[];return e.push($i((()=>this.playback.currentTime),(e=>{var t;const n=null===(t=this.banners)||void 0===t?void 0:t.find((e=>e.startCondition.includes("after")));if(this.hasPassedTime||!n||!this.playback.wasStarted)return;const r=Number(n.startCondition.split("_")[1]);e/this.playback.duration*100>=r&&(this.hasPassedTime=!0)}))),e.push($i((()=>this.hasPassedTime),(e=>{var t,n,r;null!==(t=this.banners)&&void 0!==t&&t.length&&(null===(n=this.banners)||void 0===n?void 0:n.length)<=1||!this.playback.wasStarted||e&&null!==(r=this.banners)&&void 0!==r&&r.length&&!this.banners[0].startCondition.includes("after")&&this.banners.reverse()}))),()=>e.forEach((e=>e()))}initBanners(){return $i((()=>this.playerData.video_id),(()=>{this.hasPassedTime=!1,this.playerData.viewer&&this.fetchBanners()}))}async handleClick(e){try{var t;const a=String(this.playerData.viewer),o=at(),{onboardingId:s,actionId:l,isClose:u}=e;if(!this.currentBanner||!a)return;const c=this.currentBanner.elements[0].elementId,d=null===(t=this.currentBanner.elements[0].actions.find((e=>e.actionId===l)))||void 0===t?void 0:t.sortOrder,h=this.currentBanner.elements[0].actions.find((e=>e.actionId===l)),p=this.currentBanner.elements[0].actions.filter((e=>e.actionId!==l)).map((e=>({actionId:e.actionId,isPressed:!1})));if(u||h&&["external_link","internal_link","cancel_button"].includes(h.type)){const e={userId:a,cid:o,onboardingId:s,elements:[{elementId:c,isShown:!!u,isFinished:!0,actions:[...p,...h&&!u?[{actionId:l,isPressed:!0}]:[]]}]};var n,r;if(u||this.playback.pause(),l&&!u)null===(n=this._counterHelper)||void 0===n||n.get("mainCommunicationBannerClick")(Ft({onboardingId:String(s),numLp:String(l),anumsLp:this.currentBanner.elements[0].actions.map((e=>e.actionId))||[]},d&&{indLp:String(d)}));if(u)null===(r=this._counterHelper)||void 0===r||r.get("mainCommunicationBannerClose")({onboardingId:String(s),anumsLp:this.currentBanner.elements[0].actions.map((e=>e.actionId))||[]});null!=h&&h.url&&window.open((i=h.url).startsWith(iD)?i:iD+i,"_blank"),this.handleClearWatchedBanner(),await(async(e,t)=>fetch(`${mb()}/api/premier/app/v1/onboardings/count/${t||"rutube"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ft({},e))}).catch(console.error))(e)}}catch(e){console.error(e)}var i}handleClearWatchedBanner(){var e;null===(e=this.banners)||void 0===e||e.splice(0,1)}handleBannerClick(){var e,t;if(!this.isFullElement||!this.currentBanner)return;const n=this.playerWidth>768?null===(e=this.currentBanner)||void 0===e||null===(e=e.elements[0])||void 0===e?void 0:e.actions.find((e=>e.isFullBody)):null===(t=this.currentBanner)||void 0===t||null===(t=t.elements[0])||void 0===t?void 0:t.actions[0];this.handleClick({actionId:Number(null==n?void 0:n.actionId),onboardingId:this.currentBanner.onboardingId}),this.playback.pause()}*fetchBanners(){const e=yield(async e=>{const t=new URLSearchParams;t.append("platform",jc.isMobile?"browser_mobile":"browser");for(const[n,r]of Object.entries(e))"string"==typeof r&&"null"!==r&&t.append(n,r);return fetch(`${mb()}/api/premier/app/v2.1/onboardings/config/rutube?${t.toString()}`).then((e=>e.ok&&200===e.status?e.json():null)).catch((e=>(console.warn(e),null)))})(Ft({},this.generateFetchArgs()));null!=e&&e.result?this.banners=(e=>{const t=[];let n,r;if(!e.length||!e)return[];for(let s=0;s<=e.length;s++){var i,a,o;"player_banner"===(null===(i=e[s])||void 0===i?void 0:i.type)&&(null!==(a=e[s])&&void 0!==a&&a.startCondition.includes("on_pause")&&!r&&(r=!0,t.unshift(e[s])),null!==(o=e[s])&&void 0!==o&&o.startCondition.includes("after")&&!n&&(n=!0,t.push(e[s])))}return t})(e.result):this.banners=null}generateFetchArgs(){var e,t,n,r;return Ft(Ft({videoId:String(null===(e=this.playerData)||void 0===e?void 0:e.video_id)||null,category:(null===(t=this.playerData.data)||void 0===t||null===(t=t.category)||void 0===t?void 0:t.short_name)||null},this._activeSubscriptions&&{subscribe:this._activeSubscriptions.find((e=>e.is_active))?"is_subscribed":"is_not_subscribed"}),{},{userId:String(null===(n=this.playerData)||void 0===n?void 0:n.viewer)||null,cid:at(),channelId:String(null===(r=this.playerData.data)||void 0===r||null===(r=r.author)||void 0===r?void 0:r.id)||null})}get timeoutToEnd(){var e,t,n;if(!this.currentBanner||this.currentBanner.startCondition.includes("on_pause"))return 0;const r=this.playback.duration-1e3;return null===(null===(e=this.currentBanner)||void 0===e?void 0:e.timeout)&&this.currentBanner.startCondition.includes("after")?r:this.currentBanner.timeout&&this.playback.duration<=(null===(t=this.currentBanner)||void 0===t?void 0:t.timeout)+this.playback.duration/Number(null===(n=this.currentBanner)||void 0===n?void 0:n.startCondition.split("_")[1])?Math.round(this.playback.duration-this.playback.currentTime):this.currentBanner.timeout||0}get banners(){return this._banners.get()||null}set banners(e){this._banners.set(e)}get bannerHeight(){return this._bannerHeight.get()}set bannerHeight(e){this._bannerHeight.set(e)}get isAdvertShowing(){var e;return!(null===(e=this.advert)||void 0===e||!e.currentAdvert)}get isInPiP(){return!(!this.pip||!this.pip.isInPiP)}get playerWidth(){return this.playerSize.windowWidth}get currentBanner(){return this.banners&&this.banners.length?this.banners[0]:null}get counterHelper(){return this._counterHelper}get isBannersAllowed(){return this.playback.wasStarted&&!this.playback.ended}get isShowBanner(){return this.isBannersAllowed&&!!this.currentBanner&&!this.isBannersHidden}get isPaused(){return this.playback.paused}get isShowButtons(){var e;return!(!(this.currentBanner&&(null===(e=this.currentBanner)||void 0===e||null===(e=e.elements[0].actions)||void 0===e?void 0:e.length)>0&&this.playerWidth>768)||this.isFullElement)}get isBannersHidden(){var e,t;return!this.playback.wasStarted||this.isAdvertShowing||this.isInPiP||(null===(e=this.currentBanner)||void 0===e?void 0:e.startCondition.includes("on_pause"))&&!this.isPaused||(null===(t=this.currentBanner)||void 0===t?void 0:t.startCondition.includes("after"))&&!this.hasPassedTime}get isFullElement(){var e,t;if(this.currentBanner)return Boolean(!(null===(e=this.currentBanner.elements[0])||void 0===e||!e.actions.find((e=>e.isFullBody)))||!(null!==(t=this.currentBanner.elements[0])&&void 0!==t&&t.actions.length)||this.playerWidth&&this.playerWidth<=768)}get hasPassedTime(){return this._hasPassedTime.get()}set hasPassedTime(e){this._hasPassedTime.set(e)}},({e:[yD],c:[wD,bD]}=en(gD,[To({implement:"ICommunicationBannerPlugin",ctor_args:["IDataPlugin","IPlayerConfigPlugin","IPlayback",{implement:"IAdvertPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},"IPlayerSizePlugin",{implement:"IStatisticState",optional:!0}]})],[[Lo(),2,"init"],[Lo(),2,"initBanners"]],0,void 0,Oo)),ED=gD,(_D=class extends jo{constructor(){super(wD),this.CommunicationBanner=fD,this.getCommunicationBanner=e=>e("ICommunicationBannerPlugin"),bD()}})[ED]=void 0,_D);SD=class extends cA{constructor(e,t){CD((super(e),this._dataPlugin=t,this))}initIntervalCounter(){return $i((()=>this._dataPlugin.data),(e=>{if(!e)return this.stat=[],void(this.statApi=[]);null!=e&&e.stat&&(this.stat=e.stat||[]),null!=e&&e.stat_api&&(this.statApi=e.stat_api||[],el(Zs(e.stat_api||[])))}),{fireImmediately:!0})}},({e:[CD],c:[AD,kD]}=en(SD,[To({implement:"IStatisticStore",ctor_args:["Resolve","IDataPlugin"]})],[[Lo(),2,"initIntervalCounter"]],0,void 0,cA)),kD();const PD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=3735928559^t,r=1103547991^t;for(let t,i=0;i<e.length;i++)t=e.charCodeAt(i),n=Math.imul(n^t,2654435761),r=Math.imul(r^t,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),String(4294967296*(2097151&r)+(n>>>0))},ID={production:{embed:{android:"47f3",ios:"5d5d",default:"7fd0"},web:{android:"29b0",ios:"a7d6",default:"fe73"}},development:{embed:{android:"8b85",ios:"d002",default:"592a"},web:{android:"a7cf",ios:"4294",default:"3921"}}},TD=[0,144,240,360,480,720,1080,1440,2160,3072];class RD{constructor(){this._vigoPromise=void 0,this._sdkLoaderPromise=void 0,this._vigoResolver=void 0,this._started=!1,this._sdkLoaderPromise=Uv("https://api.vigo.one/html5/Vigo.min.js","initVigo"),this._vigoPromise=new Promise((e=>{this._vigoResolver=e}))}init(e,t){this._sdkLoaderPromise.then((n=>{this._vigoResolver&&this._vigoResolver(n(e,t))})).catch((e=>console.warn(e)))}startPlayback(){this._started=!0,this._vigoPromise.then((e=>e.startPlayback())).catch((e=>console.warn(e)))}bitrateChange(e){this._vigoPromise.then((t=>t.bitrateChange(e))).catch((e=>console.warn(e)))}error(e){this._vigoPromise.then((t=>t.error(e))).catch((e=>console.warn(e)))}suspendCollecting(){this._started&&this._vigoPromise.then((e=>e.suspendCollecting())).catch((e=>console.warn(e)))}resumeCollecting(){this._started&&this._vigoPromise.then((e=>e.resumeCollecting())).catch((e=>console.warn(e)))}endPlayback(){this._started=!1,this._vigoPromise.then((e=>e.endPlayback())).catch((e=>console.warn(e)))}updateHost(e){this._vigoPromise.then((t=>t.updateHost(e))).catch((e=>console.warn(e)))}}n(2946);const xD=(e,t,n)=>{if(e)return 100;const r=n&&n[t],i=null==r?void 0:r.height;return i?TD.findLastIndex((e=>e<=i)):0},LD=e=>{if(!e)return"";const t=("function"==typeof e.levels?e.levels():e.levels)[e.currentLevel];!t||null!=t&&t.url||(t.url="");const{edge:n=""}=TI(t);return n};var OD;let ND,MD,DD;OD=class extends Oo{constructor(e,t,n,r,i){super(),this._dataPlugin=void ND(this),this._playback=void 0,this._provider=void 0,this._vigo=void 0,this._isEmbed=void 0,this._playerVersion=i,this._dataPlugin=e,this._playback=t,this._provider=n,this._vigo=new RD,this._isEmbed=r.value}_initVigo(e){var t;const n=Ft(Ft({},{player:"HTML5",appVersion:this._playerVersion.value}),{},{svcid:(r=this._isEmbed,ID.production[r?"embed":"web"][lv()?"ios":cv()?"android":"default"]),cid:Me().replaceAll("-",""),wid:Te().replaceAll("-",""),quality:xD(this._provider.autoQuality,this._provider.activeQualityLevel,this._provider.qualities),host:LD(null===(t=this._provider.provider)||void 0===t?void 0:t.instance),getBytes:()=>1,getBitrate:()=>((e,t)=>{const n=t&&e?t[e]:void 0,r=(null==n?void 0:n.bitrate)||0;return Math.floor(r/100)})(this._provider.activeQualityLevel,this._provider.qualities),contentId:e,deviceId:PD(window.navigator.userAgent)});var r;this._vigo.init(this._playback.player,n)}init(){const e=[];return e.push($i((()=>({videoId:this._dataPlugin.video_id})),(e=>{let{videoId:t}=e;return t&&this._initVigo(t)}))),e.push($i((()=>({isPlaying:this._playback.isPlaying})),(e=>{let{isPlaying:t}=e;t?this._vigo.resumeCollecting():this._vigo.suspendCollecting()}))),e.push($i((()=>({isAutoQuality:this._provider.autoQuality,activeQuality:this._provider.activeQualityLevel,qualities:this._provider.qualities})),(e=>{var t;let{isAutoQuality:n,activeQuality:r,qualities:i}=e;const a=xD(n,r,i);this._vigo.bitrateChange(a);const o=LD(null===(t=this._provider.provider)||void 0===t?void 0:t.instance);o&&this._vigo.updateHost(o)}))),e.push($i((()=>({wasStarted:this._playback.wasStarted})),(e=>{let{wasStarted:t}=e;t&&this._vigo.startPlayback()}))),e.push($i((()=>({ended:this._playback.ended})),(e=>{let{ended:t}=e;t&&this._vigo.endPlayback()}))),()=>e.forEach((e=>e()))}},({e:[ND],c:[DD,MD]}=en(OD,[To({implement:"IVigoPlugin",ctor_args:["IDataPlugin","IPlayback","IProviderPlugin","IsEmbed","PlayerVersion"]})],[[Lo(),2,"init"]],0,void 0,Oo)),MD();class FD{constructor(e,t,n,r){this.__start=void 0,this.__delay=void 0,this.__count=void 0,this.__send=void 0,this.__startTimer=null,this.__start=e,this.__delay=t,this.__count=n,this.__send=r}start(){this.__delay>0&&0===this.__count&&this.handleInfiniteEvent(),this.__count>0&&this.handleEvent()}handleInfiniteEvent(){this.__startTimer&&clearTimeout(this.__startTimer),this.__startTimer=setTimeout((()=>{this.__send(),this.__start=this.__delay,this.handleInfiniteEvent()}),1e3*this.__start)}handleEvent(){this.__startTimer&&clearTimeout(this.__startTimer),this.__count<=0||(this.__startTimer=setTimeout((()=>{this.__send(),this.handleEvent(),this.__start=this.__delay}),1e3*this.__start),this.__count-=1)}stop(){this.__startTimer&&(clearTimeout(this.__startTimer),this.__startTimer=null)}}class BD{constructor(e,t){this.__statistic=void 0,this.__statisticStore=void 0,this.__schedulers=[],this.isStarted=!1,this.isStarted=!1,this.__statistic=e,this.__statisticStore=t}start(e){this.isStarted=!0,this.__statisticStore.intervalEvents.forEach((t=>{try{const n=t.name===At.WATCHTIME&&0!==e?parseFloat((t.delay-e%t.delay).toFixed(3)):t.start,r=new FD(n,t.delay,t.count,(()=>{this.send(t)}));this.__schedulers.push(r),r.start()}catch(e){console.error("Error event parameter",e,t)}}))}send(e){try{var t,n;if(e.name===At.WATCHTIME)null===(t=this.__statistic)||void 0===t||t.counterHelper.get("mainIntervalWatchtime")({urlTemplate:e.url_template});if(e.name===At.HEARTBEAT)null===(n=this.__statistic)||void 0===n||n.counterHelper.get("mainIntervalHeartbeat")({urlTemplate:e.url_template})}catch(e){console.error(e)}}stop(){try{this.__schedulers.forEach((e=>e.stop())),this.__schedulers=[],this.isStarted=!1}catch(e){console.error(e)}}dispose(){this.stop()}}var HD;let VD,UD,jD;var WD;let zD,$D,GD;HD=class extends Oo{constructor(e,t,n,r){super(),this.__statisticStore=void VD(this),this.__playerStore=void 0,this.__intervalEventsCounter=void 0,this.__statistic=void 0,this.__wt=void 0,this.__reachedQuartiles={first:!1,second:!1,third:!1},this.__statisticStore=t,this.__wt=r,this.__playerStore=n,this.__statistic=e instanceof sl?e:null,this.__intervalEventsCounter=new BD(this.__statistic,this.__statisticStore)}initIntervalEvents(){return $i((()=>this.__playerStore.isPlaying),(e=>{e?this.__intervalEventsCounter.isStarted||this.__intervalEventsCounter.start(this.__playerStore.currentTime):this.__intervalEventsCounter.stop()}))}intiEvents(){return $i((()=>Math.floor(this.__playerStore.currentTime)),(e=>{this.__statisticStore.statEvents.filter((t=>{if(t.start===e)return!0;if(0!==t.delay&&void 0!==e){const n=(e-t.start)%t.delay;try{return Object.is(n,0)}catch(e){return!1}}return!1})).forEach((e=>{if(e.count){var t;const n="method_str"in e?e.method_str:e.url_template;null===(t=this.__statistic)||void 0===t||t.counterHelper.get("mainStateventEvent")({urlTemplate:n})}e.count-=1}))}))}initPlaybackQuartileEvents(){return $i((()=>this.__playerStore.progress),(e=>{var t,n,r;e>=25&&e<50&&!this.__reachedQuartiles.first&&(this.__reachedQuartiles.first=!0,null===(t=this.__statistic)||void 0===t||t.counterHelper.get("mainContentPlaybackFirstQuartile")());e>=50&&e<75&&!this.__reachedQuartiles.second&&(this.__reachedQuartiles.second=!0,null===(n=this.__statistic)||void 0===n||n.counterHelper.get("mainContentPlaybackSecondQuartile")());e>=75&&!this.__reachedQuartiles.third&&(this.__reachedQuartiles.third=!0,null===(r=this.__statistic)||void 0===r||r.counterHelper.get("mainContentPlaybackThirdQuartile")())}))}initThirtySecondsWatchTime(){return $i((()=>{var e;return null===(e=this.__wt)||void 0===e?void 0:e.thirtySecPassed}),(()=>{var e;null===(e=this.__statistic)||void 0===e||e.counterHelper.get("mainContentPlaybackThirtySeconds")()}))}clear(){return()=>{this.__intervalEventsCounter.dispose()}}},({e:[VD],c:[jD,UD]}=en(HD,[To({implement:"IStatisticEventsPlugin",ctor_args:["IStatisticState","IStatisticStore","IPlayback",{implement:"IStatisticWatchTimePlugin",optional:!0}]})],[[Lo(),2,"initIntervalEvents"],[Lo(),2,"intiEvents"],[Lo(),2,"initPlaybackQuartileEvents"],[Lo(),2,"initThirtySecondsWatchTime"],[Lo(),2,"clear"]],0,void 0,Oo)),UD();WD=class extends jD{constructor(e,t,n,r,i,a,o){super(e,t,n,o),this.__data=void zD(this),this.__config=void 0,this.__isEmbed=void 0,this.isStatLoadSent=!1,this.__data=r,this.__config=i,this.__isEmbed=a.value}initChangeVideo(){return $i((()=>this.__config.get("videoId")),(()=>{this.isStatLoadSent=!1}))}initLoadEvent(){return $i((()=>({data:this.__data.data,loadEvents:this.__statisticStore.loadEvents})),(e=>{let{data:t,loadEvents:n}=e;const r=(null==n?void 0:n.length)>0;if(t&&r&&!this.isStatLoadSent){var i,a;if(null===(i=this.__statistic)||void 0===i||i.counterHelper.get("mainStatusLoad")(),this.__isEmbed)null===(a=this.__statistic)||void 0===a||a.counterHelper.get("mainStatusEmbedLoad")();this.isStatLoadSent=!0}}))}},({e:[zD],c:[GD,$D]}=en(WD,[To({implement:"IStatisticEventsPlugin",ctor_args:["IStatisticState","IStatisticStore","IPlayback","IDataPlugin","IPlayerConfigPlugin","IsEmbed",{implement:"IStatisticWatchTimePlugin",optional:!0}]})],[[Lo(),2,"initChangeVideo"],[Lo(),2,"initLoadEvent"]],0,void 0,jD)),$D();const KD="activities-module__button___KR8ys",qD="activities-module__buttonSkip___ZnoMg",YD="activities-module__buttonSmall___uhbVt",QD="activities-module__buttonsContainer___CmEo6",ZD="activities-module__buttonsContainerWithControls___bUg7r",XD="activities-module__buttonsContainerColumnLayout___QxRX_",JD=lc((()=>{const{currentActivities:e,controls:t,playerWidth:n,isFullscreen:r,isActivitiesForcedHidden:i,handleButtonClick:a}=Rc("IActivitiesPlugin"),o=n<=375;if(null!=e&&e.length&&!i)return st.createElement("div",{className:cl()(QD,{[ZD]:t.isShowControls,[XD]:o&&r})},null==e?void 0:e.map((e=>{var t;const{params:n}=e;return n?st.createElement("button",{id:null==e?void 0:e.activity_id,className:cl()(KD,{[qD]:"HIDE"!==(null===(t=n.on_click)||void 0===t?void 0:t.strategy),[YD]:o&&!r}),onClick:()=>a(null==n?void 0:n.on_click,null==e?void 0:e.annotation_type)},st.createElement("span",null,null==n?void 0:n.text)):st.createElement(st.Fragment,null)})))})),eF=(e,t)=>!(!t||!e)&&(t[0]<=e&&e<=t[1]);var tF;let nF,rF,iF;var aF;let oF,sF;tF=class extends Oo{static get Activities(){return JD}constructor(e,t,n,r,i,a,o){super(),this._activities=(nF(this),Mr.box()),this._currentActivities=Mr.box([]),this._currentTimeStamp=Mr.box(null),this._isSkipButtonVisible=Mr.box(!1),this._isActivitiesForcedHidden=Mr.box(!1),this._counterHelper=void 0,this._timeStampsArr=[],this._isSkipForbidden=!1,this._userPaidSubscription=null,this._playback=e,this._controls=t,this._playerSize=n,this._fullscreen=r,this._config=i,this._advert=o,this._counterHelper=a&&a instanceof Mv?a.counterHelper:void 0,Ca(this,{activities:Hr,currentActivities:Hr,currentTimeStamp:Hr,isSkipButtonVisible:Hr,playerWidth:Hr,isFullscreen:Hr})}init(){return $i((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(e=>{e&&Vi(this.fetchActivities.bind(this))}),{fireImmediately:!0})}initSubsciptions(){return $i((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("userPaidSubscription")}),(e=>{this._userPaidSubscription=null!=e?e:null,this._isSkipForbidden=!this._userPaidSubscription}))}initControlsVisible(){return $i((()=>{var e;return{isShowControls:this.controls.isShowControls,isShowAdvertTimer:Boolean(null===(e=this._advert)||void 0===e?void 0:e.isShowAdvertTimer)}}),(e=>{let{isShowControls:t,isShowAdvertTimer:n}=e;this.isActivitiesForcedHidden=jc.isMobile&&t||n}))}initCurrentTimeReaction(){return $i((()=>1e3*this._playback.currentTime),(e=>{var t,n;null!==(t=this.activities)&&void 0!==t&&t.length?eF(e,this.currentTimeStamp)||(this.currentTimeStamp=null!==(n=this._timeStampsArr.find((t=>eF(e,t))))&&void 0!==n?n:null):this.currentTimeStamp=null}))}initTimestampsReaction(){return $i((()=>this.currentTimeStamp),(e=>{var t;if(this.isSkipButtonVisible=!1,null===(t=this.activities)||void 0===t||!t.length||null==e||!e.length)return void(this.currentActivities=[]);const n=1e3*this._playback.currentTime;this.currentActivities=this.activities.filter((e=>{var t,r,i;const a=e.params.show,o=null===(t=e.params)||void 0===t||null===(t=t.on_click)||void 0===t?void 0:t.strategy,s=e.annotation_type;return!!eF(n,[null!==(r=a.start_position_ms)&&void 0!==r?r:0,null!==(i=a.end_position_ms)&&void 0!==i?i:0])&&(o&&s&&(this.sendStat(o,s,"show"),this.isSkipButtonVisible=!!this.isSkipButton(o,s)||this.isSkipButtonVisible),!0)}))}))}get activities(){return this._activities.get()}set activities(e){this._activities.set(e)}get currentActivities(){return this._currentActivities.get()}set currentActivities(e){this._currentActivities.set(e)}get currentTimeStamp(){return this._currentTimeStamp.get()}set currentTimeStamp(e){this._currentTimeStamp.set(e)}get controls(){return this._controls}set isSkipButtonVisible(e){this._isSkipButtonVisible.set(e)}get isSkipButtonVisible(){return this._isSkipButtonVisible.get()}set isActivitiesForcedHidden(e){this._isActivitiesForcedHidden.set(e)}get isActivitiesForcedHidden(){return this._isActivitiesForcedHidden.get()}get playerWidth(){var e,t;return null!==(e=null===(t=this._playerSize.size)||void 0===t?void 0:t.width)&&void 0!==e?e:0}get isFullscreen(){return this._fullscreen.isFullscreen}async fetchActivities(){var e;const t=null===(e=this._config)||void 0===e?void 0:e.get("videoId");if(t){this._timeStampsArr=[];try{var n,r;const e=await(e=>{const t=new URL(mb()),n=t.hostname.split(".").at(-1);return t.host="dev"===n?"disclaimers.rutube.dev":"rutube.ru",fetch(`${t.toString()}api/v1/activity/${e}`).then((e=>e.json())).catch((e=>(console.warn(e),null)))})(t);this.activities=null==e?void 0:e.activities,this._timeStampsArr=null!==(n=null===(r=this.activities)||void 0===r?void 0:r.map((e=>{var t,n,r;const i=null===(t=e.params)||void 0===t?void 0:t.show;return[null!==(n=i.start_position_ms)&&void 0!==n?n:0,null!==(r=i.end_position_ms)&&void 0!==r?r:0]})))&&void 0!==n?n:[]}catch(e){console.error("Player fail to fetch Activities",e)}}}skipButtonClick(){var e;const t=null===(e=this.currentActivities)||void 0===e?void 0:e.find((e=>{var t;const n=null===(t=e.params)||void 0===t||null===(t=t.on_click)||void 0===t?void 0:t.strategy,r=e.annotation_type;return this.isSkipButton(n,r)}));var n;t&&this.handleButtonClick(null==t||null===(n=t.params)||void 0===n?void 0:n.on_click,t.annotation_type)}handleButtonClick(e,t){if(!e)return;const n=e.strategy;switch(n&&t&&this.sendStat(n,t,"click"),n){case"HIDE":this.currentActivities=[];break;case"SEEK_EXACTLY":{const t=e.target_position_ms;t&&t>=0&&this.seek(t/1e3);break}case"SEEK_TO_START":this.seek(0);break;case"SEEK_TO_END":this.seek(this._playback.duration);break;case"OPEN_EXTERNAL_URL":case"OPEN_INTERNAL_URL":{const t=e.url;t&&window.location.assign(t);break}default:return}}sendStat(e,t,n){var r,i;let a=null;"SKIP_INTRO"===t&&"HIDE"===e?a="click"===n?"mainActivitiesClickIntroWatchButton":"show"===n?"mainActivitiesShowIntroWatchButton":null:"SKIP_INTRO"===t&&"HIDE"!==e?a="click"===n?"mainActivitiesClickIntroSkipButton":"show"===n?"mainActivitiesShowIntroSkipButton":null:"SKIP_TITLES"===t&&"HIDE"===e?a="click"===n?"mainActivitiesClickCreditsWatchButton":"show"===n?"mainActivitiesShowCreditsWatchButton":null:"SKIP_TITLES"===t&&"HIDE"!==e&&(a="mainActivitiesClickCreditsSkipButton",a="click"===n?"mainActivitiesClickCreditsSkipButton":"show"===n?"mainActivitiesShowCreditsSkipButton":null),a&&(null===(r=this._counterHelper)||void 0===r||null===(i=r.get(a))||void 0===i||i())}seek(e){this._isSkipForbidden?Fp.emit(Nh.SUBSCRIPTION_REQUEST,{productCode:Mh.PRY}):(this._playback.seek(e,"skip"),this.checkSkipForbidden())}checkSkipForbidden(){this._isSkipForbidden=!1}isSkipButton(e,t){return!(!e||!t)&&(["SKIP_TITLES","SKIP_INTRO"].includes(t)&&"HIDE"!==e)}},({e:[nF],c:[iF,rF]}=en(tF,[To({implement:"IActivitiesPlugin",ctor_args:["IPlayback","IControlsPlugin","IPlayerSizePlugin","IFullscreenPlugin",{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IAdvertPlugin",optional:!0}]})],[[Lo(),2,"init"],[Lo(),2,"initSubsciptions"],[Lo(),2,"initControlsVisible"],[Lo(),2,"initCurrentTimeReaction"],[Lo(),2,"initTimestampsReaction"],[Ro,2,"skipButtonClick"],[Ro,2,"handleButtonClick"],[Ro,2,"sendStat"]],0,void 0,Oo)),rF();let lF;aF=class extends Oo{constructor(e,t,n,r,i,a,o,s,l,u){super(),this._isShowOnboarding=(oF(this),Mr.box(!1)),this._activeOnboarding=Mr.box(null),this._showOnboardingTimeout=Mr.box(null),this._seasonsProgressDisposer=null,this._isEmbed=void 0,this._isTouchDevice=Mr.box(!1),this.props=e,this._seasonsView=t,this._seasons=n,this._chapters=r,this._controls=i,this._playback=a,this._pipView=o,this._notifications=s,this._config=l,this._advert=u,this._isEmbed=this.props.value,this.isTouchDevice=jc.isMobile,Ca(this,{activeOnboarding:Hr,isShowOnboarding:Hr})}initVideoId(){return $i((()=>this._config.get("videoId")),(()=>{this.activeOnboarding=null,this.isShowOnboarding=!1,this.clearHideOnboardingTimer(),this.clearSeasonsProgressOnboarding()}))}initActiveOnboarding(){return $i((()=>({isChaptersAllowed:this._chapters.allowOnboarding,isSeasonsAllowed:this._seasonsView.allowOnboarding,isSeasonsLoading:this._seasons.loading,isPiPAllowed:this._pipView.allowOnboarding,allowOnboarding:this.allowOnboarding})),(e=>{let{isChaptersAllowed:t,isSeasonsAllowed:n,isSeasonsLoading:r,isPiPAllowed:i,allowOnboarding:a}=e;!r&&a&&null===this.activeOnboarding&&(n?this.activeOnboarding="seasons":t?this.activeOnboarding="chapters":i&&(this.activeOnboarding="pip"))}))}initOnboarding(){return $i((()=>({activeOnboarding:this.activeOnboarding})),(e=>{let{activeOnboarding:t}=e;if(!t)return;"seasons"===t&&this.startSeasonsProgressOnboarding();const n=`${this.activeOnboarding}-onboarding`;this.showOnboarding(n)}))}disposeSeasonsProgressOnboarding(){return()=>{this.clearSeasonsProgressOnboarding()}}startSeasonsProgressOnboarding(){this._seasonsProgressDisposer=$i((()=>({activeOnboarding:this.activeOnboarding,showOnboardingBeforeEndscreen:this._seasonsView.showOnboardingBeforeEndscreen})),(e=>{let{activeOnboarding:t,showOnboardingBeforeEndscreen:n}=e;if(!t||!n)return;const r=`${this.activeOnboarding}-onboarding-end-screen`;this.showOnboarding(r),this.clearSeasonsProgressOnboarding()}))}clearSeasonsProgressOnboarding(){this._seasonsProgressDisposer&&(this._seasonsProgressDisposer(),this._seasonsProgressDisposer=null)}showOnboarding(e){const t=Xy(e);null!=t||(this.isShowOnboarding=!0,Jy(e,"1"),this._controls.preventHideControls=!0,this.setHideOnboardingTimer())}set activeOnboarding(e){this._activeOnboarding.set(e)}get activeOnboarding(){return this._activeOnboarding.get()}set isShowOnboarding(e){this._isShowOnboarding.set(e)}get isShowOnboarding(){return this._isShowOnboarding.get()}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}set isTouchDevice(e){this._isTouchDevice.set(e)}get isTouchDevice(){return this._isTouchDevice.get()}get allowOnboarding(){const e=!this._isEmbed&&this._controls.isShowControls&&this._playback.isPlaying&&!this.isShowAdvert;return this.isTouchDevice?e&&"Enabled"!==this._notifications.autoPlayWithMute:e}setHideOnboardingTimer(){this.clearHideOnboardingTimer();const e=setTimeout((()=>{this._controls.preventHideControls=!1,this._controls.setHideControlsTimer(),this.isShowOnboarding=!1}),6500);this._showOnboardingTimeout.set(e)}clearHideOnboardingTimer(){const e=this._showOnboardingTimeout.get();e&&(clearTimeout(e),this._showOnboardingTimeout.set(null))}},({e:[oF],c:[lF,sF]}=en(aF,[To({implement:"IOnboardingPlugin",ctor_args:["IsEmbed","ISeasonsViewPlugin","ISeasonsPlugin","IChaptersPlugin","IControlsPlugin","IPlayback","IPictureInPictureViewPlugin","IDisclaimersPlugin","IPlayerConfigPlugin",{implement:"IAdvertPlugin",optional:!0}]})],[[Lo(),2,"initVideoId"],[Lo(),2,"initActiveOnboarding"],[Lo(),2,"initOnboarding"],[Lo(),2,"disposeSeasonsProgressOnboarding"],[[Bi,Bi.bound],18,"showOnboarding"],[[Bi,Bi.bound],18,"setHideOnboardingTimer"],[[Bi,Bi.bound],18,"clearHideOnboardingTimer"]],0,void 0,Oo)),sF();const uF="stats-for-nerds-module__root___lh_AP",cF="stats-for-nerds-module__closeButton___WXchp",dF="stats-for-nerds-module__name___WtPU5",hF="stats-for-nerds-module__value___BZUvr",pF="stats-for-nerds-module__copyButton___P26xz",vF=lc((()=>{const[e,t]=Gu(!1,2e3),{hide:n,copyStatsInBuffer:r,visible:i}=NI(),a=MI();return i?st.createElement("div",{className:uF},st.createElement("div",{className:cF,onClick:()=>{n()}},"[x]"),a.map((e=>{let{label:t,value:n}=e;return st.createElement("div",{key:t},st.createElement("div",{className:dF},t,":"),st.createElement("span",{className:hF},n))})),st.createElement("div",{className:pF,onClick:()=>{r().then((()=>t(!0))).catch((e=>console.info(e)))}},"[",e?"Copied":"Copy","]")):null})),mF=st.memo((()=>st.createElement(vF,null)));var fF,_F;let gF,yF,bF,EF;new(_F=class extends Oo{constructor(e,t,n,r,i,a){super(),this.__dataPlugin=void gF(this),this.__videoLayout=void 0,this.__playback=void 0,this.__provider=void 0,this.__extraActions=void 0,this.visible=!1,this._playerVersion=a,this.__dataPlugin=e,this.__videoLayout=t,this.__playback=n,this.__provider=r,this.__extraActions=i,Ca(this,{visible:Mr}),this.copyStatsInBuffer=this.copyStatsInBuffer.bind(this),this.hide=this.hide.bind(this)}hide(){this.visible=!1}init(){var e,t;const n=()=>this.visible=!this.visible,r=()=>{this.copyStatsInBuffer()};return null===(e=this.__extraActions)||void 0===e||e.on(Oc.copyTechInfo,r),null===(t=this.__extraActions)||void 0===t||t.on(Oc.toggleTechInfo,n),()=>{var e,t;null===(e=this.__extraActions)||void 0===e||e.off(Oc.copyTechInfo,r),null===(t=this.__extraActions)||void 0===t||t.off(Oc.toggleTechInfo,n)}}copyStatsInBuffer(){const e=OI(this,{versionName:this._playerVersion.value});return Ad(JSON.stringify(e))}get videoId(){return this.__dataPlugin.video_id||""}get playerMode(){return this.__videoLayout.playerMode}get playerWrapperElement(){return this.__videoLayout.wrapperRef}get bufferedData(){return this.__playback.getBuffered()}get duration(){return this.__playback.duration}get currentTime(){return this.__playback.currentTime}get progress(){return this.__playback.progress}get bandwidthEstimate(){var e;const t=null===(e=this.providerInstance)||void 0===e?void 0:e.bandwidthEstimate;return"function"==typeof t?t():t}get providerInstance(){var e;return null===(e=this.__provider.provider)||void 0===e?void 0:e.instance}get currentLevel(){var e,t;const n=null===(e=this.providerInstance)||void 0===e?void 0:e.levels,r=null===(t=this.providerInstance)||void 0===t?void 0:t.currentLevel;if("number"!=typeof r||!n)return{};const i="function"==typeof n?n()[r]:n[r];return!i||null!=i&&i.url||(i.url=""),i}get isLive(){return this.__dataPlugin.isLive}get isDVR(){return this.__dataPlugin.isDVR}get isAutoQuality(){return this.__provider.autoQuality}get activeQuality(){return this.__provider.activeQualityValue}get volume(){return this.__playback.volume}get muted(){return this.__playback.muted}get versionName(){return this._playerVersion.value}},({e:[gF],c:[EF,yF]}=en(_F,[To({implement:"IStatsForNerdsPlugin",ctor_args:["IDataPlugin","IVideoLayoutPlugin","IPlayback","IProviderPlugin",{implement:"IExtraActionsPlugin",optional:!0},"PlayerVersion"]})],[[Lo(),2,"init"]],0,void 0,Oo)),bF=_F,(fF=class extends jo{constructor(){super(EF),this.StatsForNerds=mF,yF()}})[bF]=void 0,fF);const wF="loader-template-module__wrapper___Rm6Ns",SF="loader-template-module__wrapperLoaded___ALoXk",CF="loader-template-module__wrapperNoControls___Ve8pL",kF="loader-template-module__posterWrapper___v1GIp",AF=lc((0,st.forwardRef)(((e,t)=>{let{children:n,mount:r}=e;const i=zm(),{isPlayerReady:a,waiting:o,isPlaying:s,playWithHandlePermissions:l}=i.playback,u=Ay(),{showPoster:c,isTouchDevice:d,data:h,isFullScreen:p}=u,v=ey(),{handlers:m}=fw({});if(c)return st.createElement("div",{className:cl()([wF,kF]),style:{backgroundImage:`url(${h.poster})`}},st.createElement("div",{style:{width:"48px",height:"48px"},onClick:l},st.createElement(Fd,null)));if(!a)return st.createElement("div",{className:wF,style:{display:"flex",alignItems:"center",justifyContent:"center"}},st.createElement(op,null));return st.createElement("div",{className:cl()(wF,SF,{[CF]:!i.isShowControls}),style:{display:r?"flex":"none",justifyContent:"center"},ref:e=>{e&&(u.wrapperRef=e,v.wrapperRef=e)},tabIndex:0,"aria-label":"'Видеоплеер "+(p?" в полноэкранном режиме":""),onMouseMove:()=>{d||(i.showControls(),s&&""===i.activePanel&&i.setHideControlsTimer())},onMouseLeave:()=>{s&&i.hideControls()},onMouseDown:m.onMouseDown,onTouchStart:m.onTouchStart,onTouchEnd:m.onTouchEnd,onTouchCancel:m.onTouchEnd},o&&st.createElement(op,null),n)}))),PF=(lc((e=>{let{controlsComponent:t,playbackComponent:n,endScreenComponent:r,settingsComponent:i,captionsComponent:a,pauseScreenComponent:o,seasonsFullScreenComponent:s,stubComponent:l,infoLayerComponent:u,captionsButtonComponent:c,statsForNerdsComponent:d,notificationsComponent:h,counterHelper:p,children:v}=e;const[m,f]=(0,st.useState)(!1),{isTouchDevice:_,isControlsForcedHidden:g}=Ay(),{isPlayOptionsLoaded:y}=Ym(),b=(0,st.useCallback)((()=>{null==p||p.get("mainStatusUnload")()}),[p]);return(0,st.useEffect)((()=>(y&&(null==p||p.get("mainStatusLoad")()),window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)})),[p,b,y]),(0,st.useEffect)((()=>{f(!0)}),[]),st.createElement(l,null,st.createElement(AF,{_allowVerticalTouchScroll:!1,mount:m},st.createElement(Yy,null,st.createElement(Ew,{settingsButton:i})),st.createElement(xb,null,st.createElement(n,null)),a&&st.createElement(a,null),o&&!_&&st.createElement(o,null),t&&!g&&st.createElement(t,{components:{settingsComponent:i,captionsButtonComponent:c}}),s&&st.createElement(s,null),r&&st.createElement(r,null),st.createElement(h,null),st.createElement(u,null),st.createElement(d,null),v))})),["startScreenComponent","highlightRutube"]),IF=e=>{let{startScreenComponent:t,highlightRutube:n}=e,r=bp(e,PF);return st.createElement(jk,null,st.createElement(Ow,r,st.createElement(t,null),st.createElement(n,null)))},TF="channel-subscription-module__wrapper___sjO_B",RF="channel-subscription-module__hidden___HrQEk",xF="channel-subscription-module__bottom___uXrYF",LF="channel-subscription-module__inactive___Wz0Ld",OF="channel-subscription-module__logo___UcIAr",NF="channel-subscription-module__logoImg___WWuDo",MF="channel-subscription-module__popup___tzUTs",DF="channel-subscription-module__popupShow___iac7l",FF="channel-subscription-module__button___nVxp8",BF=lc((()=>{const e=(0,st.useRef)(null),t=(0,st.useRef)(null),{color:n}=If(),{generateTrackingLink:r}=zy(),i=TR(),{subscribeData:a,isShowControls:o,isSubscriptionHidden:s,inactive:l,isShowSubscriptionPopup:u,counterHelper:c,isUserSubscribed:d,isShowSubscribe:h,isMobile:p,isUserOwnChannel:v}=i,m=(0,st.useMemo)((()=>{const{type:e,id:t}=a;return"tv"===e?`${Dh}/metainfo/tv/${String(t)}/`:r({campaign:"channel",type:"channel"})}),[r,a]),{startAutoHideTimer:f,clearAutoHideTimer:_}=(()=>{const e=(0,st.useRef)(null),t=TR(),n=(0,st.useCallback)((()=>{e.current=setTimeout((()=>{t.isShowSubscriptionPopup=!1}),2e3)}),[t]),r=(0,st.useCallback)((()=>{e.current&&(clearTimeout(e.current),e.current=null)}),[]);return(0,st.useEffect)((()=>(t.isShowSubscriptionPopup=!0,n(),()=>{r()})),[n,r,t]),{startAutoHideTimer:n,clearAutoHideTimer:r}})();if(!h||v)return null;const g=()=>{e.current=setTimeout((()=>{i.isShowSubscriptionPopup=!0}),200)},y=()=>{e.current&&(clearTimeout(e.current),e.current=null),i.isShowSubscriptionPopup=!1},b=()=>{null==c||c.get("mainEmbedChannelSubscriptionClickAuthor")};return st.createElement("div",ll({className:cl()(TF,{[xF]:!o,[RF]:s,[LF]:l}),onMouseEnter:p?void 0:g,onMouseLeave:p?void 0:y,onTouchEnd:p?e=>{e.stopPropagation(),e.target!==t.current&&(e.preventDefault(),_(),i.isShowSubscriptionPopup=!u,u||(f(),b()))}:void 0},jf,zf),st.createElement("a",{className:cl()(OF),href:m,onClick:b,target:"_blank",rel:"noreferrer","aria-label":"Логотип канала"},st.createElement("img",{alt:"Логотип канала",className:NF,src:a.avatar||mh})),st.createElement("div",{className:cl()(MF,{[DF]:u}),"aria-live":"polite"},st.createElement("button",{type:"button",className:cl()(FF),style:{background:n},onClick:()=>{null==c||c.get("mainEmbedChannelSubscriptionClickSubscribe"),window.open(r({campaign:"subscribe",type:"channel"}))},ref:t,"aria-label":d?"Отменить подписку на канал":"Подписаться на канал",onFocus:p?void 0:g,onBlur:p?void 0:y},d?"Подписаны":"Подписаться")))}));var HF;let VF,UF;var jF;let WF,zF;HF=class extends lx{static get ChannelSubscription(){return BF}get isShowSubscribe(){var e,t;const n=null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_subscription,r=null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.appearance)||void 0===t?void 0:t.show_author;return Boolean(r&&n&&this._isEmbed&&!this._controls.isControlsForcedHidden)}get isSubscriptionHidden(){var e;return this._isEmbed&&jc.isMobile&&this.isShowControls||Boolean(null===(e=this._advert)||void 0===e?void 0:e.isShowAdvertTimer)||this._playback.ended}},[UF,VF]=en(HF,[To({implement:"IChannelSubscriptionPlugin",ctor_args:["IDataPlugin","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IPauseScreenPlugin",optional:!0},"IFullscreenPlugin","IPlayerConfigPlugin","IPlayerSizePlugin","IPlayback",{implement:"IActivitiesPlugin",optional:!0},"IStatisticState","IsEmbed"]})],[],0,void 0,lx).c,VF();var $F;let GF,KF;jF=class extends pg{constructor(e,t,n,r,i,a,o,s,l,u,c,d){super(e,t,n,r,i,void 0,a,o,s,l,c),this.playback=e,this.data=t,this._isEmbedResolvable=o,this._startScreen=u,this._embed=d}getIsShowSettings(){return super.getIsShowSettings()&&!this._startScreen.isShowStartScreen}get isControlsForcedHidden(){var e;return Boolean(super.isControlsForcedHidden||(null===(e=this._embed)||void 0===e?void 0:e.isNakedMode))}},[zF,WF]=en(jF,[To({implement:"IControlsPlugin",ctor_args:["IPlayback","IDataPlugin","IFullscreenPlugin","IPlayerSizePlugin","IAppearancePlugin",{implement:"IStatisticState",optional:!0},"IsEmbed",{implement:"IAdvertPlugin",optional:!0},"IQualitiesPlugin","IStartScreenPlugin",{implement:"IPosterPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0}]})],[],0,void 0,pg).c,WF();$F=class extends Fw{constructor(e,t,n,r,i,a,o,s,l,u,c,d,h,p,v){super(e,t,void 0,n,r,i,a,o,u,c,d,h,void 0,p,v),this._startScreen=s,this._highlightRutube=l}get isShowDisclaimers(){return super.isShowDisclaimers&&!this._startScreen.isShowStartScreen}get isShowStartScreen(){return this._startScreen.isShowStartScreen}get hideAvatarOnFullScreenForSubscribers(){return!1}get showAvatar(){return super.showAvatar||this.isShowStartScreen}},[KF,GF]=en($F,[To({implement:"IVideoLayoutPlugin",ctor_args:["IDataPlugin","IPlayback","IPlayerSizePlugin","IAppearancePlugin","IFullscreenPlugin",{implement:"IChannelSubscriptionPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},"IStartScreenPlugin","IHighlightRutubePlugin",{implement:"IPreviewPlugin",optional:!0},"IStatisticState","IsEmbed","ISaveModePlugin",{implement:"IControlsPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0}]})],[],0,void 0,Fw).c,GF();const qF=Ts.builder().use(Bs).group("embedChannelSubscription").group("click").event("subscribe").message((()=>({methodName:At.EMBED_SUBSCRIBE_CLICK}))).commit().event("author").message((()=>({methodName:At.EMBED_AUTHOR_CLICK}))).commit().endGroup().event("subscribe").params().message((e=>{let{params:{channelId:t,subscribe:n}}=e;return{methodName:Pt.EMBED_SUBSCRIBE,resolvers:[{names:["{{channel_id}}"],value:t},{names:["{{subscribe}}"],value:n}]}})).commit().endGroup().build(),YF=Ts.builder().use(Bs).group("watchOnRutube").event("clickOld").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:At.WATCH_ON_RUTUBE_CLICK,resolvers:[{names:["{{clicked_url}}"],value:t}]}})).commit().event("showOld").message((()=>({methodName:At.WATCH_ON_RUTUBE_VIEW}))).commit().event("show").message((()=>({methodName:Pt.WATCH_ON_RUTUBE,action:"show"}))).commit().event("click").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:Pt.WATCH_ON_RUTUBE,resolvers:[{names:["{{clicked_url}}"],value:t}],action:"click"}})).commit().endGroup().build();var QF;let ZF,XF;QF=class extends Mv{constructor(e,t,n,r){super(e,t,n,r),this._counterHelper=void 0,this._counterHelper=this.buildCounter()}getCounter(){return super.getCounter().extends(YF).extends(qF)}buildCounter(){return this.getCounter().build()}get counterHelper(){return this._counterHelper}},[XF,ZF]=en(QF,[To({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","Resolve","IPlaceholdersState"]})],[],0,void 0,Mv).c,ZF();const JF="highlight-rutube-module__button___N448K",eB="highlight-rutube-module__isTouch___niKtS",tB="highlight-rutube-module__controls___ZnKGu",nB="highlight-rutube-module__hidden___dtdlD",rB="highlight-rutube-module__slideVertical___LSyU2",iB="highlight-rutube-module__slideHorizontal___ZX5k1",aB=e=>{let{className:t}=e;return st.createElement("svg",{className:t,width:"92",height:"16",viewBox:"0 0 92 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.77552V13.9309H1.35119H2.70238V12.1195V10.3081L6.05813 10.3159L9.78766 10.3236L9.93544 10.4115C10.1133 10.5173 10.2075 10.6779 10.2523 10.9516C10.2704 11.0615 10.2835 11.729 10.2837 12.5362L10.2839 13.9309H11.6351H12.9863L12.9859 12.1273C12.9855 10.1946 12.9858 10.1979 12.8276 9.8656C12.727 9.65419 12.4522 9.3751 12.236 9.26483C12.1393 9.21547 11.9457 9.15162 11.8059 9.12291L11.5516 9.07071L11.7087 9.01933C12.0927 8.89376 12.5209 8.50782 12.7501 8.08075C13.0849 7.4567 13.1634 6.44662 12.9408 5.62471C12.6649 4.60595 11.9543 3.97685 10.7943 3.7244C10.3793 3.63408 9.58103 3.62067 4.59827 3.62041L0 3.62012V8.77552ZM14.6953 7.33697C14.7081 11.4319 14.6988 11.2278 14.8995 11.8043C15.27 12.868 16.0826 13.5497 17.2827 13.8033C17.8582 13.9249 17.6105 13.9291 20.75 13.9291C23.5152 13.9291 23.6409 13.925 24.2172 13.8034C24.865 13.6668 25.45 13.3679 25.863 12.9626C26.3736 12.4616 26.584 12.0369 26.7439 11.1853C26.7836 10.9735 26.7924 10.3996 26.8038 7.27856L26.8171 3.62012H25.4488H24.0806V6.91885C24.0806 10.5434 24.0847 10.4553 23.8968 10.8259C23.7576 11.1005 23.4873 11.305 23.0816 11.4425C22.9581 11.4844 22.6557 11.4909 20.8516 11.4992C18.1405 11.5095 18.5041 11.5089 18.1329 11.333C17.9176 11.231 17.6994 11.0244 17.5888 10.8178C17.4181 10.4985 17.4205 10.5537 17.4199 6.94265L17.4194 3.62012H16.0515H14.6836L14.6953 7.33697ZM28.1891 4.81769V6.01526H30.937H33.6849V9.97309V13.9309H35.112H36.5391V9.97309V6.01526H39.2719H42.0046V4.81769V3.62012H35.0969H28.1891V4.81769ZM43.39 7.27856C43.4013 10.3897 43.4102 10.9741 43.4496 11.1853C43.6036 12.0108 43.8211 12.4588 44.297 12.9309C44.5591 13.1909 44.8071 13.3613 45.1565 13.5217C45.6173 13.7332 45.8731 13.8028 46.503 13.8878C46.97 13.9509 51.9029 13.9515 52.3967 13.8886C53.3072 13.7725 53.9683 13.5057 54.4949 13.0417C54.8557 12.7237 55.1123 12.3266 55.2942 11.8043C55.495 11.2278 55.4856 11.4319 55.4985 7.33697L55.5101 3.62012H54.1429H52.7758L52.7665 7.03028C52.7578 10.2224 52.7537 10.4503 52.7026 10.5943C52.5785 10.9441 52.3383 11.2126 52.0252 11.3515C51.6731 11.5077 51.6349 11.5095 49.3414 11.5004L47.2518 11.492L47.0508 11.4166C46.5504 11.2291 46.3299 11.0034 46.183 10.5281C46.1326 10.3651 46.1283 10.1177 46.1204 6.98647L46.1119 3.62012H44.7443H43.3766L43.39 7.27856ZM57.6724 8.77418V13.9309H62.9851C67.696 13.9309 68.3348 13.9256 68.6245 13.8842C69.619 13.7421 70.2667 13.3889 70.7247 12.7388C71.1643 12.1149 71.3253 11.0501 71.1031 10.236C70.9842 9.80044 70.6819 9.34782 70.3544 9.11508C70.1794 8.99068 69.8982 8.84767 69.7188 8.79176L69.6047 8.75619L69.8835 8.62565C70.484 8.34445 70.8898 7.77464 71.0352 7.00837C71.089 6.72478 71.0804 6.04912 71.019 5.73851C70.8439 4.85248 70.2457 4.15397 69.4231 3.87491C69.1271 3.77446 69.007 3.74356 68.6944 3.68739C68.4665 3.64647 67.8066 3.63966 63.0543 3.62923L57.6724 3.61743V8.77418ZM72.9548 8.77552V13.9309H79.1325H86.0522L86.0541 12.7334L86.056 11.5358H80.4704H75.6268V10.7471V9.95849H80.4698H85.2616V8.77552V7.59255H80.4698H75.6268V6.80391V6.01526H80.4698H86.0547V4.81769V3.62012H79.1338H72.9548V8.77552ZM67.7013 5.95749C68.0471 6.0056 68.2114 6.11548 68.3331 6.38026C68.4321 6.59556 68.4435 6.86855 68.3641 7.1203C68.2927 7.34629 68.1934 7.4645 67.9849 7.57179L67.8594 7.63637L64.1019 7.64423L60.3444 7.65208V6.78986V5.92764L63.9197 5.92822C66.0968 5.92857 67.5757 5.94002 67.7013 5.95749ZM9.86466 6.1255C10.209 6.28857 10.3369 6.56311 10.3066 7.07403C10.2818 7.49418 10.0863 7.77777 9.74418 7.89028C9.65564 7.91937 8.83794 7.92928 5.97982 7.93585L2.70238 7.9442V6.97928V6.01436L5.99564 6.0221L9.66274 6.02987L9.86466 6.1255ZM68.0871 9.96906C68.2372 10.0459 68.3882 10.19 68.4383 10.3043C68.5201 10.491 68.5498 10.7521 68.512 10.9525C68.4513 11.2746 68.3216 11.4458 68.0568 11.5533C67.9254 11.6067 67.7753 11.6091 64.1322 11.6167L60.3444 11.6245V10.7617V9.89876L64.1626 9.90673C67.8194 9.91433 67.9854 9.91698 68.0871 9.96906Z",fill:"#F6F6F6"}),st.createElement("ellipse",{cx:"89.3677",cy:"1.80872",rx:"1.86901",ry:"1.80872",fill:"#FF2D2D"}))},oB="watch-on-rutube-link-module__button___rR_M3",sB="watch-on-rutube-link-module__label___k7Mhp",lB="watch-on-rutube-link-module__logo___btg6U",uB=["onShow","className"],cB=lc((e=>{let{onShow:t,className:n}=e,r=bp(e,uB);return(0,st.useEffect)((()=>{t()}),[]),st.createElement("a",ll({tabIndex:0,title:"Смотреть на RUTUBE","aria-label":"Смотреть на RUTUBE",className:cl()(oB,n),target:"_blank",rel:"noreferrer noopener"},r),st.createElement("span",{className:sB},"Смотреть на"),st.createElement(aB,{className:lB}))})),dB=lc((()=>{const[e,t]=(0,st.useState)(!0),{isShowControls:n,url:r,pause:i,isShowWORButton:a,counterHelper:o}=Rc("IHighlightRutubePlugin"),s=(0,st.useCallback)((()=>{t(!1)}),[]),l=(0,st.useCallback)((()=>{null==o||o.get("mainWatchOnRutubeShow")(),null==o||o.get("mainWatchOnRutubeShowOld")()}),[]);return e&&a?st.createElement(cB,ll({onShow:l,onClick:()=>{null==o||o.get("mainWatchOnRutubeClick")({clickedUrl:r}),null==o||o.get("mainWatchOnRutubeClickOld")({clickedUrl:r}),i()}},zf,{onAnimationEnd:s,href:r,className:cl()(JF,{[nB]:n&&jc.isMobile,[eB]:jc.isMobile,[tB]:n,[rB]:e&&!jc.isMobile,[iB]:e&&jc.isMobile})})):null}));var hB,pB;let vB,mB,fB;new(pB=class extends Oo{constructor(e,t,n,r,i,a){super(),this.__counterHelper=void 0,this._watchData=e,this._data=t,this._controls=n,this._playback=r,this.trackingLinks=a,this.__counterHelper=i instanceof XF?i.counterHelper:void 0,this.pause=this.pause.bind(this)}get url(){return this.trackingLinks.generateTrackingLink({campaign:"main_logo"})}pause(){return this._playback.pause()}get isShowControls(){return this._controls.isShowControls}get isShowWORButton(){var e;return!(null===(e=this._data.appearance)||void 0===e||!e.show_logo_with_controls)&&this._watchData.watchTime>=15e3&&!this._controls.isControlsForcedHidden}get counterHelper(){return this.__counterHelper}},[fB,vB]=en(pB,[To({implement:"IHighlightRutubePlugin",ctor_args:["IStatisticWatchTimePlugin","IDataPlugin","IControlsPlugin","IPlayback","IStatisticState","ITrackingLinksPlugin"]})],[],0,void 0,Oo).c,mB=pB,(hB=class extends jo{constructor(){super(fB),this.HighlightRutube=dB,vB()}})[mB]=void 0,hB);class _B extends ZA{getPlaceholders(){return super.getPlaceholders().concat([{names:["{{id_website}}"],selector:e=>{var t,n;return null!==(t=null===(n=Pk(e).params)||void 0===n?void 0:n.idWebsite)&&void 0!==t?t:""}},{names:["{{id_distribution}}"],selector:e=>{var t,n;return null!==(t=null===(n=Pk(e).params)||void 0===n?void 0:n.idDistribution)&&void 0!==t?t:""}}])}}function gB(e,t){const{width:n,height:r}=e.canvas,{videoHeight:i,videoWidth:a}=t,o=Math.max(n/a,r/i),s=n/o,l=r/o,u=.5*(a-s),c=.5*(i-l);e.drawImage(t,s,l,u,c,0,0,n,r)}async function yB(e,t){const n=document.createElement("canvas"),r=n.getContext("2d"),i=e.videoWidth,a=e.videoHeight;if(!r)return console.info("canvas.getContext(2d) === null"),Promise.reject("canvas.getContext(2d) === null");if(n.width=e.offsetWidth,n.height=e.offsetHeight,i<=a){r.filter="brightness(30%)",gB(r,e),r.filter="brightness(100%)";const t=i/a*n.height;r.drawImage(e,n.width/2-t/2,0,t,n.height)}else gB(r,e);const o=(e=>{try{let t;t=-1!==e.split(",")[0].indexOf("base64")?window.atob(e.split(",")[1]):decodeURI(e.split(",")[1]);const n=e.split(",")[0].split(":")[1].split(";")[0],r=[];for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return new window.Blob([new Uint8Array(r)],{type:n})}catch(e){return new window.Blob}})(n.toDataURL("image/jpeg",.7)),s=new FormData;s.append("file",o);const l=await(async(e,t)=>{const n=await fetch(`/api/video/${e}/thumbnail/`,{method:"POST",body:t});return await n.json()})(t,s);return null==l?void 0:l.thumbnail_url}const bB=()=>st.createElement("svg",{width:"220px",height:"150px",viewBox:"0 0 220 150",xmlns:"http://www.w3.org/2000/svg"},st.createElement("path",{fill:"red",stroke:"red",strokeWidth:"1",transform:"scale(1,-1) translate(0,-150)",d:" M112.730712890625 55.846142578125C113.76005859375 54.875830078125 114.40107421875 53.503125 114.40107421875 51.980712890625S113.760205078125 49.085595703125 112.733349609375 48.1177734375L112.730712890625 48.115283203125C111.715576171875 47.13603515625 110.33203125 46.532666015625 108.807568359375 46.532666015625S105.89970703125 47.13603515625 104.8828125 48.11689453125L80.769140625 70.03828125C79.76923828125 71.02265625 79.149755859375 72.3908203125 79.149755859375 73.9037109375S79.76923828125 76.784765625 80.768408203125 77.768408203125L80.769140625 77.769140625C81.79541015625 78.722900390625 83.175439453125 79.308251953125 84.69228515625 79.308251953125S87.58916015625 78.722900390625 88.6189453125 77.765771484375z M114.346142578125 49.6154296875C112.730712890625 47.077001953125 110.07685546875 48.230859375 107.422998046875 49.6154296875V49.6154296875C105.666357421875 50.53681640625 104.488623046875 52.34765625 104.488623046875 54.433740234375C104.488623046875 55.662890625 104.8974609375 56.79638671875 105.586669921875 57.705908203125L133.96142578125 101.884716796875C134.998095703125 103.522265625 136.8 104.59365234375 138.852099609375 104.59365234375C139.89609375 104.59365234375 140.875341796875 104.316357421875 141.720263671875 103.83134765625L141.692138671875 103.846142578125C143.337451171875 102.894140625 144.4265625 101.14248046875 144.4265625 99.1365234375C144.4265625 98.106005859375 144.13916015625 97.142724609375 143.640087890625 96.322265625z M208.3845703125 150H10.846142578125C10.56357421875 150.028564453125 10.23544921875 150.04482421875 9.903515625 150.04482421875C4.423095703125 150.04482421875 -0.01962890625 145.602099609375 -0.01962890625 140.1216796875C-0.01962890625 139.902978515625 -0.01259765625 139.685888671875 0.001318359375 139.470556640625L-0.000146484375 10.03828125C-0.010107421875 9.87451171875 -0.0158203125 9.68291015625 -0.0158203125 9.49013671875C-0.0158203125 4.20087890625 4.271923828125 -0.08671875 9.56103515625 -0.08671875C10.014111328125 -0.08671875 10.460009765625 -0.055224609375 10.89638671875 0.00556640625L208.384423828125 -0.000146484375C208.77041015625 -0.055224609375 209.216162109375 -0.08671875 209.669384765625 -0.08671875C214.958642578125 -0.08671875 219.246240234375 4.201025390625 219.246240234375 9.49013671875C219.246240234375 9.68291015625 219.24052734375 9.87451171875 219.229248046875 10.064501953125L219.230419921875 139.499853515625C219.24287109375 139.6857421875001 219.24990234375 139.90283203125 219.24990234375 140.1216796875C219.24990234375 145.602099609375 214.807177734375 150.04482421875 209.3267578125 150.04482421875C208.99482421875 150.04482421875 208.66669921875 150.028564453125 208.34326171875 149.996630859375zM150.69228515625 138.461572265625H173.07685546875V126.92314453125H150.922998046875zM161.538427734375 115.3845703125V34.615283203125H57.69228515625V115.3845703125zM92.30771484375 138.461572265625H126.92314453125V126.92314453125H92.30771484375zM47.07685546875 138.461572265625H69.230712890625V126.92314453125H47.07685546875zM46.153857421875 34.6154296875H11.538427734375V115.384716796875H46.153857421875zM69.230712890625 11.538427734375H47.07685546875V23.07685546875H69.230712890625zM126.92314453125 11.538427734375H92.30771484375V23.07685546875H126.92314453125zM173.07685546875 11.538427734375H150.922998046875V23.07685546875H173.07685546875zM207.69228515625 34.6154296875H173.07685546875V115.384716796875H207.69228515625z"})),EB="snapshot-button-module__wrapperSnapshot___tjQ6b",wB=lc((()=>{const{sendSnapshot:e,blackRabbit:t}=Rc("ISnapshotPlugin");if(t)return st.createElement("button",{type:"button",className:EB,onClick:()=>{e()}},st.createElement(bB,null))}));var SB,CB;let kB,AB,PB;new(CB=class extends Oo{constructor(e,t){super(),this._playback=e,this._playOptions=t,this.sendSnapshot=this.sendSnapshot.bind(this)}get blackRabbit(){var e;return null===(e=this._playOptions)||void 0===e?void 0:e.black_rabbit}sendSnapshot(){var e;return null!==(e=this._playOptions)&&void 0!==e&&e.video_id?yB(this._playback.player,this._playOptions.video_id):null}},[PB,kB]=en(CB,[To({implement:"ISnapshotPlugin",ctor_args:["IPlayback","IDataPlugin"]})],[],0,void 0,Oo).c,AB=CB,(SB=class extends jo{constructor(){super(PB),this.SendSnapshotButton=wB,kB()}})[AB]=void 0,SB);const IB=()=>Rc("IStartScreenPlugin"),TB="background-image-module__poster___cOxTl",RB=lc((()=>{const{thumbnailUrl:e,title:t,playerWidth:n,play:r}=IB();if(e)return st.createElement(rE,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:e,className:TB,playerWidth:n,alt:t,onClick:()=>{r()}})})),xB="play-button-module__controlBtn___g38Bi",LB="play-button-module__controlBtnStartScreen___bGXZV",OB="play-button-module__startScreen___mHIFK",NB=lc((()=>{const{color:e}=If(),t=IB();return st.createElement("div",{className:cl()(xB,LB)},st.createElement(PS,{action:"play",bgColor:e,withBg:!0,big:!0,onClick:()=>{t.play()},className:"front-control",tooltipDisabled:!0,wrapperClassName:OB}))})),MB="start-screen-module__startScreenWrapper___jRKa_",DB=lc((()=>{const{isShowStartScreen:e,videoRedirectUrl:t,needToShowLogo:n,counterHelper:r}=IB(),i=(0,st.useCallback)((()=>{null==r||r.get("mainWatchOnRutubeShow")(),null==r||r.get("mainWatchOnRutubeShowOld")()}),[]);return e?st.createElement("div",{className:cl()(MB),"data-testid":"start-screen"},st.createElement(RB,null),n&&st.createElement(cB,{href:t,onClick:()=>{null==r||r.get("mainWatchOnRutubeClick")({clickedUrl:t}),null==r||r.get("mainWatchOnRutubeClickOld")({clickedUrl:t})},onShow:i}),st.createElement(NB,null)):null}));var FB,BB;let HB,VB,UB;new(BB=class extends Oo{constructor(e,t,n,r,i){super(),this.__data=void 0,this.__playbackPlugin=void 0,this.__playerSize=void 0,this.__counterHelper=void 0,this.trackingLinks=i,this.__data=e,this.__playbackPlugin=t,this.__playerSize=n,this.__counterHelper=r instanceof XF?r.counterHelper:void 0,this.play=this.play.bind(this)}play(){return this.__playbackPlugin.play()}get videoUrl(){var e,t;return null!==(e=null===(t=this.__data.data)||void 0===t?void 0:t.video_url)&&void 0!==e?e:""}get needToShowLogo(){var e;return Boolean(null===(e=this.__data.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_logotype)}get videoRedirectUrl(){return this.trackingLinks.generateTrackingLink({campaign:"main_logo"})}get title(){return this.__data.title||""}get thumbnailUrl(){return this.__data.poster||""}get playerWidth(){var e;return null===(e=this.__playerSize.size)||void 0===e?void 0:e.width}get wasStarted(){return this.__playbackPlugin.wasStarted}get isShowStartScreen(){var e;return Boolean(this.thumbnailUrl)&&!this.wasStarted&&!(null!==(e=this.__data.appearance)&&void 0!==e&&e.auto_start)}get counterHelper(){return this.__counterHelper}},[UB,HB]=en(BB,[To({implement:"IStartScreenPlugin",ctor_args:["IDataPlugin","IPlayback","IPlayerSizePlugin","IStatisticState","ITrackingLinksPlugin"]})],[],0,void 0,Oo).c,VB=BB,(FB=class extends jo{constructor(){super(UB),this.StartScreen=DB,HB()}})[VB]=void 0,FB);const jB=function(e,t){function n(t,n){const r=Object.assign({onInitStarted:Function.prototype,onInitCompleted:Function.prototype},null==e?void 0:e.hooks);function i(e,n){const r=function(e){const t=st.useRef();return st.useEffect((()=>{t.current=e})),t.current}(e);st.useEffect((()=>{var i;r&&n&&(null===(i=t.update)||void 0===i||i.call(t,n.resolve,e,r))}),[e])}const a=st.memo((function(e){const a=function(e){const[n,i]=st.useState();return st.useEffect((()=>{r.onInitStarted(e);const n=new Mo;return t.create(n,e),(async()=>{try{await n.boot(),i(n)}catch(e){console.error(e)}})(),r.onInitCompleted(e),()=>{(async()=>{try{await n.shutdown()}catch(e){console.error(e)}})()}}),[]),n}(e);return i(e,a),a?st.createElement(Ic.Provider,{value:a},st.createElement(n)):null}));return a.displayName=`${t.name}PlayerPluginContainer`,a}return e&&t?n(e,t):e&&!t?function(t){return n(e,t)}:!e&&t?function(e){return n(e,t)}:"makeDiRoot: invalid arguments"}({name:"EmbedPlayer",create:function(e,t){e.registerConstant("Resolve",e.resolve).registerConstant("InitialProps",Ft(Ft({},t),{},{ts:Date.now()})).registerConstant("StatisticNamespace","Raichu Metrics").registerConstant("ExternalEventsNamespace","player").registerConstant("IsEmbed",!0).registerConstant("IsPreview",!1).registerConstant("LoggerNamespace","player-embed").registerPlugin(bf).registerPlugin(Cf).registerPlugin(Pf).registerPlugin(E_).registerPlugin(Z_).registerPlugin(ld).registerPlugin(hd).registerPlugin(UF).registerPlugin(zF).registerPlugin(_B).registerPlugin(KF).registerPlugin(xk).registerPlugin(Sd).registerPlugin(Uo).registerPlugin(cw).registerPlugin(zT).registerPlugin(Td).registerPlugin(kO).registerPlugin(nh).registerPlugin(VT).registerPlugin(vw).registerPlugin(oh).registerPlugin(PR).registerPlugin(uC).registerPlugin(ch).registerPlugin(zh).registerPlugin(ST).registerPlugin(SA).registerPlugin(fO).registerPlugin(Wm).registerPlugin(Sy).registerPlugin(sO).registerPlugin($P).registerPlugin(aM).registerPlugin(BO).registerPlugin(ZN).registerPlugin(tM).registerPlugin(XL).registerPlugin(UB).registerPlugin(Vk).registerPlugin(XF).registerPlugin(AD).registerPlugin(qh).registerPlugin(EF).registerPlugin(ep).registerPlugin(Np).registerPlugin(uT).registerPlugin(qA).registerPlugin(Zk).registerPlugin(yT).registerPlugin(xT).registerPlugin(UA).registerPlugin(Cb).registerPlugin(GI).registerPlugin(nT).registerPlugin(nS).registerPlugin(GD).registerPlugin(fB).registerPlugin(jM).registerPlugin(DD).registerPlugin(PB).registerPlugin(iF).registerConstant("PlayerVersion","2.52.0-embed")},update:function(e,t){const n=e("IPlayerConfigPlugin"),r=n.get("videoId");ch.assertInstance(n),r!==t.videoId&&n.set("ts",Date.now()),n.setBulk([{key:"videoId",value:t.videoId},{key:"userId",value:t.userId}])},hooks:{onInitStarted:e=>{let{videoId:t}=e;Fp.emit(Nh.INIT,{videoId:t,clientId:Me()})},onInitCompleted:e=>{let{videoId:t}=e;Fp.emit(Nh.READY,{videoId:t,clientId:Me()})}}}),WB=jB((()=>{var e;return st.createElement(Zt,{forceThemeId:"dark2021"},st.createElement(IF,{playbackComponent:Cb.Playback,controlsComponent:kk.Controls,settingsComponent:GI.VideoSettings,captionsButtonComponent:E_.CaptionButton,captionsComponent:E_.Captions,endScreenComponent:cw.EndScreen,pauseScreenComponent:uC.PauseScreen,seasonsFullScreenComponent:ZN.SeasonsFullScreen,seasonsWidgetComponent:ZN.SeasonsWidget,stubComponent:Np.StubPluginView,infoLayerComponent:nh.InfoLayerPluginView,advertComponent:bf.Advert,contextMenuComponent:ld.ContextMenu,video360Component:jM.Video360,activitiesComponent:iF.Activities,statsForNerdsComponent:EF.StatsForNerds,notificationsComponent:AR.Notifications,sharePopupComponent:XL.SharePopup,shareButtonComponent:XL.ShareButton,counterHelper:null===(e=Dv())||void 0===e?void 0:e.counterHelper,channelSubscriptionComponent:UF.ChannelSubscription,chaptersButtonComponent:Z_.ChapterButton,startScreenComponent:UB.StartScreen,highlightRutube:fB.HighlightRutube,posterComponent:sO.Poster,snapshotButton:PB.SendSnapshotButton}))})),zB=()=>{const[e,t]=(0,st.useState)(Tt.findIndex((e=>document.referrer.indexOf(e)>=0))>=0),n=(()=>{const[e,t]=(0,st.useState)(Lt());return(0,st.useEffect)((()=>{const e=e=>{var n;if("string"!=typeof e.data)return;let r;try{r=JSON.parse(e.data)}catch(e){return}if("player:changeVideo"!==(null===(n=r)||void 0===n?void 0:n.type))return;const{id:i,params:a}=r.data,{hash:o}=a||{};t(i||o)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),e})(),r=()=>{t(!1)};return n?e?st.createElement(Mt,{handleStubPlay:r,backgroundImage:n?`/api/video/${n}/thumbnail/?redirect=1`:""}):st.createElement(WB,{videoId:n}):null};!function(e,t,n,r,i,a,o){e[r]=e[r]||[],null===(a=e[r])||void 0===a||a.push({"gtm.start":(new Date).getTime(),event:"gtm.js"});const s=t.getElementsByTagName(n)[0],l=t.createElement(n);l.async=!0,l.src="https://www.googletagmanager.com/gtm.js?id=GTM-PS8LV5W",null===(o=s.parentNode)||void 0===o||o.insertBefore(l,s)}(window,document,"script","dataLayer"),console.info("Version: 2.52.0-embed");const $B=document.getElementById("app");me().catch((e=>console.info("initFingerprint catch",e))).then((()=>{if($B){(0,lt.H)($B).render(st.createElement(zB,null))}})).catch((e=>console.info("Embed init failed",e)))})()})();