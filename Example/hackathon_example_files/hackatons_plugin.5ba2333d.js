(self.webpackChunk=self.webpackChunk||[]).push([[6374],{147231:function(e,a,t){var l,i=t(619755);(l=i).fn.hackatons=function(e){var a=1316201,t=l(this),i=void 0!==e.regions&&e.regions!==[]?e.regions:[a],n=void 0!==e.pageSize?e.pageSize:null,o=void 0===e.showMoreButton||e.showMoreButton,d=1,s=void 0!==e.lang?e.lang:"ru",r=void 0!==e.typeTaskDefault?[e.typeTaskDefault]:[],u=void 0!==e.competitionGuids?e.competitionGuids:[],c="",m="",g="",h="",p="",v="",f=!1,y=null,k=!1,B=null,T=null,C=null,M=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];icHelper.loaderSpin("#"+t.attr("id"));var a=Routing.generate("getHackatonsListAjax",{page:d,pageSize:n,isEnglish:"en"===s,typeTasks:JSON.stringify(r),competitionGuids:JSON.stringify(u)});l.ajax({method:"GET",global:!0,url:a,dataType:"json"}).done((function(a){a.isAuthUser&&(f=a.isAuthUser),a.team&&(y=a.team.guid,k=a.team.claims&&a.team.claims.length>0);var t="";l.each(a.hackatons,(function(e,l){var i=parseInt(l.order);i<10&&(i="0"+i);var n=null;"undefined"!==l.popularity&&(n=l.popularity>=24.11?B:l.popularity>=14.11?T:C);var o={guid:l.guid,name:l.name,branch:l.branchName,styleBranch:l.styleBranch,company:l.companyName,companyLogo:l.companyLogo?l.companyLogo.originalUrl:null,showButtonJoin:l.showButtonJoin,isAuthUser:f,image:l.image?l.image.originalUrl:null,popularity:n,isEnglish:l.isEnglish,teamGuid:y,id:i,url:!0===f?Routing.generate("getHackatonLctItemWithLang",{hackatonGuid:l.guid,language:s}):Routing.generate("getHackatonLctItemWithLangUnauth",{hackatonGuid:l.guid,language:s}),imageCard:l.image?l.image.originalUrl:null,preSetParams:l.preSetParams,measureTask:a.measureTask};t+=mustache.render(m,o)})),!0===a.isShowLoadMoreButton&&!0===o&&(t+=mustache.render(g)),e?l("#hackatonsGrid").append(t):l("#hackatonsGrid").html(t)})).always((function(){icHelper.removeLoader()}))};l(document).ready((function(){i[0]!==a||l("body").hasClass("lct2024")||l("body").addClass("lct2024"),l.ajax({method:"GET",global:!0,url:Routing.generate("getHackatonsListPluginMustacheTemplate",{regionId:i[0],competitionGuid:u.length>0?u[0]:null,lang:s}),dataType:"xml"}).done((function(e){c=e.getElementById("gridTemplate").firstChild.nodeValue,m=e.getElementById("hackatonCardTemplate").firstChild.nodeValue,g=e.getElementById("loadMoreButtonTemplate").firstChild.nodeValue,h=e.getElementById("modalHasNoTeamTemplate").firstChild.nodeValue,p=e.getElementById("modalHasMeasureRequestTemplate").firstChild.nodeValue,v=e.getElementById("modalDetailsTemplate")?e.getElementById("modalDetailsTemplate").firstChild.nodeValue:null,B=e.getElementById("svgPopularityHigh")?e.getElementById("svgPopularityHigh").firstChild.nodeValue:null,T=e.getElementById("svgPopularityMedium")?e.getElementById("svgPopularityMedium").firstChild.nodeValue:null,C=e.getElementById("svgPopularityLow")?e.getElementById("svgPopularityLow").firstChild.nodeValue:null,t.replaceWith(c),M()})).fail((function(){console.log("Unable to load mustache template")})),l(document).on("click",".loadMore",(function(){return d++,l(this).parent("div").remove(),M(),!1})),l(document).on("click",".typeTasks",(function(){if(l.each(l(".typeTasks"),(function(e){l(this).removeClass("active")})),l(this).addClass("active"),r=[],l.each(l(".typeTasks"),(function(e,a){l(this).hasClass("active")&&r.push(l(this).data("id"))})),M(!1),"1321904"===l(this).data("id").toString()&&i[0]===a){var e="ru"===s?"Граждане РФ":"Russian citizens",t="ru"===s?"Русский":"Russian";l("#citizenBlock").html(e),l("#languageBlock").html(t)}else if(i[0]===a){var n="ru"===s?"Граждане РФ и других стран мира":"Russian citizens and foreigners",o="ru"===s?"Русский и английский":"Russian and English";l("#citizenBlock").html(n),l("#languageBlock").html(o)}return!1})),l(document).on("click",".addMeasureRequest",(function(){var e=l(this).parent("div").find(".measureBundleButton");if(y&&!k)icHelper.loaderSpin("body"),l.ajax({method:"GET",url:Routing.generate("teamsMeasureRequestFormAsync",{teamGuid:l(this).parent(".addMesReq").data("browse"),taskGuid:l(this).parent(".addMesReq").data("id"),regions:JSON.stringify(i),lang:s}),statusCode:{200:function(e){icHelper.showModal(e,"Выбери задачу",null,"modal800 modal_userAddTask"),icHelper.removeLoader()},206:function(a){console.log(a),icHelper.removeLoader(),e.trigger("click")}}}).fail((function(e,a){icHelper.removeLoader(),icHelper.showModal('<div class="div_allModalContent"><div class="div_allInfoModal"><div class="div_img noBlurBkg"><img src="/build/img/alarmLct.png"></div><div class="div_title">'+e.responseJSON.error+"</div></div></div>",null,null,"modal800 modalAllLct")}));else if(k){var a=mustache.render(p);icHelper.showModalAlert(null,'<div class="div_allModalContent"><div class="div_allInfoModal"><div class="div_title">'+a+"</div></div></div>","modal560 modalAllLct")}else{var t=mustache.render(h,{linkAddCommand:Routing.generate("ltcCommandAdd")});icHelper.showModalAlert(null,'<div class="div_allModalContent"><div class="div_allInfoModal"><div class="div_title">'+t+"</div></div></div>","modal560 modalAllLct")}return!1})),l(document).on("click",".details",(function(){if(!f&&i[0]!==a){icHelper.loaderSpin("body");var e=l(this).attr("href");return l.ajax({method:"GET",global:!0,url:e,dataType:"json"}).done((function(e){if("undefined"!=e.data){var a=mustache.render(v,{modalTitle:e.data.name,modalBody:e.data.description,branch:e.data.branch.name,styleBranch:e.data.styleBranch,authUrl:Routing.generate("getHackatonLctItem",{hackatonGuid:e.data.guid})});icHelper.showModalAlert(a,"","modal740 modal_preview")}})).always((function(){icHelper.removeLoader()})),!1}}))}))}}},function(e){e.O(0,[9755],(function(){return a=147231,e(e.s=a);var a}));e.O()}]);